{"pr_number": 16691, "pr_title": "Improve code coverage for Azure Certificates", "pr_author": "ksatwara", "pr_createdAt": "2020-10-22T17:27:27Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16691", "timeline": [{"oid": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "message": "Improve code coverage for Azure Certificates", "committedDate": "2020-10-22T17:18:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ2MDk1Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r510460953", "body": "We prefer to use all the explicit imports for our SDKs instead of the asterisk(`*`) notation.", "bodyText": "We prefer to use all the explicit imports for our SDKs instead of the asterisk(*) notation.", "bodyHTML": "<p dir=\"auto\">We prefer to use all the explicit imports for our SDKs instead of the asterisk(<code>*</code>) notation.</p>", "author": "vcolin7", "createdAt": "2020-10-22T21:13:32Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -9,19 +9,10 @@\n import com.azure.core.http.HttpClient;\n import com.azure.core.http.HttpPipeline;\n import com.azure.core.http.rest.PagedIterable;\n+import com.azure.core.util.Context;\n import com.azure.core.util.polling.PollResponse;\n import com.azure.core.util.polling.SyncPoller;\n-import com.azure.security.keyvault.certificates.models.CertificateContact;\n-import com.azure.security.keyvault.certificates.models.CertificateContentType;\n-import com.azure.security.keyvault.certificates.models.CertificateIssuer;\n-import com.azure.security.keyvault.certificates.models.CertificateOperation;\n-import com.azure.security.keyvault.certificates.models.CertificatePolicy;\n-import com.azure.security.keyvault.certificates.models.CertificateProperties;\n-import com.azure.security.keyvault.certificates.models.DeletedCertificate;\n-import com.azure.security.keyvault.certificates.models.IssuerProperties;\n-import com.azure.security.keyvault.certificates.models.KeyVaultCertificate;\n-import com.azure.security.keyvault.certificates.models.KeyVaultCertificateWithPolicy;\n-import com.azure.security.keyvault.certificates.models.MergeCertificateOptions;\n+import com.azure.security.keyvault.certificates.models.*;", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ2MTAyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r510461028", "body": "Use explicit imports.", "bodyText": "Use explicit imports.", "bodyHTML": "<p dir=\"auto\">Use explicit imports.</p>", "author": "vcolin7", "createdAt": "2020-10-22T21:13:40Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -30,17 +21,9 @@\n import java.security.cert.CertificateException;\n import java.security.cert.X509Certificate;\n import java.time.Duration;\n-import java.util.Arrays;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.List;\n-import java.util.Map;\n-\n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertFalse;\n-import static org.junit.jupiter.api.Assertions.assertNotNull;\n-import static org.junit.jupiter.api.Assertions.assertTrue;\n-import static org.junit.jupiter.api.Assertions.fail;\n+import java.util.*;\n+\n+import static org.junit.jupiter.api.Assertions.*;", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEyMjU0OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r513122548", "body": "I would rename this to `listPropertiesOfCertificates` since that is the method name being called.", "bodyText": "I would rename this to listPropertiesOfCertificates since that is the method name being called.", "bodyHTML": "<p dir=\"auto\">I would rename this to <code>listPropertiesOfCertificates</code> since that is the method name being called.</p>", "author": "vcolin7", "createdAt": "2020-10-28T01:15:35Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -437,6 +429,28 @@ public void listCertificates(HttpClient httpClient, CertificateServiceVersion se\n         });\n     }\n \n+\n+    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n+    @MethodSource(\"getTestParameters\")\n+    public void listPropertyOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion) {", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEyMzE0OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r513123148", "body": "Please refer to my comments on `CertificateClient` on the naming this method and `listPropertyOfCertificates`.", "bodyText": "Please refer to my comments on CertificateClient on the naming this method and listPropertyOfCertificates.", "bodyHTML": "<p dir=\"auto\">Please refer to my comments on <code>CertificateClient</code> on the naming this method and <code>listPropertyOfCertificates</code>.</p>", "author": "vcolin7", "createdAt": "2020-10-28T01:17:49Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -241,10 +231,18 @@ void getCertificateOperationRunner(Consumer<String> testRunner) {\n     @Test\n     public abstract void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n \n+\n     void cancelCertificateOperationRunner(Consumer<String> testRunner) {\n         testRunner.accept(generateResourceId(\"testCertificate11\"));\n     }\n \n+    @Test\n+    public abstract void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n+\n+    void cancelCertificateCreationOperationRunner(Consumer<String> testRunner) {\n+        testRunner.accept(generateResourceId(\"testCertificate11\"));\n+    }", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEyMzUxNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r513123517", "body": "I don't know if we need different runners for overloads of the same method if they do the same thing. I guess it's ok to leave it as is but may be a good thing to consider in a future revision.", "bodyText": "I don't know if we need different runners for overloads of the same method if they do the same thing. I guess it's ok to leave it as is but may be a good thing to consider in a future revision.", "bodyHTML": "<p dir=\"auto\">I don't know if we need different runners for overloads of the same method if they do the same thing. I guess it's ok to leave it as is but may be a good thing to consider in a future revision.</p>", "author": "vcolin7", "createdAt": "2020-10-28T01:19:22Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -283,6 +280,19 @@ void listCertificatesRunner(Consumer<List<String>> testRunner) {\n         testRunner.accept(certificates);\n     }\n \n+    @Test\n+    public abstract void listPropertyOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n+\n+    void listPropertyOfCertificatesRunner(Consumer<List<String>> testRunner){", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzEyNDgwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r513124806", "body": "We probably should simulate an actual scenario like firing the creation of a certificate and then cancelling the operation like the above method does. Of course, in this case we would use the `cancelCertificateOperation` method instead of cancelling through the poller just like you did here.", "bodyText": "We probably should simulate an actual scenario like firing the creation of a certificate and then cancelling the operation like the above method does. Of course, in this case we would use the cancelCertificateOperation method instead of cancelling through the poller just like you did here.", "bodyHTML": "<p dir=\"auto\">We probably should simulate an actual scenario like firing the creation of a certificate and then cancelling the operation like the above method does. Of course, in this case we would use the <code>cancelCertificateOperation</code> method instead of cancelling through the poller just like you did here.</p>", "author": "vcolin7", "createdAt": "2020-10-28T01:23:56Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -364,6 +347,15 @@ public void cancelCertificateOperation(HttpClient httpClient, CertificateService\n         });\n     }\n \n+    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n+    @MethodSource(\"getTestParameters\")\n+    public void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n+        createCertificateClient(httpClient, serviceVersion);\n+        cancelCertificateCreationOperationRunner((certName) -> {\n+            client.cancelCertificateOperation(certName);\n+        });", "originalCommit": "f2d41c1c3bf64c34d379e9104e9607dc3cf8e8f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7f28800e5b2418f1d7950d7cbff06ce7e27f339e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7f28800e5b2418f1d7950d7cbff06ce7e27f339e", "message": "fix: fix Azure Certificates", "committedDate": "2020-10-28T08:45:39Z", "type": "commit"}, {"oid": "c3e69b8ac75923c28d606443164825715ae3fee0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c3e69b8ac75923c28d606443164825715ae3fee0", "message": "fix: fix Azure Certificates", "committedDate": "2020-10-28T10:05:14Z", "type": "commit"}, {"oid": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d3a656748d79e73bc4c4d4e01f490a118a2682b9", "message": "fix: fix checkstyle in Azure Certificate", "committedDate": "2020-10-30T10:28:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxNTg4OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515415889", "body": "Please refer to my comment in `CertificateClient` about renaming this method.\r\n```suggestion\r\n    public abstract void listPropertiesOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion);\r\n```", "bodyText": "Please refer to my comment in CertificateClient about renaming this method.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public abstract void listPropertyOfCertificatesThroughPoller(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n          \n          \n            \n                public abstract void listPropertiesOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion);", "bodyHTML": "<p dir=\"auto\">Please refer to my comment in <code>CertificateClient</code> about renaming this method.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">abstract</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertyOfCertificatesThroughPoller</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">abstract</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertiesOfCertificates</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vcolin7", "createdAt": "2020-10-30T22:56:37Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -283,6 +299,19 @@ void listCertificatesRunner(Consumer<List<String>> testRunner) {\n         testRunner.accept(certificates);\n     }\n \n+    @Test\n+    public abstract void listPropertyOfCertificatesThroughPoller(HttpClient httpClient, CertificateServiceVersion serviceVersion);", "originalCommit": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxNjAyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515416024", "body": "Please refer to my comment in `CertificateClient` about renaming this method.\r\n```suggestion\r\n    void listPropertiesOfCertificatesRunner(Consumer<List<String>> testRunner) {\r\n```", "bodyText": "Please refer to my comment in CertificateClient about renaming this method.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void listPropertyOfCertificatesRunner(Consumer<List<String>> testRunner) {\n          \n          \n            \n                void listPropertiesOfCertificatesRunner(Consumer<List<String>> testRunner) {", "bodyHTML": "<p dir=\"auto\">Please refer to my comment in <code>CertificateClient</code> about renaming this method.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertyOfCertificatesRunner</span>(<span class=\"pl-k\">Consumer&lt;<span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span>&gt;</span> testRunner) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertiesOfCertificatesRunner</span>(<span class=\"pl-k\">Consumer&lt;<span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span>&gt;</span> testRunner) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vcolin7", "createdAt": "2020-10-30T22:57:13Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -283,6 +299,19 @@ void listCertificatesRunner(Consumer<List<String>> testRunner) {\n         testRunner.accept(certificates);\n     }\n \n+    @Test\n+    public abstract void listPropertyOfCertificatesThroughPoller(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n+\n+    void listPropertyOfCertificatesRunner(Consumer<List<String>> testRunner) {", "originalCommit": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxNzM2NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515417365", "body": "Please refer to my comments on `CertificateClient` renaming this method.\r\n```suggestion\r\n    @Test\r\n    public abstract void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\r\n\r\n    void cancelCertificateOperationRunner(Consumer<String> testRunner) {\r\n        testRunner.accept(generateResourceId(\"testCertificate11\"));\r\n    }\r\n```", "bodyText": "Please refer to my comments on CertificateClient renaming this method.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Test\n          \n          \n            \n                public abstract void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n          \n          \n            \n            \n          \n          \n            \n                void cancelCertificateCreationOperationRunner(Consumer<String> testRunner) {\n          \n          \n            \n                    testRunner.accept(generateResourceId(\"testCertificate11\"));\n          \n          \n            \n                }\n          \n          \n            \n                @Test\n          \n          \n            \n                public abstract void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n          \n          \n            \n            \n          \n          \n            \n                void cancelCertificateOperationRunner(Consumer<String> testRunner) {\n          \n          \n            \n                    testRunner.accept(generateResourceId(\"testCertificate11\"));\n          \n          \n            \n                }", "bodyHTML": "<p dir=\"auto\">Please refer to my comments on <code>CertificateClient</code> renaming this method.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">@Test</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">abstract</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateCreationOperation</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateCreationOperationRunner</span>(<span class=\"pl-k\">Consumer&lt;<span class=\"pl-smi\">String</span>&gt;</span> testRunner) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        testRunner<span class=\"pl-k\">.</span>accept(generateResourceId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>testCertificate11<span class=\"pl-pds\">\"</span></span>));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    }</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">@Test</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">abstract</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateOperation</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateOperationRunner</span>(<span class=\"pl-k\">Consumer&lt;<span class=\"pl-smi\">String</span>&gt;</span> testRunner) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        testRunner<span class=\"pl-k\">.</span>accept(generateResourceId(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>testCertificate11<span class=\"pl-pds\">\"</span></span>));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    }</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vcolin7", "createdAt": "2020-10-30T23:03:16Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTestBase.java", "diffHunk": "@@ -241,10 +250,18 @@ void getCertificateOperationRunner(Consumer<String> testRunner) {\n     @Test\n     public abstract void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n \n+\n     void cancelCertificateOperationRunner(Consumer<String> testRunner) {\n         testRunner.accept(generateResourceId(\"testCertificate11\"));\n     }\n \n+    @Test\n+    public abstract void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion);\n+\n+    void cancelCertificateCreationOperationRunner(Consumer<String> testRunner) {\n+        testRunner.accept(generateResourceId(\"testCertificate11\"));\n+    }", "originalCommit": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxNzg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515417845", "body": "We should rename this to `createCertificateOperation` and have the method above it be called `createCertificateOperationThroughPoller` or something like that, feels more descriptive of what both methods do.\r\n```suggestion\r\n    public void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\r\n        createCertificateClient(httpClient, serviceVersion);\r\n        cancelCertificateOperationRunner((certName) -> {\r\n```", "bodyText": "We should rename this to createCertificateOperation and have the method above it be called createCertificateOperationThroughPoller or something like that, feels more descriptive of what both methods do.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n          \n          \n            \n                    createCertificateClient(httpClient, serviceVersion);\n          \n          \n            \n                    cancelCertificateCreationOperationRunner((certName) -> {\n          \n          \n            \n                public void cancelCertificateOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n          \n          \n            \n                    createCertificateClient(httpClient, serviceVersion);\n          \n          \n            \n                    cancelCertificateOperationRunner((certName) -> {", "bodyHTML": "<p dir=\"auto\">We should rename this to <code>createCertificateOperation</code> and have the method above it be called <code>createCertificateOperationThroughPoller</code> or something like that, feels more descriptive of what both methods do.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateCreationOperation</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        createCertificateClient(httpClient, serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"x x-first x-last\">cancelCertificateCreationOperationRunner</span>((certName) <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">cancelCertificateOperation</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        createCertificateClient(httpClient, serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">cancelCertificateOperationRunner</span>((certName) <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vcolin7", "createdAt": "2020-10-30T23:05:11Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -364,6 +363,15 @@ public void cancelCertificateOperation(HttpClient httpClient, CertificateService\n         });\n     }\n \n+    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n+    @MethodSource(\"getTestParameters\")\n+    public void cancelCertificateCreationOperation(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n+        createCertificateClient(httpClient, serviceVersion);\n+        cancelCertificateCreationOperationRunner((certName) -> {", "originalCommit": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxODA0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515418042", "bodyText": "Also, please refer to this comment about the implementation of this test case.", "author": "vcolin7", "createdAt": "2020-10-30T23:05:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxNzg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQxODIzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16691#discussion_r515418234", "body": "I suggested the `throughPoller` suffix for the first `cancelCertificateOperation()`, since it actually uses the actual Poller object to cancel the operation. This suffix is not necessary here because we are simply calling `listPropertiesOfCertificates()`. I would still rename it to that exact name instead of having it deviate to `listPropertyOfCertificates()`.\r\n```suggestion\r\n    public void listPropertiesOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\r\n        createCertificateClient(httpClient, serviceVersion);\r\n        listPropertiesOfCertificatesRunner((certificates) -> {\r\n```", "bodyText": "I suggested the throughPoller suffix for the first cancelCertificateOperation(), since it actually uses the actual Poller object to cancel the operation. This suffix is not necessary here because we are simply calling listPropertiesOfCertificates(). I would still rename it to that exact name instead of having it deviate to listPropertyOfCertificates().\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void listPropertyOfCertificatesThroughPoller(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n          \n          \n            \n                    createCertificateClient(httpClient, serviceVersion);\n          \n          \n            \n                    listPropertyOfCertificatesRunner((certificates) -> {\n          \n          \n            \n                public void listPropertiesOfCertificates(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n          \n          \n            \n                    createCertificateClient(httpClient, serviceVersion);\n          \n          \n            \n                    listPropertiesOfCertificatesRunner((certificates) -> {", "bodyHTML": "<p dir=\"auto\">I suggested the <code>throughPoller</code> suffix for the first <code>cancelCertificateOperation()</code>, since it actually uses the actual Poller object to cancel the operation. This suffix is not necessary here because we are simply calling <code>listPropertiesOfCertificates()</code>. I would still rename it to that exact name instead of having it deviate to <code>listPropertyOfCertificates()</code>.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertyOfCertificatesThroughPoller</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        createCertificateClient(httpClient, serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"x x-first x-last\">listPropertyOfCertificatesRunner</span>((certificates) <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">listPropertiesOfCertificates</span>(<span class=\"pl-smi\">HttpClient</span> httpClient, <span class=\"pl-smi\">CertificateServiceVersion</span> serviceVersion) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        createCertificateClient(httpClient, serviceVersion);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">listPropertiesOfCertificatesRunner</span>((certificates) <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vcolin7", "createdAt": "2020-10-30T23:06:49Z", "path": "sdk/keyvault/azure-security-keyvault-certificates/src/test/java/com/azure/security/keyvault/certificates/CertificateClientTest.java", "diffHunk": "@@ -437,6 +445,28 @@ public void listCertificates(HttpClient httpClient, CertificateServiceVersion se\n         });\n     }\n \n+\n+    @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n+    @MethodSource(\"getTestParameters\")\n+    public void listPropertyOfCertificatesThroughPoller(HttpClient httpClient, CertificateServiceVersion serviceVersion) {\n+        createCertificateClient(httpClient, serviceVersion);\n+        listPropertyOfCertificatesRunner((certificates) -> {", "originalCommit": "d3a656748d79e73bc4c4d4e01f490a118a2682b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b1c16dda4c71e75d891a26703b81e061fc690d90", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b1c16dda4c71e75d891a26703b81e061fc690d90", "message": "fix Azure Certificate previous naming issue & removed cancel certificate method", "committedDate": "2020-11-02T13:25:14Z", "type": "commit"}]}