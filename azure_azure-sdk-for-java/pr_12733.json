{"pr_number": 12733, "pr_title": "Rename to support non text element references", "pr_author": "samvaity", "pr_createdAt": "2020-07-01T22:15:03Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12733", "timeline": [{"oid": "5957f6a4342a27a0ae851afccd556b8b93a75d64", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5957f6a4342a27a0ae851afccd556b8b93a75d64", "message": "update for includeFieldElement rename", "committedDate": "2020-07-01T22:13:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0ODcwNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448648705", "body": "docstring should be updated.\r\nI think we say:\r\n\"Contains the text, bounding box, and field elements for the field label.\"", "bodyText": "docstring should be updated.\nI think we say:\n\"Contains the text, bounding box, and field elements for the field label.\"", "bodyHTML": "<p dir=\"auto\">docstring should be updated.<br>\nI think we say:<br>\n\"Contains the text, bounding box, and field elements for the field label.\"</p>", "author": "kristapratico", "createdAt": "2020-07-01T22:29:26Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/models/FormField.java", "diffHunk": "@@ -34,24 +34,24 @@\n     /*\n      * The text value field..\n      */\n-    private final FieldText valueText;\n+    private final FieldData valueData;\n \n     /**\n      * Constructs a FormField object.\n      *\n      * @param confidence The confidence of the recognized field.\n-     * @param labelText The label text value for the field.\n+     * @param labelData The label text value for the field.", "originalCommit": "5957f6a4342a27a0ae851afccd556b8b93a75d64", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a5d929f470d01eba41316524ef7ef9a2c67310fa", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a5d929f470d01eba41316524ef7ef9a2c67310fa", "message": "update plural renaming", "committedDate": "2020-07-01T23:10:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4MzIyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448683226", "body": "typo, duplicate \"The the text, ...\"", "bodyText": "typo, duplicate \"The the text, ...\"", "bodyHTML": "<p dir=\"auto\">typo, duplicate \"The the text, ...\"</p>", "author": "mssfang", "createdAt": "2020-07-02T00:27:54Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/models/FormField.java", "diffHunk": "@@ -11,47 +11,28 @@\n @Immutable\n public final class FormField {\n \n-    /*\n-     * The confidence value of the field.\n-     */\n     private final float confidence;\n-\n-    /*\n-     * The label text of the field.\n-     */\n-    private final FieldText labelText;\n-\n-    /*\n-     * The name value of the field.\n-     */\n+    private final FieldData labelData;\n     private final String name;\n-\n-    /*\n-     * The value of the field.\n-     */\n     private final FieldValue fieldValue;\n-\n-    /*\n-     * The text value field..\n-     */\n-    private final FieldText valueText;\n+    private final FieldData valueData;\n \n     /**\n      * Constructs a FormField object.\n      *\n      * @param confidence The confidence of the recognized field.\n-     * @param labelText The label text value for the field.\n-     * @param name The name the field.\n-     * @param fieldValue The value of the field.\n-     * @param valueText The label value text for the field.\n+     * @param labelData The text, bounding box, and field elements for the field label.\n+     * @param name The name the field or label.\n+     * @param fieldValue The value of the recognized field.\n+     * @param valueData The the text, bounding box, and field elements for the field value.", "originalCommit": "a5d929f470d01eba41316524ef7ef9a2c67310fa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDc5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448684797", "body": "```suggestion\r\n     * @param valueData The text, bounding box, and field elements for the field value.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param valueData The the text, bounding box, and field elements for the field value.\n          \n          \n            \n                 * @param valueData The text, bounding box, and field elements for the field value.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@param</span> valueData <span class=\"pl-smi\">The</span> <span class=\"x x-first x-last\">the </span>text, bounding box, and field elements <span class=\"pl-k\">for</span> the field value.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@param</span> valueData <span class=\"pl-smi\">The</span> text, bounding box, and field elements <span class=\"pl-k\">for</span> the field value.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mssfang", "createdAt": "2020-07-02T00:34:12Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/models/FormField.java", "diffHunk": "@@ -11,47 +11,28 @@\n @Immutable\n public final class FormField {\n \n-    /*\n-     * The confidence value of the field.\n-     */\n     private final float confidence;\n-\n-    /*\n-     * The label text of the field.\n-     */\n-    private final FieldText labelText;\n-\n-    /*\n-     * The name value of the field.\n-     */\n+    private final FieldData labelData;\n     private final String name;\n-\n-    /*\n-     * The value of the field.\n-     */\n     private final FieldValue fieldValue;\n-\n-    /*\n-     * The text value field..\n-     */\n-    private final FieldText valueText;\n+    private final FieldData valueData;\n \n     /**\n      * Constructs a FormField object.\n      *\n      * @param confidence The confidence of the recognized field.\n-     * @param labelText The label text value for the field.\n-     * @param name The name the field.\n-     * @param fieldValue The value of the field.\n-     * @param valueText The label value text for the field.\n+     * @param labelData The text, bounding box, and field elements for the field label.\n+     * @param name The name the field or label.\n+     * @param fieldValue The value of the recognized field.\n+     * @param valueData The the text, bounding box, and field elements for the field value.", "originalCommit": "a5d929f470d01eba41316524ef7ef9a2c67310fa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NTgxOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448685818", "body": "nit: might need to consider local var `includeTextContent` to 'includeFieldElements' for the renaming as well.", "bodyText": "nit: might need to consider local var includeTextContent to 'includeFieldElements' for the renaming as well.", "bodyHTML": "<p dir=\"auto\">nit: might need to consider local var <code>includeTextContent</code> to 'includeFieldElements' for the renaming as well.</p>", "author": "mssfang", "createdAt": "2020-07-02T00:37:54Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerClientJavaDocCodeSnippets.java", "diffHunk": "@@ -119,7 +119,7 @@ public void beginRecognizeCustomFormsWithOptions() throws IOException {\n \n         formRecognizerClient.beginRecognizeCustomForms(new RecognizeCustomFormsOptions(targetStream,\n             form.length(), modelId).setFormContentType(FormContentType.IMAGE_JPEG)\n-            .setIncludeTextContent(includeTextContent).setPollInterval(Duration.ofSeconds(5))).getFinalResult()\n+            .setIncludeFieldElements(includeTextContent).setPollInterval(Duration.ofSeconds(5))).getFinalResult()", "originalCommit": "a5d929f470d01eba41316524ef7ef9a2c67310fa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NzYyMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448687621", "bodyText": "updated!!", "author": "samvaity", "createdAt": "2020-07-02T00:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NTgxOA=="}], "type": "inlineReview"}, {"oid": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "message": "update local variables", "committedDate": "2020-07-02T00:41:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxMjc0OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448712748", "body": "this should be `fieldElements`", "bodyText": "this should be fieldElements", "bodyHTML": "<p dir=\"auto\">this should be <code>fieldElements</code></p>", "author": "maririos", "createdAt": "2020-07-02T02:25:41Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/GetBoundingBoxes.java", "diffHunk": "@@ -68,11 +68,11 @@ public static void main(String[] args) {\n                     System.out.printf(\"Table %d%n\", i2);\n                     formTable.getCells().forEach(formTableCell -> {\n                         System.out.printf(\"Cell text %s has following words: %n\", formTableCell.getText());\n-                        // textContent only exists if you set includeTextContent to True in your\n+                        // textContent only exists if you set includeFieldElements to True in your", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxMzgwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448713801", "body": "same here", "bodyText": "same here", "bodyHTML": "<p dir=\"auto\">same here</p>", "author": "maririos", "createdAt": "2020-07-02T02:29:50Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/GetBoundingBoxesAsync.java", "diffHunk": "@@ -82,11 +82,11 @@ public static void main(String[] args) {\n                         System.out.printf(\"Table %d%n\", i2);\n                         formTable.getCells().forEach(formTableCell -> {\n                             System.out.printf(\"Cell text %s has following words: %n\", formTableCell.getText());\n-                            // textContent only exists if you set includeTextContent to True in your\n+                            // textContent only exists if you set includeFieldElements to True in your", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNDExNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448714115", "body": "should this test be renamed too? same the description of it?", "bodyText": "should this test be renamed too? same the description of it?", "bodyHTML": "<p dir=\"auto\">should this test be renamed too? same the description of it?</p>", "author": "maririos", "createdAt": "2020-07-02T02:31:01Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/test/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientTest.java", "diffHunk": "@@ -219,39 +219,39 @@ public void recognizeReceiptInvalidSourceUrl(HttpClient httpClient, FormRecogniz\n     }\n \n     /**\n-     * Verifies receipt data for a document using source as file url and include content when includeTextContent is\n+     * Verifies receipt data for a document using source as file url and include content when includeFieldElements is\n      * true.\n      */\n     @ParameterizedTest(name = DISPLAY_NAME_WITH_ARGUMENTS)\n     @MethodSource(\"com.azure.ai.formrecognizer.TestUtils#getTestParameters\")\n     public void recognizeReceiptFromUrlTextContent(HttpClient httpClient,", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNDk5NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448714995", "bodyText": "and same for other tests", "author": "maririos", "createdAt": "2020-07-02T02:34:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNDExNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNjM4NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448716384", "body": "should we change this to fieldData?", "bodyText": "should we change this to fieldData?", "bodyHTML": "<p dir=\"auto\">should we change this to fieldData?</p>", "author": "maririos", "createdAt": "2020-07-02T02:40:00Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerClientJavaDocCodeSnippets.java", "diffHunk": "@@ -112,14 +112,14 @@ public void beginRecognizeCustomFormsWithOptions() throws IOException {\n         // BEGIN: com.azure.ai.formrecognizer.FormRecognizerClient.beginRecognizeCustomForms#recognizeCustomFormsOptions\n         File form = new File(\"{local/file_path/fileName.jpg}\");\n         String modelId = \"{custom_trained_model_id}\";\n-        boolean includeTextContent = true;\n+        boolean includeFieldElements = true;\n \n         byte[] fileContent = Files.readAllBytes(form.toPath());\n         InputStream targetStream = new ByteArrayInputStream(fileContent);\n \n         formRecognizerClient.beginRecognizeCustomForms(new RecognizeCustomFormsOptions(targetStream,\n             form.length(), modelId).setFormContentType(FormContentType.IMAGE_JPEG)\n-            .setIncludeTextContent(includeTextContent).setPollInterval(Duration.ofSeconds(5))).getFinalResult()\n+            .setIncludeFieldElements(includeFieldElements).setPollInterval(Duration.ofSeconds(5))).getFinalResult()\n             .forEach(recognizedForm -> recognizedForm.getFields().entrySet().forEach(entry -> {\n                 String fieldText = entry.getKey();", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNjYyMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448716621", "body": "same here?", "bodyText": "same here?", "bodyHTML": "<p dir=\"auto\">same here?</p>", "author": "maririos", "createdAt": "2020-07-02T02:40:53Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/GetBoundingBoxes.java", "diffHunk": "@@ -50,7 +50,7 @@ public static void main(String[] args) {\n             recognizedForm.getFields().forEach((fieldText, fieldValue) -> System.out.printf(\"Field %s has value %s \"", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxNzQ4Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448717486", "body": "formelement?", "bodyText": "formelement?", "bodyHTML": "<p dir=\"auto\">formelement?</p>", "author": "maririos", "createdAt": "2020-07-02T02:44:18Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/GetBoundingBoxes.java", "diffHunk": "@@ -68,11 +68,11 @@ public static void main(String[] args) {\n                     System.out.printf(\"Table %d%n\", i2);\n                     formTable.getCells().forEach(formTableCell -> {\n                         System.out.printf(\"Cell text %s has following words: %n\", formTableCell.getText());\n-                        // textContent only exists if you set includeTextContent to True in your\n+                        // textContent only exists if you set includeFieldElements to True in your\n                         // call to beginRecognizeCustomFormsFromUrl\n                         // It is also a list of FormWords and FormLines, but in this example, we only deal with\n                         // FormWords\n-                        formTableCell.getTextContent().forEach(formContent -> {\n+                        formTableCell.getFieldElements().forEach(formContent -> {", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcxODY4Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12733#discussion_r448718682", "body": "this needs to change too", "bodyText": "this needs to change too", "bodyHTML": "<p dir=\"auto\">this needs to change too</p>", "author": "maririos", "createdAt": "2020-07-02T02:48:45Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/AdvancedDiffLabeledUnlabeledData.java", "diffHunk": "@@ -97,30 +97,30 @@ public static void main(String[] args) throws IOException {\n         // `value` will contain the typed field value and `valueText` will contain information about the field value", "originalCommit": "5436e6d296d4d9c4ea63af391e2b9bd4800b87df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}