{"pr_number": 3678, "pr_title": "minor cleanups", "pr_author": "dfa1", "pr_createdAt": "2020-11-29T09:23:12Z", "pr_url": "https://github.com/eclipse-vertx/vert.x/pull/3678", "timeline": [{"oid": "f0943dc6ca1ef2ab1bfbcf22939c707f168edfb1", "url": "https://github.com/eclipse-vertx/vert.x/commit/f0943dc6ca1ef2ab1bfbcf22939c707f168edfb1", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equal)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-29T09:40:08Z", "type": "forcePushed"}, {"oid": "3aba9fb6b8e63376d16101d7115325c5e96f01b3", "url": "https://github.com/eclipse-vertx/vert.x/commit/3aba9fb6b8e63376d16101d7115325c5e96f01b3", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-29T09:41:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjIzNDc1NQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532234755", "body": "```suggestion\r\n    return Objects.equals(handler, that.handler);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (!Objects.equals(handler, that.handler)) return false;\n          \n          \n            \n                return true;\n          \n          \n            \n                return Objects.equals(handler, that.handler);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(handler, that<span class=\"pl-k\">.</span>handler)) <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(handler, that<span class=\"pl-k\">.</span>handler);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "julianladisch", "createdAt": "2020-11-29T16:43:44Z", "path": "src/main/java/io/vertx/core/eventbus/impl/HandlerHolder.java", "diffHunk": "@@ -54,7 +56,7 @@ public boolean equals(Object o) {\n     if (this == o) return true;\n     if (o == null || getClass() != o.getClass()) return false;\n     HandlerHolder that = (HandlerHolder) o;\n-    if (handler != null ? !handler.equals(that.handler) : that.handler != null) return false;\n+    if (!Objects.equals(handler, that.handler)) return false;\n     return true;", "originalCommit": "3aba9fb6b8e63376d16101d7115325c5e96f01b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjIzNjY0NA==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532236644", "body": "```suggestion\r\n    return Objects.equals(host, that.host) && Objects.equals(path, that.path);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if (!Objects.equals(host, that.host)) return false;\n          \n          \n            \n                if (!Objects.equals(path, that.path)) return false;\n          \n          \n            \n            \n          \n          \n            \n                return true;\n          \n          \n            \n                return Objects.equals(host, that.host) && Objects.equals(path, that.path);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(host, that<span class=\"pl-k\">.</span>host)) <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(path, that<span class=\"pl-k\">.</span>path)) <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(host, that<span class=\"pl-k\">.</span>host) <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(path, that<span class=\"pl-k\">.</span>path);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "julianladisch", "createdAt": "2020-11-29T16:58:43Z", "path": "src/main/java/io/vertx/core/net/impl/SocketAddressImpl.java", "diffHunk": "@@ -141,8 +141,8 @@ public boolean equals(Object o) {\n     SocketAddressImpl that = (SocketAddressImpl) o;\n \n     if (port != that.port) return false;\n-    if (host != null ? !host.equals(that.host) : that.host != null) return false;\n-    if (path != null ? !path.equals(that.path) : that.path != null) return false;\n+    if (!Objects.equals(host, that.host)) return false;\n+    if (!Objects.equals(path, that.path)) return false;\n \n     return true;", "originalCommit": "3aba9fb6b8e63376d16101d7115325c5e96f01b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjIzNjc2MQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532236761", "body": "```suggestion\r\n      return Objects.equals(worker, that.worker);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  if (!Objects.equals(worker, that.worker)) return false;\n          \n          \n            \n            \n          \n          \n            \n                  return true;\n          \n          \n            \n                  return Objects.equals(worker, that.worker);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">      <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(worker, that<span class=\"pl-k\">.</span>worker)) <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">      <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">      <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Objects</span><span class=\"pl-k\">.</span>equals(worker, that<span class=\"pl-k\">.</span>worker);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "julianladisch", "createdAt": "2020-11-29T16:59:27Z", "path": "src/main/java/io/vertx/core/net/impl/VertxEventLoopGroup.java", "diffHunk": "@@ -155,7 +155,7 @@ public boolean equals(Object o) {\n \n       EventLoopHolder that = (EventLoopHolder) o;\n \n-      if (worker != null ? !worker.equals(that.worker) : that.worker != null) return false;\n+      if (!Objects.equals(worker, that.worker)) return false;\n \n       return true;", "originalCommit": "3aba9fb6b8e63376d16101d7115325c5e96f01b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "95b9ac840f9f0ad79a22648c621a3d048c9b9d36", "url": "https://github.com/eclipse-vertx/vert.x/commit/95b9ac840f9f0ad79a22648c621a3d048c9b9d36", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-29T20:31:49Z", "type": "forcePushed"}, {"oid": "8c2c975348ac7a02c793e1ba0f23dc52d947e630", "url": "https://github.com/eclipse-vertx/vert.x/commit/8c2c975348ac7a02c793e1ba0f23dc52d947e630", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-29T20:36:57Z", "type": "forcePushed"}, {"oid": "318da38e0ed9397a93fafe5226d5b20b8ee150fd", "url": "https://github.com/eclipse-vertx/vert.x/commit/318da38e0ed9397a93fafe5226d5b20b8ee150fd", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-30T11:27:52Z", "type": "forcePushed"}, {"oid": "dd3fb26f6329ec6b1f21a2d9064295869fb7b568", "url": "https://github.com/eclipse-vertx/vert.x/commit/dd3fb26f6329ec6b1f21a2d9064295869fb7b568", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-30T11:30:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ5OTc3MQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532499771", "body": "This will create an array and the benefit does not seem worth it.", "bodyText": "This will create an array and the benefit does not seem worth it.", "bodyHTML": "<p dir=\"auto\">This will create an array and the benefit does not seem worth it.</p>", "author": "tsegismont", "createdAt": "2020-11-30T10:40:37Z", "path": "src/main/java/io/vertx/core/net/impl/ServerID.java", "diffHunk": "@@ -32,21 +33,15 @@ public ServerID() {\n   @Override\n   public boolean equals(Object o) {\n     if (this == o) return true;\n-    if (o == null || !(o instanceof ServerID)) return false;\n+    if (!(o instanceof ServerID)) return false;\n \n-    ServerID serverID = (ServerID) o;\n-\n-    if (port != serverID.port) return false;\n-    if (!host.equals(serverID.host)) return false;\n-\n-    return true;\n+    ServerID that = (ServerID) o;\n+    return port != that.port && Objects.equals(host, that.host);\n   }\n \n   @Override\n   public int hashCode() {\n-    int result = port;\n-    result = 31 * result + host.hashCode();\n-    return result;\n+    return Objects.hash(port, host);", "originalCommit": "8c2c975348ac7a02c793e1ba0f23dc52d947e630", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc2NzEyMw==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532767123", "bodyText": "thank you @tsegismont :) I just pushed the fix, please have another look", "author": "dfa1", "createdAt": "2020-11-30T17:22:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ5OTc3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ5OTk4MQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532499981", "body": "Same here, array creation", "bodyText": "Same here, array creation", "bodyHTML": "<p dir=\"auto\">Same here, array creation</p>", "author": "tsegismont", "createdAt": "2020-11-30T10:40:59Z", "path": "src/main/java/io/vertx/core/net/impl/SocketAddressImpl.java", "diffHunk": "@@ -139,19 +139,11 @@ public boolean equals(Object o) {\n     if (o == null || getClass() != o.getClass()) return false;\n \n     SocketAddressImpl that = (SocketAddressImpl) o;\n-\n-    if (port != that.port) return false;\n-    if (host != null ? !host.equals(that.host) : that.host != null) return false;\n-    if (path != null ? !path.equals(that.path) : that.path != null) return false;\n-\n-    return true;\n+    return port != that.port && Objects.equals(host, that.host) && Objects.equals(path, that.path);\n   }\n \n   @Override\n   public int hashCode() {\n-    int result = host != null ? host.hashCode() : 0;\n-    result = 31 * result + (path != null ? path.hashCode() : 0);\n-    result = 31 * result + port;\n-    return result;\n+    return Objects.hash(port, host, path);", "originalCommit": "8c2c975348ac7a02c793e1ba0f23dc52d947e630", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc2OTIzMQ==", "url": "https://github.com/eclipse-vertx/vert.x/pull/3678#discussion_r532769231", "bodyText": "changed to use Objects.hashCode that is exactly:\npublic static int hashCode(Object o) {\n    return o != null ? o.hashCode() : 0;\n}", "author": "dfa1", "createdAt": "2020-11-30T17:25:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQ5OTk4MQ=="}], "type": "inlineReview"}, {"oid": "944a782cdddc88d7a06da7285803446f9251ea90", "url": "https://github.com/eclipse-vertx/vert.x/commit/944a782cdddc88d7a06da7285803446f9251ea90", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-30T17:23:29Z", "type": "commit"}, {"oid": "944a782cdddc88d7a06da7285803446f9251ea90", "url": "https://github.com/eclipse-vertx/vert.x/commit/944a782cdddc88d7a06da7285803446f9251ea90", "message": "minor cleanups\n\n- using JDK methods when possible (Arrays.fill, Math.max, Objects.equals)\n- diamond operator\n- dandling javadoc\n\nSigned-off-by: Davide Angelocola <davide.angelocola@gmail.com>", "committedDate": "2020-11-30T17:23:29Z", "type": "forcePushed"}]}