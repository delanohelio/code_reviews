{"pr_number": 579, "pr_title": "Add draggable graphics to Update Graphics sample", "pr_author": "sclaridge", "pr_createdAt": "2020-10-27T17:18:19Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579", "timeline": [{"oid": "5cebfbe9abf260dff1d76e20b6abfc08d441c9b2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/5cebfbe9abf260dff1d76e20b6abfc08d441c9b2", "message": "Add draggable graphic", "committedDate": "2020-10-27T11:57:45Z", "type": "commit"}, {"oid": "c0641a547bfeb452d108633de3a6f853d06c4f6e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/c0641a547bfeb452d108633de3a6f853d06c4f6e", "message": "Update readme, gif, screenshot", "committedDate": "2020-10-27T16:18:20Z", "type": "commit"}, {"oid": "7c54375734148212a412c81ed9046418e0bf521a", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/7c54375734148212a412c81ed9046418e0bf521a", "message": "Add Esc key action", "committedDate": "2020-10-27T16:24:10Z", "type": "commit"}, {"oid": "a6984626acd71156cc5d019042bd53e7f4a33591", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/a6984626acd71156cc5d019042bd53e7f4a33591", "message": "Remove unused boolean", "committedDate": "2020-10-27T16:24:29Z", "type": "commit"}, {"oid": "919f7daa5526c12159c970e1711fd7e78be5cb27", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/919f7daa5526c12159c970e1711fd7e78be5cb27", "message": "Reorder point", "committedDate": "2020-10-27T16:26:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1NTQ2OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513255468", "body": "While we're at it, lets make these comments plain English?\r\nPeraps `// create the combo box for the UI`?", "bodyText": "While we're at it, lets make these comments plain English?\nPeraps // create the combo box for the UI?", "bodyHTML": "<p dir=\"auto\">While we're at it, lets make these comments plain English?<br>\nPeraps <code>// create the combo box for the UI</code>?</p>", "author": "JonLavi", "createdAt": "2020-10-28T08:24:02Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -90,18 +92,15 @@ public void start(Stage stage) {\n       controlsVBox.setBackground(new Background(new BackgroundFill(Paint.valueOf(\"rgba(0,0,0,0.3)\"), CornerRadii.EMPTY,\n               Insets.EMPTY)));\n       controlsVBox.setPadding(new Insets(10.0));\n-      controlsVBox.setMaxSize(180, 150);\n+      controlsVBox.setMaxSize(180, 100);\n       controlsVBox.getStyleClass().add(\"panel-region\");\n \n       // create buttons for user interaction\n-      updateLocationButton = new Button(\"Update Location\");\n       updateDescriptionButton = new Button(\"Update Description\");\n-      updateLocationButton.setMaxWidth(Double.MAX_VALUE);\n       updateDescriptionButton.setMaxWidth(Double.MAX_VALUE);\n-      updateLocationButton.setDisable(true);\n       updateDescriptionButton.setDisable(true);\n \n-      // create section for combo box\n+      // create combo box", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1NTY3NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513255674", "body": "Another suggestion for plain english? Also, we only have one button now, by the looks of it? Would also be nice to order the items in the comment in the same order as they are in the code:\r\n\r\n```suggestion\r\n      // add the button, label, and combo box to the control panel\r\n```", "bodyText": "Another suggestion for plain english? Also, we only have one button now, by the looks of it? Would also be nice to order the items in the comment in the same order as they are in the code:\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // add label, combo box and buttons to the control panel\n          \n          \n            \n                  // add the button, label, and combo box to the control panel", "bodyHTML": "<p dir=\"auto\">Another suggestion for plain english? Also, we only have one button now, by the looks of it? Would also be nice to order the items in the comment in the same order as they are in the code:</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">      <span class=\"pl-c\"><span class=\"pl-c\">//</span> add label, combo box<span class=\"x x-first x-last\"> and buttons</span> to the control panel</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">      <span class=\"pl-c\"><span class=\"pl-c\">//</span> add <span class=\"x x-first x-last\">the button, </span>label, <span class=\"x x-first x-last\">and </span>combo box to the control panel</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "JonLavi", "createdAt": "2020-10-28T08:24:23Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -117,8 +116,8 @@ public void start(Stage stage) {\n         }\n       });\n \n-      // add label, dropdown and buttons to the control panel\n-      controlsVBox.getChildren().addAll(updateLocationButton, updateDescriptionButton, symbolLabel, symbolBox);\n+      // add label, combo box and buttons to the control panel", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1NzA2MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513257060", "body": "Good catch on renaming this, definitely makes more sense \ud83d\udc4d ", "bodyText": "Good catch on renaming this, definitely makes more sense \ud83d\udc4d", "bodyHTML": "<p dir=\"auto\">Good catch on renaming this, definitely makes more sense <g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png\">\ud83d\udc4d</g-emoji></p>", "author": "JonLavi", "createdAt": "2020-10-28T08:26:49Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -260,10 +281,14 @@ private void createGraphics() {\n     }\n   }\n \n-  private void enableUI(boolean enable) {\n-    updateDescriptionButton.setDisable(enable);\n-    updateLocationButton.setDisable(enable);\n-    symbolBox.setDisable(enable);\n+  /**\n+   * Disables the visibility of the UI controls\n+   *\n+   * @param disable visibility of the UI\n+   */\n+  private void disableUI(boolean disable) {", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1ODM0OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513258349", "body": "It looks like we need a null check here, to avoid a `NullPointerException` when no graphics is selected and we're dragging around:\r\n```suggestion\r\n        if (selectedGraphic != null && selectedGraphic.isSelected()) {\r\n```", "bodyText": "It looks like we need a null check here, to avoid a NullPointerException when no graphics is selected and we're dragging around:\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (selectedGraphic.isSelected()) {\n          \n          \n            \n                    if (selectedGraphic != null && selectedGraphic.isSelected()) {", "bodyHTML": "<p dir=\"auto\">It looks like we need a null check here, to avoid a <code>NullPointerException</code> when no graphics is selected and we're dragging around:</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (selectedGraphic<span class=\"pl-k\">.</span>isSelected()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (selectedGraphic<span class=\"x x-first\"> </span><span class=\"pl-k x\">!=</span><span class=\"x\"> </span><span class=\"pl-c1 x\">null</span><span class=\"x\"> </span><span class=\"pl-k x\">&amp;&amp;</span><span class=\"x x-last\"> selectedGraphic</span><span class=\"pl-k\">.</span>isSelected()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "JonLavi", "createdAt": "2020-10-28T08:29:11Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +159,68 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                selectedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);\n+              } else {\n+                disableUI(true);\n               }\n-            });\n-          }\n+            } catch (Exception x) {\n+              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+            }\n+          });\n+        }\n+      });\n+\n+      mapView.setOnMouseDragged(e -> {\n+        if (selectedGraphic.isSelected()) {", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1OTY4MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513259680", "body": "It would be really cool if we could identify any potential graphic at the clicked point, select it, and then allow to drag if the mouse pointer is held down. We might be able to do that by extracting a method e.g. `identifyGraphicAtClickedPoint`, and then allowing to select it. Could be a bit tricky to do it elegantly, so I would suggest don't spend too much time on it if the code starts growing arms and legs!", "bodyText": "It would be really cool if we could identify any potential graphic at the clicked point, select it, and then allow to drag if the mouse pointer is held down. We might be able to do that by extracting a method e.g. identifyGraphicAtClickedPoint, and then allowing to select it. Could be a bit tricky to do it elegantly, so I would suggest don't spend too much time on it if the code starts growing arms and legs!", "bodyHTML": "<p dir=\"auto\">It would be really cool if we could identify any potential graphic at the clicked point, select it, and then allow to drag if the mouse pointer is held down. We might be able to do that by extracting a method e.g. <code>identifyGraphicAtClickedPoint</code>, and then allowing to select it. Could be a bit tricky to do it elegantly, so I would suggest don't spend too much time on it if the code starts growing arms and legs!</p>", "author": "JonLavi", "createdAt": "2020-10-28T08:31:26Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +159,68 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                selectedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);\n+              } else {\n+                disableUI(true);\n               }\n-            });\n-          }\n+            } catch (Exception x) {\n+              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+            }\n+          });\n+        }\n+      });\n+\n+      mapView.setOnMouseDragged(e -> {", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MjczNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518262734", "bodyText": "@sclaridge perhaps Jon's suggestion combined with my attempt below might work? Like Jon says though, don't spend too long on it, we have a workable solution from the first suggestion I put up.", "author": "Rachael-E", "createdAt": "2020-11-05T18:13:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI1OTY4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI2NjA4Ng==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513266086", "body": "Ideally we should be enabling the UI again after we stop dragging, because the graphics is still selected and the user might want to update it's properties?\r\nStrictly speaking, we don't have to disable the UI while dragging at all, since we have to stop dragging anyway to interact with the UI properly? Might be worth a play around with it just to see which works best.", "bodyText": "Ideally we should be enabling the UI again after we stop dragging, because the graphics is still selected and the user might want to update it's properties?\nStrictly speaking, we don't have to disable the UI while dragging at all, since we have to stop dragging anyway to interact with the UI properly? Might be worth a play around with it just to see which works best.", "bodyHTML": "<p dir=\"auto\">Ideally we should be enabling the UI again after we stop dragging, because the graphics is still selected and the user might want to update it's properties?<br>\nStrictly speaking, we don't have to disable the UI while dragging at all, since we have to stop dragging anyway to interact with the UI properly? Might be worth a play around with it just to see which works best.</p>", "author": "JonLavi", "createdAt": "2020-10-28T08:42:36Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +159,68 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                selectedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);\n+              } else {\n+                disableUI(true);\n               }\n-            });\n-          }\n+            } catch (Exception x) {\n+              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+            }\n+          });\n+        }\n+      });\n+\n+      mapView.setOnMouseDragged(e -> {\n+        if (selectedGraphic.isSelected()) {\n+          // set the cursor to the move\n+          mapView.setCursor(Cursor.MOVE);\n+\n+          // disable to UI while moving the graphic\n+          disableUI(true);", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI3MTg0OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513271848", "body": "@Rachael-E on the line below we have the comment regarding keeping `map` in scope to avoid garbage collection. I can't see any part of the code where this might happen here? The only async operation is on `mapView`:\r\n```\r\nmapView.identifyGraphicsOverlayAsync\r\n```\r\n\r\nWas it decided to leave these comments in as a standard, or can we remove this one and make `map` a local member?", "bodyText": "@Rachael-E on the line below we have the comment regarding keeping map in scope to avoid garbage collection. I can't see any part of the code where this might happen here? The only async operation is on mapView:\nmapView.identifyGraphicsOverlayAsync\n\nWas it decided to leave these comments in as a standard, or can we remove this one and make map a local member?", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Rachael-E/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Rachael-E\">@Rachael-E</a> on the line below we have the comment regarding keeping <code>map</code> in scope to avoid garbage collection. I can't see any part of the code where this might happen here? The only async operation is on <code>mapView</code>:</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"mapView.identifyGraphicsOverlayAsync\n\"><pre><code>mapView.identifyGraphicsOverlayAsync\n</code></pre></div>\n<p dir=\"auto\">Was it decided to leave these comments in as a standard, or can we remove this one and make <code>map</code> a local member?</p>", "author": "JonLavi", "createdAt": "2020-10-28T08:52:06Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -51,9 +54,7 @@\n \n public class UpdateGraphicsSample extends Application {\n \n-  private boolean isUpdateLocationActive;\n   private List<SimpleMarkerSymbol> markers;\n-  private Button updateLocationButton;\n   private Button updateDescriptionButton;\n   private ComboBox<String> symbolBox;\n ", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI4Njc2NQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r513286765", "body": "I had to look this one up a bit. Not sure which element of the SV takes focus away from the map view, but I don't think we should include the code in the sample if it's just a workaround for the SV. Can't provide an alternative off the top of my head, but we might want to do a session to check what we can do to avoid adding it here.", "bodyText": "I had to look this one up a bit. Not sure which element of the SV takes focus away from the map view, but I don't think we should include the code in the sample if it's just a workaround for the SV. Can't provide an alternative off the top of my head, but we might want to do a session to check what we can do to avoid adding it here.", "bodyHTML": "<p dir=\"auto\">I had to look this one up a bit. Not sure which element of the SV takes focus away from the map view, but I don't think we should include the code in the sample if it's just a workaround for the SV. Can't provide an alternative off the top of my head, but we might want to do a session to check what we can do to avoid adding it here.</p>", "author": "JonLavi", "createdAt": "2020-10-28T09:16:04Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +159,68 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                selectedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);\n+              } else {\n+                disableUI(true);\n               }\n-            });\n-          }\n+            } catch (Exception x) {\n+              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+            }\n+          });\n+        }\n+      });\n+\n+      mapView.setOnMouseDragged(e -> {\n+        if (selectedGraphic.isSelected()) {\n+          // set the cursor to the move\n+          mapView.setCursor(Cursor.MOVE);\n+\n+          // disable to UI while moving the graphic\n+          disableUI(true);\n+\n+          // create a point from the dragged location\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+          Point mapPoint = mapView.screenToLocation(mapViewPoint);\n+\n+          // update the location of the graphic to the dragged location\n+          selectedGraphic.setGeometry(mapPoint);\n+          mapView.requestFocus();", "originalCommit": "919f7daa5526c12159c970e1711fd7e78be5cb27", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ4OTQ5Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r514489497", "bodyText": "Based on this link, for key events the target is the node that has focus, but for mouse events the target is the node at the location of the cursor. I tried to use stackpane.onKeyPressed() like the Create and Save KML File sample, but I didn't have any luck.\nWould you recommended scrapping the ESC key functionality? A second click will de-select and stop moving the point.", "author": "sclaridge", "createdAt": "2020-10-29T18:48:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI4Njc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkzNzk4Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r514937987", "bodyText": "That's probably a good idea, considering the ESC functionality it an added bonus, but that extra line of code is a bit confusing!", "author": "JonLavi", "createdAt": "2020-10-30T08:28:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzI4Njc2NQ=="}], "type": "inlineReview"}, {"oid": "05f74bfb173c7e23d9a095f21cddfb44226d886b", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/05f74bfb173c7e23d9a095f21cddfb44226d886b", "message": "Fix comments", "committedDate": "2020-10-29T11:09:25Z", "type": "commit"}, {"oid": "88614e6e740d7c107e1f907067dae59ce9a66a65", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/88614e6e740d7c107e1f907067dae59ce9a66a65", "message": "Update README.md", "committedDate": "2020-10-29T14:24:05Z", "type": "commit"}, {"oid": "b12fb6bcd8303c26d7177c69dc429f369802e3a1", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/b12fb6bcd8303c26d7177c69dc429f369802e3a1", "message": "Add changes from PR", "committedDate": "2020-10-30T12:33:25Z", "type": "commit"}, {"oid": "89dcbb6fb1cc1a51ef441a14b679c091109a9d01", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/89dcbb6fb1cc1a51ef441a14b679c091109a9d01", "message": "Update README.md", "committedDate": "2020-10-30T12:51:31Z", "type": "commit"}, {"oid": "98f9cec421138790200b1fb4560e90370b321986", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/98f9cec421138790200b1fb4560e90370b321986", "message": "Add back comments", "committedDate": "2020-10-30T12:55:09Z", "type": "commit"}, {"oid": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "message": "Update README.md", "committedDate": "2020-11-04T14:41:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzMTE4Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518231187", "body": "we don't have to assert it's null here, the compiler will auto set all member variables to a reasonable default, generally null in this case.\r\n```suggestion\r\n  private Graphic identifiedGraphic;\r\n```", "bodyText": "we don't have to assert it's null here, the compiler will auto set all member variables to a reasonable default, generally null in this case.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private Graphic identifiedGraphic = null;\n          \n          \n            \n              private Graphic identifiedGraphic;", "bodyHTML": "<p dir=\"auto\">we don't have to assert it's null here, the compiler will auto set all member variables to a reasonable default, generally null in this case.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">  <span class=\"pl-k\">private</span> <span class=\"pl-smi\">Graphic</span> identifiedGraphic<span class=\"x x-first\"> </span><span class=\"pl-k x\">=</span><span class=\"x\"> </span><span class=\"pl-c1 x x-last\">null</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">  <span class=\"pl-k\">private</span> <span class=\"pl-smi\">Graphic</span> identifiedGraphic;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Rachael-E", "createdAt": "2020-11-05T17:33:13Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -51,17 +53,14 @@\n \n public class UpdateGraphicsSample extends Application {\n \n-  private boolean isUpdateLocationActive;\n   private List<SimpleMarkerSymbol> markers;\n-  private Button updateLocationButton;\n   private Button updateDescriptionButton;\n   private ComboBox<String> symbolBox;\n \n-  private ArcGISMap map; // keep loadable in scope to avoid garbage collection\n   private MapView mapView;\n-  private Graphic selectedGraphic;\n+  private Graphic identifiedGraphic = null;", "originalCommit": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI1ODU3OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518258579", "body": "A few things in this suggestion. \r\n\r\n1. When the sample loads, and the user clicks and drags on the map view, a null pointer exception is thrown. This continues until a user clicks to select a graphic, and then it's not seen again. We could handle that by showing an error in the mapView.setOnMouseDragged listener, or, by simply moving that listener in the identifyGraphics.addDoneListener (see suggestion).\r\n\r\nThe benefit to this approach is that we know the identifiedGraphic should never be null (since it's already identified), and a null pointer shouldn't be able to be thrown. Also when the sample loads, a user could click and drag the map view if they wanted to before it gets locked when selecting a graphic.\r\n\r\n2.  If a user selects a graphic but clicks and drags on the other side of the screen, the point is dragged. I'd expect the graphic only to be dragged if the cursor was actually on the graphic. I think Jon has suggested something similar above to address this but might have too many code arms and legs to follow phrase! So to make it clear to the user that the graphic is still selected and in drag mode, I've suggested a simple `Cursor.CLOSED_HAND` here to make it visually obvious we're still dragging. \r\n\r\n```suggestion\r\n                disableUI(false);\r\n\r\n                // enable dragging of the identified graphic to move its location\r\n                mapView.setOnMouseDragged(event -> {\r\n\r\n                    if (identifiedGraphic.isSelected() && identifiedGraphic != null) {\r\n                      // set the cursor to closed hand to indicate graphic dragging is active\r\n                      mapView.setCursor(Cursor.CLOSED_HAND);\r\n                      // create a point from the dragged location\r\n                      mapViewPoint = new Point2D(event.getX(), event.getY());\r\n                      Point mapPoint = mapView.screenToLocation(mapViewPoint);\r\n                      // update the location of the graphic to the dragged location\r\n                      identifiedGraphic.setGeometry(mapPoint);\r\n                    } else new Alert(Alert.AlertType.ERROR, \"Error selecting graphic\").show();\r\n                });\r\n```", "bodyText": "A few things in this suggestion.\n\nWhen the sample loads, and the user clicks and drags on the map view, a null pointer exception is thrown. This continues until a user clicks to select a graphic, and then it's not seen again. We could handle that by showing an error in the mapView.setOnMouseDragged listener, or, by simply moving that listener in the identifyGraphics.addDoneListener (see suggestion).\n\nThe benefit to this approach is that we know the identifiedGraphic should never be null (since it's already identified), and a null pointer shouldn't be able to be thrown. Also when the sample loads, a user could click and drag the map view if they wanted to before it gets locked when selecting a graphic.\n\nIf a user selects a graphic but clicks and drags on the other side of the screen, the point is dragged. I'd expect the graphic only to be dragged if the cursor was actually on the graphic. I think Jon has suggested something similar above to address this but might have too many code arms and legs to follow phrase! So to make it clear to the user that the graphic is still selected and in drag mode, I've suggested a simple Cursor.CLOSED_HAND here to make it visually obvious we're still dragging.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            disableUI(false);\n          \n          \n            \n                            disableUI(false);\n          \n          \n            \n            \n          \n          \n            \n                            // enable dragging of the identified graphic to move its location\n          \n          \n            \n                            mapView.setOnMouseDragged(event -> {\n          \n          \n            \n            \n          \n          \n            \n                                if (identifiedGraphic.isSelected() && identifiedGraphic != null) {\n          \n          \n            \n                                  // set the cursor to closed hand to indicate graphic dragging is active\n          \n          \n            \n                                  mapView.setCursor(Cursor.CLOSED_HAND);\n          \n          \n            \n                                  // create a point from the dragged location\n          \n          \n            \n                                  mapViewPoint = new Point2D(event.getX(), event.getY());\n          \n          \n            \n                                  Point mapPoint = mapView.screenToLocation(mapViewPoint);\n          \n          \n            \n                                  // update the location of the graphic to the dragged location\n          \n          \n            \n                                  identifiedGraphic.setGeometry(mapPoint);\n          \n          \n            \n                                } else new Alert(Alert.AlertType.ERROR, \"Error selecting graphic\").show();\n          \n          \n            \n                            });", "bodyHTML": "<p dir=\"auto\">A few things in this suggestion.</p>\n<ol dir=\"auto\">\n<li>When the sample loads, and the user clicks and drags on the map view, a null pointer exception is thrown. This continues until a user clicks to select a graphic, and then it's not seen again. We could handle that by showing an error in the mapView.setOnMouseDragged listener, or, by simply moving that listener in the identifyGraphics.addDoneListener (see suggestion).</li>\n</ol>\n<p dir=\"auto\">The benefit to this approach is that we know the identifiedGraphic should never be null (since it's already identified), and a null pointer shouldn't be able to be thrown. Also when the sample loads, a user could click and drag the map view if they wanted to before it gets locked when selecting a graphic.</p>\n<ol start=\"2\" dir=\"auto\">\n<li>If a user selects a graphic but clicks and drags on the other side of the screen, the point is dragged. I'd expect the graphic only to be dragged if the cursor was actually on the graphic. I think Jon has suggested something similar above to address this but might have too many code arms and legs to follow phrase! So to make it clear to the user that the graphic is still selected and in drag mode, I've suggested a simple <code>Cursor.CLOSED_HAND</code> here to make it visually obvious we're still dragging.</li>\n</ol>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"183\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                disableUI(<span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"183\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                disableUI(<span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"184\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"185\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-c\"><span class=\"pl-c\">//</span> enable dragging of the identified graphic to move its location</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"186\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                mapView<span class=\"pl-k\">.</span>setOnMouseDragged(event <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"187\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"188\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    <span class=\"pl-k\">if</span> (identifiedGraphic<span class=\"pl-k\">.</span>isSelected() <span class=\"pl-k\">&amp;&amp;</span> identifiedGraphic <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"189\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      <span class=\"pl-c\"><span class=\"pl-c\">//</span> set the cursor to closed hand to indicate graphic dragging is active</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"190\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      mapView<span class=\"pl-k\">.</span>setCursor(<span class=\"pl-smi\">Cursor</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>CLOSED_HAND</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"191\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      <span class=\"pl-c\"><span class=\"pl-c\">//</span> create a point from the dragged location</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"192\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      mapViewPoint <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Point2D</span>(event<span class=\"pl-k\">.</span>getX(), event<span class=\"pl-k\">.</span>getY());</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"193\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      <span class=\"pl-smi\">Point</span> mapPoint <span class=\"pl-k\">=</span> mapView<span class=\"pl-k\">.</span>screenToLocation(mapViewPoint);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"194\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      <span class=\"pl-c\"><span class=\"pl-c\">//</span> update the location of the graphic to the dragged location</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"195\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                      identifiedGraphic<span class=\"pl-k\">.</span>setGeometry(mapPoint);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"196\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    } <span class=\"pl-k\">else</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Alert</span>(<span class=\"pl-smi\">Alert</span><span class=\"pl-k\">.</span><span class=\"pl-smi\">AlertType</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>ERROR</span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Error selecting graphic<span class=\"pl-pds\">\"</span></span>)<span class=\"pl-k\">.</span>show();</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"197\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                });</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Rachael-E", "createdAt": "2020-11-05T18:06:38Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +156,52 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n-          // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          // create a point where the user clicked\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          ListenableFuture<IdentifyGraphicsOverlayResult> identifyGraphics =\n+            mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                identifiedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                identifiedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) identifiedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);", "originalCommit": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MDI5OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518260299", "bodyText": "Alternatively, it is possible to simultaneously click and drag the graphic with the following.\nHowever, I had to bump the tolerance up quite high since there is a bit of lag with the drag and if the mouse travels faster than the graphic, it leaves it behind. With this bigger tolerance though, more than one graphic can be selected and it results in a fun dance between the two graphics moving...if you'd like to take this code and work around it to avoid that behaviour, see what you think: it might take a fair bit of time, I've had to leave it for now. Otherwise the workflow I've suggested above is just fine!\n      mapView.setOnMouseDragged(e -> {\n        if (e.getButton() == MouseButton.PRIMARY) {\n//           create a point where the user clicked\n          mapViewPoint = new Point2D(e.getX(), e.getY());\n\n          // identify graphics on the graphics overlay\n          ListenableFuture<IdentifyGraphicsOverlayResult> identifyGraphics =\n            mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 50, false);\n\n          identifyGraphics.addDoneListener(() -> {\n            try {\n              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n                // get the first identified graphic\n                identifiedGraphic = identifyGraphics.get().getGraphics().get(0);\n                // select the identified graphic\n                identifiedGraphic.setSelected(true);\n                // update the drop down box with the identified graphic's current symbol\n                String style = ((SimpleMarkerSymbol) identifiedGraphic.getSymbol()).getStyle().toString();\n                symbolBox.getSelectionModel().select(style);\n                // show the UI\n                disableUI(false);\n\n                // enable dragging of the identified graphic to move its location\n                if (identifiedGraphic.isSelected() && identifiedGraphic != null) {\n                  // set the cursor to closed hand to indicate graphic dragging is active\n//                      mapView.setCursor(Cursor.CLOSED_HAND);\n                  // create a point from the dragged location\n                  mapViewPoint = new Point2D(e.getX(), e.getY());\n                  Point mapPoint = mapView.screenToLocation(mapViewPoint);\n                  // update the location of the graphic to the dragged location\n                  identifiedGraphic.setGeometry(mapPoint);\n                } else new Alert(Alert.AlertType.ERROR, \"Error selecting graphic\").show();\n\n                // clear any selected graphic when clicking on the map view\n                mapView.setOnMouseClicked(mouseEvent -> {\n                  if (mouseEvent.isStillSincePress()) {\n                    graphicsOverlay.clearSelection();\n                  }\n                });\n\n              } else {\n                disableUI(true);\n              }\n            } catch (Exception x) {\n              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n            }\n          });\n        }\n      });", "author": "Rachael-E", "createdAt": "2020-11-05T18:09:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI1ODU3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MTAzNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518261037", "body": "Missing a period from this javadoc \r\n```suggestion\r\n   * Disables the visibility of the UI controls.\r\n```", "bodyText": "Missing a period from this javadoc\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * Disables the visibility of the UI controls\n          \n          \n            \n               * Disables the visibility of the UI controls.", "bodyHTML": "<p dir=\"auto\">Missing a period from this javadoc</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">   <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Disables</span> the visibility of the <span class=\"pl-c1\">UI</span> controls</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">   <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Disables</span> the visibility of the <span class=\"pl-c1\">UI</span> controls<span class=\"x x-first x-last\">.</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Rachael-E", "createdAt": "2020-11-05T18:10:43Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -260,10 +262,14 @@ private void createGraphics() {\n     }\n   }\n \n-  private void enableUI(boolean enable) {\n-    updateDescriptionButton.setDisable(enable);\n-    updateLocationButton.setDisable(enable);\n-    symbolBox.setDisable(enable);\n+  /**\n+   * Disables the visibility of the UI controls", "originalCommit": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MjEzNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518262134", "body": "let's give the boolean parameter a slightly more meaningful name\r\n\r\n```suggestion\r\n  private void disableUI(boolean isDisabled) {\r\n```", "bodyText": "let's give the boolean parameter a slightly more meaningful name\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private void disableUI(boolean disable) {\n          \n          \n            \n              private void disableUI(boolean isDisabled) {", "bodyHTML": "<p dir=\"auto\">let's give the boolean parameter a slightly more meaningful name</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">  <span class=\"pl-k\">private</span> <span class=\"pl-k\">void</span> disableUI(<span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">disable</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">  <span class=\"pl-k\">private</span> <span class=\"pl-k\">void</span> disableUI(<span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">isDisabled</span>) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Rachael-E", "createdAt": "2020-11-05T18:12:33Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -260,10 +262,14 @@ private void createGraphics() {\n     }\n   }\n \n-  private void enableUI(boolean enable) {\n-    updateDescriptionButton.setDisable(enable);\n-    updateLocationButton.setDisable(enable);\n-    symbolBox.setDisable(enable);\n+  /**\n+   * Disables the visibility of the UI controls\n+   *\n+   * @param disable visibility of the UI\n+   */\n+  private void disableUI(boolean disable) {", "originalCommit": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MjgyNg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/579#discussion_r518262826", "body": "```suggestion\r\n          // set the cursor to the move icon\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      // set the cursor to the move\n          \n          \n            \n                      // set the cursor to the move icon", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">          <span class=\"pl-c\"><span class=\"pl-c\">//</span> set the cursor to the move</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">          <span class=\"pl-c\"><span class=\"pl-c\">//</span> set the cursor to the move<span class=\"x x-first x-last\"> icon</span></span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Rachael-E", "createdAt": "2020-11-05T18:13:51Z", "path": "display_information/update-graphics/src/main/java/com/esri/samples/update_graphics/UpdateGraphicsSample.java", "diffHunk": "@@ -167,39 +156,52 @@ public void start(Stage stage) {\n \n       mapView.setOnMouseClicked(e -> {\n         if (e.getButton() == MouseButton.PRIMARY && e.isStillSincePress()) {\n+          // set the cursor to default\n+          mapView.setCursor(Cursor.DEFAULT);\n+\n           // clear any selected graphic\n           graphicsOverlay.clearSelection();\n \n-          // create a point from location clicked\n-          Point2D mapViewPoint = new Point2D(e.getX(), e.getY());\n-\n-          if (isUpdateLocationActive) {\n-            // add new location to selected graphic\n-            Point mapPoint = mapView.screenToLocation(mapViewPoint);\n-            selectedGraphic.setGeometry(mapPoint);\n-            isUpdateLocationActive = false;\n-          } else {\n-            // identify the graphic that was selected\n-            identifyGraphics = mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n-\n-            identifyGraphics.addDoneListener(() -> {\n-              try {\n-                if (!identifyGraphics.get().getGraphics().isEmpty()) {\n-                  // store the selected graphic\n-                  selectedGraphic = identifyGraphics.get().getGraphics().get(0);\n-                  selectedGraphic.setSelected(true);\n-                  String style = ((SimpleMarkerSymbol) selectedGraphic.getSymbol()).getStyle().toString();\n-                  symbolBox.getSelectionModel().select(style);\n-\n-                  enableUI(false);\n-                } else {\n-                  enableUI(true);\n-                }\n-              } catch (Exception x) {\n-                new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+          // create a point where the user clicked\n+          mapViewPoint = new Point2D(e.getX(), e.getY());\n+\n+          // identify graphics on the graphics overlay\n+          ListenableFuture<IdentifyGraphicsOverlayResult> identifyGraphics =\n+            mapView.identifyGraphicsOverlayAsync(graphicsOverlay, mapViewPoint, 10, false);\n+\n+          identifyGraphics.addDoneListener(() -> {\n+            try {\n+              if (!identifyGraphics.get().getGraphics().isEmpty()) {\n+                // get the first identified graphic\n+                identifiedGraphic = identifyGraphics.get().getGraphics().get(0);\n+                // select the identified graphic\n+                identifiedGraphic.setSelected(true);\n+                // update the drop down box with the identified graphic's current symbol\n+                String style = ((SimpleMarkerSymbol) identifiedGraphic.getSymbol()).getStyle().toString();\n+                symbolBox.getSelectionModel().select(style);\n+                // show the UI\n+                disableUI(false);\n+              } else {\n+                disableUI(true);\n               }\n-            });\n-          }\n+            } catch (Exception x) {\n+              new Alert(Alert.AlertType.ERROR, \"Error identifying clicked graphic\").show();\n+            }\n+          });\n+        }\n+      });\n+\n+      mapView.setOnMouseDragged(e -> {\n+        if (identifiedGraphic.isSelected() && identifiedGraphic != null) {\n+          // set the cursor to the move", "originalCommit": "045dbcef294ac0a0ba2e5ccc4e31b7c198747e5b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1394a8379d9e8ad7786e0ee4ff0ffc91194a29e2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1394a8379d9e8ad7786e0ee4ff0ffc91194a29e2", "message": "Update how to use", "committedDate": "2020-11-06T14:52:30Z", "type": "commit"}, {"oid": "812a872512f918e5176fe32b362123bf6ab91aef", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/812a872512f918e5176fe32b362123bf6ab91aef", "message": "Fix from PR", "committedDate": "2020-11-10T20:12:08Z", "type": "commit"}, {"oid": "daf328768e619ee423c6da6f24b268395a199316", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/daf328768e619ee423c6da6f24b268395a199316", "message": "Fix image size", "committedDate": "2020-11-12T10:56:08Z", "type": "commit"}]}