{"pr_number": 8875, "pr_title": "Live reload on frontend changes", "pr_author": "joheriks", "pr_createdAt": "2020-08-20T22:00:56Z", "pr_url": "https://github.com/vaadin/flow/pull/8875", "timeline": [{"oid": "d93d4014a677fc81c40fb6fde8aefa758af6eb81", "url": "https://github.com/vaadin/flow/commit/d93d4014a677fc81c40fb6fde8aefa758af6eb81", "message": "Trigger live reload when webpack recompiles frontend files\n\nAlso adds live reload support for V14 bootstrapping mode.", "committedDate": "2020-08-20T22:06:21Z", "type": "forcePushed"}, {"oid": "d229d9ad1738e663acdc6bc6c46d117023480624", "url": "https://github.com/vaadin/flow/commit/d229d9ad1738e663acdc6bc6c46d117023480624", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately", "committedDate": "2020-08-21T06:40:00Z", "type": "forcePushed"}, {"oid": "8eab654aab1231267c418c7ddd1190bb326766f0", "url": "https://github.com/vaadin/flow/commit/8eab654aab1231267c418c7ddd1190bb326766f0", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately", "committedDate": "2020-08-21T06:44:05Z", "type": "forcePushed"}, {"oid": "bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "url": "https://github.com/vaadin/flow/commit/bb3ced637c7a7819ad09201c6fe4a186dbc9c29c", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately", "committedDate": "2020-08-21T07:40:36Z", "type": "forcePushed"}, {"oid": "91209f1c458a6e58815109ef1433656aadacb010", "url": "https://github.com/vaadin/flow/commit/91209f1c458a6e58815109ef1433656aadacb010", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately", "committedDate": "2020-08-21T08:44:41Z", "type": "commit"}, {"oid": "91209f1c458a6e58815109ef1433656aadacb010", "url": "https://github.com/vaadin/flow/commit/91209f1c458a6e58815109ef1433656aadacb010", "message": "Trigger live reload when webpack recompiles frontend files\n\nWhen the webpack dev server finished recompilation, it notifies the Java server over\nthe watchdog connection. When the server notices the message, it sends a browser reload\nmessage over the dedicated live reload web socket connection.\n\nOther changes in this commit:\n- live reload support for V14 bootstrapping mode\n- vaadin-devmode-gizmo is now bundled separately", "committedDate": "2020-08-21T08:44:41Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDU4MTg3Ng==", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474581876", "body": "![MAJOR](https://sonarsource.github.io/sonar-github/severity-major.png 'Severity: MAJOR') Constructor has 8 parameters, which is greater than 7 authorized. [![rule](https://sonarsource.github.io/sonar-github/rule.png)](https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS00107)\n", "bodyText": "Constructor has 8 parameters, which is greater than 7 authorized.", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/89049b9c46c662e8fa6d1566cd43762c4f8bd19db7eab2c95254508f0f6f31eb/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67\"><img src=\"https://camo.githubusercontent.com/89049b9c46c662e8fa6d1566cd43762c4f8bd19db7eab2c95254508f0f6f31eb/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d6d616a6f722e706e67\" alt=\"MAJOR\" title=\"Severity: MAJOR\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/severity-major.png\" style=\"max-width: 100%;\"></a> Constructor has 8 parameters, which is greater than 7 authorized. <a href=\"https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS00107\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/90a66c56e56d5e4647676830313fa0693466067889c4c7dc2d7519da5a924230/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67\" alt=\"rule\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/rule.png\" style=\"max-width: 100%;\"></a></p>", "author": "vaadin-bot", "createdAt": "2020-08-21T09:36:39Z", "path": "flow-server/src/main/java/com/vaadin/flow/server/frontend/TaskUpdateWebpack.java", "diffHunk": "@@ -72,18 +73,21 @@\n      *            name of the JS file to update with the Flow project imports\n      * @param useV14Bootstrapping\n      *            whether the application running with deprecated V14 bootstrapping\n+     * @param flowResourcesFolder\n+     *            relative path to `flow-frontend` package\n      */\n     TaskUpdateWebpack(File frontendDirectory, File webpackConfigFolder,", "originalCommit": "91209f1c458a6e58815109ef1433656aadacb010", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cdf872f902dd6dcac2db111ac3d5ff636d70d420", "url": "https://github.com/vaadin/flow/commit/cdf872f902dd6dcac2db111ac3d5ff636d70d420", "message": "Sonar issues", "committedDate": "2020-08-21T09:46:22Z", "type": "commit"}, {"oid": "4a31dc859cc1f8f2cdabd19c22bba3b07be6091c", "url": "https://github.com/vaadin/flow/commit/4a31dc859cc1f8f2cdabd19c22bba3b07be6091c", "message": "IT test", "committedDate": "2020-08-21T09:48:37Z", "type": "commit"}, {"oid": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "url": "https://github.com/vaadin/flow/commit/10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "message": "Avoid constant in interface", "committedDate": "2020-08-21T09:57:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYxODg2OA==", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474618868", "body": "![INFO](https://sonarsource.github.io/sonar-github/severity-info.png 'Severity: INFO') Found reliance on default encoding in com.vaadin.flow.server.DevServerWatchDog$WatchDogServer.enterReloadMessageReadLoop(Socket): new java.io.InputStreamReader(InputStream) [![rule](https://sonarsource.github.io/sonar-github/rule.png)](https://sonar.projects.vaadin.com/coding_rules#rule_key=findbugs%3ADM_DEFAULT_ENCODING)\n", "bodyText": "Found reliance on default encoding in com.vaadin.flow.server.DevServerWatchDog$WatchDogServer.enterReloadMessageReadLoop(Socket): new java.io.InputStreamReader(InputStream)", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/a59bbc935b09d221e76be76443469ac9de22f19c879fed4fa25b4eb03ad53f5a/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d696e666f2e706e67\"><img src=\"https://camo.githubusercontent.com/a59bbc935b09d221e76be76443469ac9de22f19c879fed4fa25b4eb03ad53f5a/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d696e666f2e706e67\" alt=\"INFO\" title=\"Severity: INFO\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/severity-info.png\" style=\"max-width: 100%;\"></a> Found reliance on default encoding in com.vaadin.flow.server.DevServerWatchDog$WatchDogServer.enterReloadMessageReadLoop(Socket): new java.io.InputStreamReader(InputStream) <a href=\"https://sonar.projects.vaadin.com/coding_rules#rule_key=findbugs%3ADM_DEFAULT_ENCODING\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/90a66c56e56d5e4647676830313fa0693466067889c4c7dc2d7519da5a924230/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67\" alt=\"rule\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/rule.png\" style=\"max-width: 100%;\"></a></p>", "author": "vaadin-bot", "createdAt": "2020-08-21T10:40:11Z", "path": "flow-server/src/main/java/com/vaadin/flow/server/DevServerWatchDog.java", "diffHunk": "@@ -79,6 +84,19 @@ private Logger getLogger() {\n             return LoggerFactory.getLogger(WatchDogServer.class);\n         }\n \n+        private void enterReloadMessageReadLoop(Socket accept) throws IOException{\n+            BufferedReader in = new BufferedReader(new InputStreamReader(accept.getInputStream()));", "originalCommit": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYxODg3NA==", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r474618874", "body": "![INFO](https://sonarsource.github.io/sonar-github/severity-info.png 'Severity: INFO') Do not forget to remove this deprecated code someday. [![rule](https://sonarsource.github.io/sonar-github/rule.png)](https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS1133)\n", "bodyText": "Do not forget to remove this deprecated code someday.", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/a59bbc935b09d221e76be76443469ac9de22f19c879fed4fa25b4eb03ad53f5a/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d696e666f2e706e67\"><img src=\"https://camo.githubusercontent.com/a59bbc935b09d221e76be76443469ac9de22f19c879fed4fa25b4eb03ad53f5a/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f73657665726974792d696e666f2e706e67\" alt=\"INFO\" title=\"Severity: INFO\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/severity-info.png\" style=\"max-width: 100%;\"></a> Do not forget to remove this deprecated code someday. <a href=\"https://sonar.projects.vaadin.com/coding_rules#rule_key=squid%3AS1133\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/90a66c56e56d5e4647676830313fa0693466067889c4c7dc2d7519da5a924230/68747470733a2f2f736f6e6172736f757263652e6769746875622e696f2f736f6e61722d6769746875622f72756c652e706e67\" alt=\"rule\" data-canonical-src=\"https://sonarsource.github.io/sonar-github/rule.png\" style=\"max-width: 100%;\"></a></p>", "author": "vaadin-bot", "createdAt": "2020-08-21T10:40:12Z", "path": "flow-server/src/main/java/com/vaadin/flow/server/Constants.java", "diffHunk": "@@ -406,6 +406,12 @@\n     @Deprecated\n     public static final String SERVLET_PARAMETER_DEVMODE_ENABLE_LIVE_RELOAD = InitParameters.SERVLET_PARAMETER_DEVMODE_ENABLE_LIVE_RELOAD;", "originalCommit": "10b91637c485f6cc5ca19e670c19bb9c6ad2e9af", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6", "url": "https://github.com/vaadin/flow/commit/9763bdc63e1877c7b6de9c2fe417c784a9b619a6", "message": "Convert VaadinDevmodeGizmo to TypeScript", "committedDate": "2020-08-21T14:32:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTM4NzMzNw==", "url": "https://github.com/vaadin/flow/pull/8875#discussion_r475387337", "body": "JavaDoc missing for new getters and setters. Could explain in the setter what the param does.", "bodyText": "JavaDoc missing for new getters and setters. Could explain in the setter what the param does.", "bodyHTML": "<p dir=\"auto\">JavaDoc missing for new getters and setters. Could explain in the setter what the param does.</p>", "author": "caalador", "createdAt": "2020-08-24T07:15:10Z", "path": "flow-client/src/main/java/com/vaadin/client/ApplicationConfiguration.java", "diffHunk": "@@ -353,4 +358,36 @@ public void setExportedWebComponents(String[] exportedWebComponents) {\n     public String[] getExportedWebComponents() {\n         return exportedWebComponents;\n     }\n+\n+    public boolean isDevmodeGizmoEnabled() {", "originalCommit": "9763bdc63e1877c7b6de9c2fe417c784a9b619a6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aac8cbfe9953c9f802fd9a49b1dfad634f02c494", "url": "https://github.com/vaadin/flow/commit/aac8cbfe9953c9f802fd9a49b1dfad634f02c494", "message": "JavaDocs to AppliationConfiguration methods", "committedDate": "2020-08-24T08:26:30Z", "type": "commit"}, {"oid": "398190a9fe9e9c2140a1d47fa5b68cdffbe898d6", "url": "https://github.com/vaadin/flow/commit/398190a9fe9e9c2140a1d47fa5b68cdffbe898d6", "message": "Improved comment in empty CSS file", "committedDate": "2020-08-24T08:26:50Z", "type": "commit"}, {"oid": "442e76f7c56ad4784c9da75f820026df937f7600", "url": "https://github.com/vaadin/flow/commit/442e76f7c56ad4784c9da75f820026df937f7600", "message": "Added ending periods to JavaDoc", "committedDate": "2020-08-24T09:35:48Z", "type": "commit"}, {"oid": "7b9f2a3af3645ed995bb0bc4ba874a9a12077c5d", "url": "https://github.com/vaadin/flow/commit/7b9f2a3af3645ed995bb0bc4ba874a9a12077c5d", "message": "Corrected live reload checkbox enabledness logic", "committedDate": "2020-08-24T09:37:23Z", "type": "commit"}]}