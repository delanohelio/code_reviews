<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" />
  <!--diff2html-css-->
  <!--diff2html-js-ui-->
  <link rel="stylesheet" href="https://rawcdn.githack.com/jasonm23/markdown-css-themes/a2b4fd6d5627e4536a789b1feb46d94cd841f164/markdown.css" />
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const targetElement = document.getElementById('diff');
      const diff2htmlUi = new Diff2HtmlUI(targetElement);
      diff2html-fileListToggle
      //diff2html-synchronisedScroll
      //diff2html-highlightCode
    });
  </script>
  <style>
    body {
      width: 90%;
      max-width: unset;
    }
    pre code {
      display: block;
      background: #E8E8E8;
      font-size: small;
      white-space: pre;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      max-width: 100%;
      min-width: 100px;
      max-height: 250px;
      padding: 0;
    }
  </style>
</head>

<body>
<h2>apache/lucene-solr - PR 1815</h2>
<p><strong>Title</strong>: SOLR-14151: Bug fixes</p>
<h3>Code Review</h3>
<p>Inline Review ID - <a href="https://github.com/apache/lucene-solr/pull/1815#discussion_r483251942">MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI1MTk0Mg==</a></p>
<p>Original Commit - <a href="https://github.com/apache/lucene-solr/commit/f502a2f71dc8209d9edf6f4d74bcdf7fd2e80659">f502a2f71dc8209d9edf6f4d74bcdf7fd2e80659</a></p>
<pre><code>solr/core/src/java/org/apache/solr/core/ConfigSetService.java

@@ -81,8 +81,7 @@ public final ConfigSet loadConfigSet(CoreDescriptor dcore) {
               ) ? false: true;

       SolrConfig solrConfig = createSolrConfig(dcore, coreLoader, trusted);
-      IndexSchema indexSchema = createIndexSchema(dcore, solrConfig, false);
-      return new ConfigSet(configSetName(dcore), solrConfig, force -&gt; indexSchema, properties, trusted);
+      return new ConfigSet(configSetName(dcore), solrConfig, force -&gt; createIndexSchema(dcore, solrConfig, force), properties, trusted);</code></pre>
<blockquote>
<p><strong>tflobbe</strong>: Does this mean that every call to configSet.getIndexSchema() will create a new schema object (if shared schema is not enabled)?</p>
<p><strong>noblepaul</strong>: Yes.</p>
</blockquote>
<h3>Improved Code</h3>
<p>Not found</p>

<div id="diff">
  <!--diff2html-diff-->
</div>

</body>

</html>
