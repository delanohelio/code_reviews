{"pr_number": 8532, "pr_title": "IGNITE-13796 docs: update docs and examples for kubernetes module", "pr_author": "timoninmaxim", "pr_createdAt": "2020-12-02T22:02:48Z", "pr_url": "https://github.com/apache/ignite/pull/8532", "timeline": [{"oid": "7470b5e290f821f4977d07e3cd5d55a8adeb7d46", "url": "https://github.com/apache/ignite/commit/7470b5e290f821f4977d07e3cd5d55a8adeb7d46", "message": "IGNITE-13796 docs: update docs and examples for kubernetes module", "committedDate": "2020-12-02T22:01:26Z", "type": "commit"}, {"oid": "311918f602c4504e07de7dfe046600be1707846f", "url": "https://github.com/apache/ignite/commit/311918f602c4504e07de7dfe046600be1707846f", "message": "Fix grammar", "committedDate": "2020-12-03T08:23:23Z", "type": "commit"}, {"oid": "7c15ff7ef086a78089dc6ca24f2a5211ebb93d8c", "url": "https://github.com/apache/ignite/commit/7c15ff7ef086a78089dc6ca24f2a5211ebb93d8c", "message": "fixup! Fix grammar", "committedDate": "2020-12-25T15:09:42Z", "type": "commit"}, {"oid": "4a4884b4951ca077d896519524c97963e4c0acbb", "url": "https://github.com/apache/ignite/commit/4a4884b4951ca077d896519524c97963e4c0acbb", "message": "Add docs to java thin client page", "committedDate": "2021-01-11T09:47:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4NTIzMg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r557785232", "body": "@Nikita-tech-writer, please check the comments in the source code files too. I see some spellings below.", "bodyText": "@Nikita-tech-writer, please check the comments in the source code files too. I see some spellings below.", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/Nikita-tech-writer/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/Nikita-tech-writer\">@Nikita-tech-writer</a>, please check the comments in the source code files too. I see some spellings below.</p>", "author": "dmagda", "createdAt": "2021-01-15T00:25:56Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODIyMjI2Ng==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558222266", "bodyText": "@dmagda OK, sure", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T10:40:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzc4NTIzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM0ODczNg==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558348736", "body": "```suggestion\r\n            // Put, get, or remove data from the cache...\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // Put, get or remove data from the cache...\n          \n          \n            \n                        // Put, get, or remove data from the cache...", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Put, get or remove data from the cache...</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Put, get<span class=\"x x-first x-last\">,</span> or remove data from the cache...</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:38:56Z", "path": "docs/_docs/code-snippets/java/src/main/java/org/apache/ignite/snippets/JavaThinClient.java", "diffHunk": "@@ -360,6 +360,26 @@ void partitionAwareness() throws Exception {\n         //end::partition-awareness[]\n     }\n \n+    void clientAddressFinder() throws Exception {\n+        //tag::client-address-finder[]\n+        ClientAddressFinder finder = () -> {\n+            String[] dynamicServerAddresses = fetchServerAddresses();\n+\n+            return dynamicServerAddresses;\n+        };\n+\n+        ClientConfiguration cfg = new ClientConfiguration()\n+            .setAddressFinder(finder)\n+            .setPartitionAwarenessEnabled(true);\n+\n+        try (IgniteClient client = Ignition.startClient(cfg)) {\n+            ClientCache<Integer, String> cache = client.cache(\"myCache\");\n+            // Put, get or remove data from the cache...", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558359275", "body": "```suggestion\r\n * <li>A thin client application should be run within the cluster to provide access to the Ignite nodes pods.</li>\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * <li>A thin client application should be run within the cluster to have access to Ignite nodes pods.</li>\n          \n          \n            \n             * <li>A thin client application should be run within the cluster to provide access to the Ignite nodes pods.</li>", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"34\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"> <span class=\"pl-k\">*</span> <span class=\"pl-k\">&lt;</span>li<span class=\"pl-k\">&gt;</span><span class=\"pl-smi\">A</span> thin client application should be run within the cluster to <span class=\"x x-first x-last\">have</span> access to <span class=\"pl-smi\">Ignite</span> nodes pods<span class=\"pl-k\">.</span><span class=\"pl-k\">&lt;</span><span class=\"pl-k\">/</span>li<span class=\"pl-k\">&gt;</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"34\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"> <span class=\"pl-k\">*</span> <span class=\"pl-k\">&lt;</span>li<span class=\"pl-k\">&gt;</span><span class=\"pl-smi\">A</span> thin client application should be run within the cluster to <span class=\"x x-first x-last\">provide</span> access to<span class=\"x x-first x-last\"> the</span> <span class=\"pl-smi\">Ignite</span> nodes pods<span class=\"pl-k\">.</span><span class=\"pl-k\">&lt;</span><span class=\"pl-k\">/</span>li<span class=\"pl-k\">&gt;</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:54:38Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.\n+ * <p>\n+ * Prerequisites:\n+ * <ul>\n+ * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>\n+ * <li>A thin client application should be run within the cluster to have access to Ignite nodes pods.</li>", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ1NjA4OQ==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559456089", "bodyText": "Thin client does not \"provide\" access to Ignite, but do \"have\" the access to it within the cluster. I mean that there is no access to cluster if thin client isn't running within the cluster.", "author": "timoninmaxim", "createdAt": "2021-01-18T10:17:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTY5NTU2Nw==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r559695567", "bodyText": "OK, got it, thanks for the explanation!", "author": "Nikita-tech-writer", "createdAt": "2021-01-18T16:51:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1ODM1OTY3NA==", "url": "https://github.com/apache/ignite/pull/8532#discussion_r558359674", "body": "```suggestion\r\n * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md as an example of how to run a cluster locally.</li>\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>\n          \n          \n            \n             * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md as an example of how to run a cluster locally.</li>", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"> <span class=\"pl-k\">*</span> <span class=\"pl-k\">&lt;</span>li<span class=\"pl-k\">&gt;</span><span class=\"pl-smi\">Running</span> <span class=\"pl-smi\">Ignite</span> <span class=\"pl-smi\">Kubernetes</span> cluster. <span class=\"pl-smi\">Check</span> modules<span class=\"pl-k\">/</span>kubernetes<span class=\"pl-k\">/</span><span class=\"pl-c1\">DEVNOTES</span><span class=\"pl-k\">.</span>md <span class=\"pl-k x x-first\">for</span><span class=\"x x-last\"> </span>example how to run a cluster locally<span class=\"pl-k\">.</span><span class=\"pl-k\">&lt;</span><span class=\"pl-k\">/</span>li<span class=\"pl-k\">&gt;</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"> <span class=\"pl-k\">*</span> <span class=\"pl-k\">&lt;</span>li<span class=\"pl-k\">&gt;</span><span class=\"pl-smi\">Running</span> <span class=\"pl-smi\">Ignite</span> <span class=\"pl-smi\">Kubernetes</span> cluster. <span class=\"pl-smi\">Check</span> modules<span class=\"pl-k\">/</span>kubernetes<span class=\"pl-k\">/</span><span class=\"pl-c1\">DEVNOTES</span><span class=\"pl-k\">.</span>md <span class=\"x x-first x-last\">as an </span>example<span class=\"x x-first x-last\"> of</span> how to run a cluster locally<span class=\"pl-k\">.</span><span class=\"pl-k\">&lt;</span><span class=\"pl-k\">/</span>li<span class=\"pl-k\">&gt;</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Nikita-tech-writer", "createdAt": "2021-01-15T14:55:15Z", "path": "examples/src/main/java/org/apache/ignite/examples/client/ClientKubernetesPutGetExample.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.examples.client;\n+\n+import org.apache.ignite.Ignition;\n+import org.apache.ignite.client.ClientCache;\n+import org.apache.ignite.client.IgniteClient;\n+import org.apache.ignite.client.ThinClientKubernetesAddressFinder;\n+import org.apache.ignite.configuration.ClientConfiguration;\n+import org.apache.ignite.examples.model.Address;\n+import org.apache.ignite.kubernetes.configuration.KubernetesConnectionConfiguration;\n+\n+/**\n+ * Demonstrates how to use Ignite thin client within the Kubernetes cluster using KubernetesConnectionConfiguration.\n+ * <p>\n+ * Prerequisites:\n+ * <ul>\n+ * <li>Running Ignite Kubernetes cluster. Check modules/kubernetes/DEVNOTES.md for example how to run a cluster locally.</li>", "originalCommit": "4a4884b4951ca077d896519524c97963e4c0acbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3a010a9a266f440029348549057deafd33849ac9", "url": "https://github.com/apache/ignite/commit/3a010a9a266f440029348549057deafd33849ac9", "message": "Apply suggestions from code review\r\n\r\nFix some docs misspellings\n\nCo-authored-by: Nikita Safonov <73828260+Nikita-tech-writer@users.noreply.github.com>", "committedDate": "2021-01-18T10:19:13Z", "type": "commit"}, {"oid": "d9f7ffc120223259af57fb4701d22ded5ef8a551", "url": "https://github.com/apache/ignite/commit/d9f7ffc120223259af57fb4701d22ded5ef8a551", "message": "Little rewrite thin client docs.", "committedDate": "2021-01-21T13:10:38Z", "type": "commit"}, {"oid": "e2dc6b6a05c800f248088741a30f55ca5d15275d", "url": "https://github.com/apache/ignite/commit/e2dc6b6a05c800f248088741a30f55ca5d15275d", "message": "Merge branch 'IGNITE-13796__kubernetes_doc' of github.com:timoninmaxim/ignite into IGNITE-13796__kubernetes_doc", "committedDate": "2021-01-21T13:11:07Z", "type": "commit"}]}