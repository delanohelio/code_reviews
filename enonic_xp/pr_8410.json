{"pr_number": 8410, "pr_title": "Highlighting in query doesn't work with count=-1 #8409", "pr_author": "vbradnitski", "pr_createdAt": "2020-09-30T19:56:15Z", "pr_url": "https://github.com/enonic/xp/pull/8410", "timeline": [{"oid": "98efd352e405c79971179b9382832036633cd005", "url": "https://github.com/enonic/xp/commit/98efd352e405c79971179b9382832036633cd005", "message": "Highlighting in query doesn't work with count=-1 #8409", "committedDate": "2020-09-30T19:55:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1ODAxNg==", "url": "https://github.com/enonic/xp/pull/8410#discussion_r498058016", "body": "@vbradnitski I suggest to use `Objects.requireNonNull()` instead of `Preconditions.checkNotNull` because we are trying to avoid uses guava library.", "bodyText": "@vbradnitski I suggest to use Objects.requireNonNull() instead of Preconditions.checkNotNull because we are trying to avoid uses guava library.", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/vbradnitski/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/vbradnitski\">@vbradnitski</a> I suggest to use <code>Objects.requireNonNull()</code> instead of <code>Preconditions.checkNotNull</code> because we are trying to avoid uses guava library.</p>", "author": "anatol-sialitski", "createdAt": "2020-10-01T08:05:56Z", "path": "modules/core/core-repo/src/main/java/com/enonic/xp/repo/impl/elasticsearch/SearchRequestBuilderFactory.java", "diffHunk": "@@ -163,8 +187,22 @@ public Builder client( final Client client )\n             return this;\n         }\n \n+        public Builder scrollTime( final TimeValue scrollTime )\n+        {\n+            this.scrollTime = scrollTime;\n+            return this;\n+        }\n+\n+        private void validate()\n+        {\n+            Preconditions.checkNotNull( query, \"query must be set.\" );", "originalCommit": "98efd352e405c79971179b9382832036633cd005", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEzODk5MQ==", "url": "https://github.com/enonic/xp/pull/8410#discussion_r499138991", "bodyText": "Better do it in one shot, not gradually. Leave it for now.", "author": "rymsha", "createdAt": "2020-10-03T11:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA1ODAxNg=="}], "type": "inlineReview"}]}