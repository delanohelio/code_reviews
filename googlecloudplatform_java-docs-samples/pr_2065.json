{"pr_number": 2065, "pr_title": "Cleanup DLP Templates Snippets", "pr_author": "shubha-rajan", "pr_createdAt": "2020-02-12T00:29:41Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2065", "timeline": [{"oid": "6c9d970b3b88f18487aee4b5314f9903846c132d", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/6c9d970b3b88f18487aee4b5314f9903846c132d", "message": "refactored templates snippets", "committedDate": "2020-02-12T00:26:24Z", "type": "commit"}, {"oid": "5d2a29ead94009b10881b078a31849a3305703ff", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/5d2a29ead94009b10881b078a31849a3305703ff", "message": "Merge branch 'master' into dlp-snippets-refactor-3", "committedDate": "2020-02-12T17:21:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM5Nzg4Mg==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2065#discussion_r378397882", "body": "```suggestion\r\n            // Optionally set a display name and a description for the template\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // Optionally et a display name and a description for the template\n          \n          \n            \n                        // Optionally set a display name and a description for the template", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Optionally <span class=\"x x-first x-last\">et</span> a display name and a description for the template</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-c\"><span class=\"pl-c\">//</span> Optionally <span class=\"x x-first x-last\">set</span> a display name and a description for the template</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "kurtisvg", "createdAt": "2020-02-12T17:21:42Z", "path": "dlp/src/main/java/dlp/snippets/TemplatesCreate.java", "diffHunk": "@@ -0,0 +1,85 @@\n+/*\n+ * Copyright 2020 Google Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_create_inspect_template]\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.CreateInspectTemplateRequest;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectTemplate;\n+import com.google.privacy.dlp.v2.ProjectName;\n+\n+import java.io.IOException;\n+import java.util.List;\n+import java.util.stream.Stream;\n+import java.util.stream.Collectors;\n+\n+class TemplatesCreate {\n+\n+    public static void createInspectTemplate() throws IOException {\n+        // TODO(developer): Replace these variables before running the sample.\n+        String projectId = \"your-project-id\";\n+        createInspectTemplate(projectId);\n+    }\n+\n+    // Creates a template to persist configuration information\n+    public static void createInspectTemplate(String projectId) throws IOException {\n+        // Initialize client that will be used to send requests. This client only needs to be created\n+        // once, and can be reused for multiple requests. After completing all of your requests, call\n+        // the \"close\" method on the client to safely clean up any remaining background resources.\n+        try (DlpServiceClient dlpServiceClient = DlpServiceClient.create()) {\n+            // Specify the type of info the inspection will look for.\n+            // See https://cloud.google.com/dlp/docs/infotypes-reference for complete list of info types\n+            List<InfoType> infoTypes =\n+                    Stream.of(\"PHONE_NUMBER\", \"EMAIL_ADDRESS\", \"CREDIT_CARD_NUMBER\")\n+                            .map(it -> InfoType.newBuilder().setName(it).build())\n+                            .collect(Collectors.toList());\n+\n+            // Construct the inspection configuration for the template\n+            InspectConfig inspectConfig =\n+                    InspectConfig.newBuilder()\n+                            .addAllInfoTypes(infoTypes)\n+                            .build();\n+\n+            // Optionally et a display name and a description for the template", "originalCommit": "6c9d970b3b88f18487aee4b5314f9903846c132d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9328659dbce110efb76e9b6b891e33c648e9d83e", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/9328659dbce110efb76e9b6b891e33c648e9d83e", "message": "Update dlp/src/main/java/dlp/snippets/TemplatesCreate.java\n\nCo-Authored-By: Kurtis Van Gent <31518063+kurtisvg@users.noreply.github.com>", "committedDate": "2020-02-12T17:40:43Z", "type": "commit"}]}