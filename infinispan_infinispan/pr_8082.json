{"pr_number": 8082, "pr_title": "ISPN-11511 More consistent branding", "pr_author": "tristantarrant", "pr_createdAt": "2020-03-24T09:34:23Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8082", "timeline": [{"oid": "5ccc7cb6065cbe479dd1653835d5cb12cd5f3d5f", "url": "https://github.com/infinispan/infinispan/commit/5ccc7cb6065cbe479dd1653835d5cb12cd5f3d5f", "message": "ISPN-11511 More consistent branding\n\n* Introduce an infinispan.brand.version property\n* Align all shell tools to print the version in the same way", "committedDate": "2020-03-24T11:54:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwNzQ1OA==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r397207458", "body": "I think it should be `Infinispan` instead of the brand name. \r\n```suggestion\r\n      return \"Infinispan '\" + INSTANCE.codename + \"' \" + INSTANCE.version;\r\n```\r\n\r\nThis is used in CLI (`version` command) and it is logged when the server starts:\r\n`ISPN000128: Infinispan version: My Brand 'N/A' 11.0.0-SNAPSHOT`", "bodyText": "I think it should be Infinispan instead of the brand name.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  return INSTANCE.brandName + \" '\" + INSTANCE.codename + \"' \" + INSTANCE.version;\n          \n          \n            \n                  return \"Infinispan '\" + INSTANCE.codename + \"' \" + INSTANCE.version;\n          \n      \n    \n    \n  \n\nThis is used in CLI (version command) and it is logged when the server starts:\nISPN000128: Infinispan version: My Brand 'N/A' 11.0.0-SNAPSHOT", "bodyHTML": "<p dir=\"auto\">I think it should be <code>Infinispan</code> instead of the brand name.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">      <span class=\"pl-k\">return</span> <span class=\"pl-c1 x x-first\">INSTANCE</span><span class=\"pl-k x\">.</span><span class=\"x\">brandName </span><span class=\"pl-k x\">+</span><span class=\"x\"> </span><span class=\"pl-s\"><span class=\"pl-pds x x-last\">\"</span> '<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span>codename <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>' <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span>version;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">      <span class=\"pl-k\">return</span> <span class=\"pl-s\"><span class=\"pl-pds x x-first\">\"</span><span class=\"x x-last\">Infinispan</span> '<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span>codename <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>' <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span>version;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">This is used in CLI (<code>version</code> command) and it is logged when the server starts:<br>\n<code>ISPN000128: Infinispan version: My Brand 'N/A' 11.0.0-SNAPSHOT</code></p>", "author": "pruivo", "createdAt": "2020-03-24T14:44:02Z", "path": "commons/all/src/main/java/org/infinispan/commons/util/Version.java", "diffHunk": "@@ -161,7 +168,7 @@ public static void printFullVersionInformation() {\n     * Returns version information as a string.\n     */\n    public static String printVersion() {\n-      return INSTANCE.brandname + \" '\" + INSTANCE.codename + \"' \" + INSTANCE.version;\n+      return INSTANCE.brandName + \" '\" + INSTANCE.codename + \"' \" + INSTANCE.version;", "originalCommit": "5ccc7cb6065cbe479dd1653835d5cb12cd5f3d5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwODA1Ng==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r397208056", "bodyText": "or change its format:\n<brand> <brand_version> (Infinispan <project_version>)", "author": "pruivo", "createdAt": "2020-03-24T14:44:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwNzQ1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjg0OTQ2Mg==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r402849462", "bodyText": "May I suggest to move the codename to the end and use the brand version instead:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  return INSTANCE.brandName + \" '\" + INSTANCE.codename + \"' \" + INSTANCE.version;\n          \n          \n            \n                  return INSTANCE.brandName + \" \" + INSTANCE.brandVersion + \" (\" + INSTANCE.codename + \")\";", "author": "pruivo", "createdAt": "2020-04-03T08:50:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwNzQ1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwOTY3MQ==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r397209671", "body": "I'm not sure how useful is to have the codename...", "bodyText": "I'm not sure how useful is to have the codename...", "bodyHTML": "<p dir=\"auto\">I'm not sure how useful is to have the codename...</p>", "author": "pruivo", "createdAt": "2020-03-24T14:46:48Z", "path": "server/runtime/src/main/java/org/infinispan/server/logging/Log.java", "diffHunk": "@@ -22,8 +22,8 @@\n    void serverStarting(String name);\n \n    @LogMessage(level = Logger.Level.INFO)\n-   @Message(value = \"%s Server %s started in %dms\", id = 80001)\n-   void serverStarted(String name, String version, long ms);\n+   @Message(value = \"%s Server %s (%s) started in %dms\", id = 80001)\n+   void serverStarted(String name, String version, String codename, long ms);", "originalCommit": "5ccc7cb6065cbe479dd1653835d5cb12cd5f3d5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ2Mzk1NQ==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r402463955", "bodyText": "The idea is to use the codename to have the upstream name + version", "author": "tristantarrant", "createdAt": "2020-04-02T16:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIwOTY3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjg1MDE1Mg==", "url": "https://github.com/infinispan/infinispan/pull/8082#discussion_r402850152", "body": "use the `brandVersion` instead?\r\n```suggestion\r\n      System.out.printf(\"Version: \\t%s%n\", INSTANCE.brandVersion);\r\n```", "bodyText": "use the brandVersion instead?\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  System.out.printf(\"Version: \\t%s%n\", INSTANCE.version);\n          \n          \n            \n                  System.out.printf(\"Version: \\t%s%n\", INSTANCE.brandVersion);", "bodyHTML": "<p dir=\"auto\">use the <code>brandVersion</code> instead?</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">      <span class=\"pl-smi\">System</span><span class=\"pl-k\">.</span>out<span class=\"pl-k\">.</span>printf(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Version: <span class=\"pl-cce\">\\t</span>%s%n<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">version</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">      <span class=\"pl-smi\">System</span><span class=\"pl-k\">.</span>out<span class=\"pl-k\">.</span>printf(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Version: <span class=\"pl-cce\">\\t</span>%s%n<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-c1\">INSTANCE</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">brandVersion</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "pruivo", "createdAt": "2020-04-03T08:51:10Z", "path": "commons/all/src/main/java/org/infinispan/commons/util/Version.java", "diffHunk": "@@ -150,7 +157,7 @@ public static void main(String[] args) {\n     * Prints full version information to the standard output.\n     */\n    public static void printFullVersionInformation() {\n-      System.out.println(INSTANCE.brandname);\n+      System.out.println(INSTANCE.brandName);\n       System.out.println();\n       System.out.printf(\"Version: \\t%s%n\", INSTANCE.version);", "originalCommit": "5ccc7cb6065cbe479dd1653835d5cb12cd5f3d5f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "026893d23cb56d9102345716bd587476ff4ade79", "url": "https://github.com/infinispan/infinispan/commit/026893d23cb56d9102345716bd587476ff4ade79", "message": "ISPN-11511 More consistent branding\n\n* Introduce an infinispan.brand.version property\n* Align all shell tools to print the version in the same way", "committedDate": "2020-05-06T12:46:31Z", "type": "forcePushed"}, {"oid": "1e70749a61ab40913cb4cbbf4b490e93ded14359", "url": "https://github.com/infinispan/infinispan/commit/1e70749a61ab40913cb4cbbf4b490e93ded14359", "message": "ISPN-11511 More consistent branding\n\n* Introduce an infinispan.brand.version property\n* Align all shell tools to print the version in the same way", "committedDate": "2020-05-06T12:56:11Z", "type": "forcePushed"}, {"oid": "262db90de612db6e7b4978a6ef5c65333800cc1e", "url": "https://github.com/infinispan/infinispan/commit/262db90de612db6e7b4978a6ef5c65333800cc1e", "message": "ISPN-11511 More consistent branding\n\n* Introduce an infinispan.brand.version property\n* Align all shell tools to print the version in the same way", "committedDate": "2020-05-06T14:58:01Z", "type": "commit"}, {"oid": "262db90de612db6e7b4978a6ef5c65333800cc1e", "url": "https://github.com/infinispan/infinispan/commit/262db90de612db6e7b4978a6ef5c65333800cc1e", "message": "ISPN-11511 More consistent branding\n\n* Introduce an infinispan.brand.version property\n* Align all shell tools to print the version in the same way", "committedDate": "2020-05-06T14:58:01Z", "type": "forcePushed"}]}