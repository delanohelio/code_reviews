{"pr_number": 4105, "pr_title": "DHFPROD-4970: add validate entity field to mapping step", "pr_author": "AkshayBajajML", "pr_createdAt": "2020-06-16T22:34:32Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4105", "timeline": [{"oid": "65b5461817b40cc28022fde94bbb0e28e00f8a41", "url": "https://github.com/marklogic/marklogic-data-hub/commit/65b5461817b40cc28022fde94bbb0e28e00f8a41", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-16T22:49:01Z", "type": "forcePushed"}, {"oid": "75ab8f04a461d3d8e4ff3a2f95777de0d9ae3e9c", "url": "https://github.com/marklogic/marklogic-data-hub/commit/75ab8f04a461d3d8e4ff3a2f95777de0d9ae3e9c", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-17T22:28:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2Mjc3MA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4105#discussion_r442362770", "body": "You shouldn't change these files. These are generated by running generateJsonSchema2Pojo gradle task . If you want this changed, you will have to update schema and run this task.", "bodyText": "You shouldn't change these files. These are generated by running generateJsonSchema2Pojo gradle task . If you want this changed, you will have to update schema and run this task.", "bodyHTML": "<p dir=\"auto\">You shouldn't change these files. These are generated by running generateJsonSchema2Pojo gradle task . If you want this changed, you will have to update schema and run this task.</p>", "author": "srinathgit", "createdAt": "2020-06-18T16:43:30Z", "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java", "diffHunk": "@@ -81,32 +81,32 @@\n     private String stepDefinitionName;\n     /**\n      * Optional description fo the step\n-     * \n+     *\n      */\n     @JsonProperty(\"description\")\n     @JsonPropertyDescription(\"Optional description fo the step\")\n     private String description;\n     /**\n      * This is generated on the server-side\n-     * \n+     *\n      */\n     @JsonProperty(\"stepId\")\n     @JsonPropertyDescription(\"This is generated on the server-side\")\n     private String stepId;\n     /**\n      * Any properties in this object will be copied into the headers of each document processed by the step\n-     * \n+     *\n      */\n     @JsonProperty(\"headers\")\n     @JsonPropertyDescription(\"Any properties in this object will be copied into the headers of each document processed by the step\")\n     private Headers headers;\n     /**\n      * Applicable to mapping steps only\n-     * \n+     *\n      */\n     @JsonProperty(\"validateEntity\")\n     @JsonPropertyDescription(\"Applicable to mapping steps only\")\n-    private Boolean validateEntity;\n+    private String validateEntity;", "originalCommit": "75ab8f04a461d3d8e4ff3a2f95777de0d9ae3e9c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3dba38f20e3a27778e9713dbf7903a0fc9a346a6", "changed_code": [{"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex f2f54c429..2028b8e5a 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -106,7 +106,7 @@ public class StepSchema {\n      */\n     @JsonProperty(\"validateEntity\")\n     @JsonPropertyDescription(\"Applicable to mapping steps only\")\n-    private String validateEntity;\n+    private Boolean validateEntity;\n     @JsonProperty(\"targetDatabase\")\n     private String targetDatabase;\n     @JsonProperty(\"sourceDatabase\")\n", "next_change": {"commit": "becd28be5530a8602e18d904f3f6444a86496797", "changed_code": [{"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex 2028b8e5a..8feb4d795 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -81,32 +81,32 @@ public class StepSchema {\n     private String stepDefinitionName;\n     /**\n      * Optional description fo the step\n-     *\n+     * \n      */\n     @JsonProperty(\"description\")\n     @JsonPropertyDescription(\"Optional description fo the step\")\n     private String description;\n     /**\n      * This is generated on the server-side\n-     *\n+     * \n      */\n     @JsonProperty(\"stepId\")\n     @JsonPropertyDescription(\"This is generated on the server-side\")\n     private String stepId;\n     /**\n      * Any properties in this object will be copied into the headers of each document processed by the step\n-     *\n+     * \n      */\n     @JsonProperty(\"headers\")\n     @JsonPropertyDescription(\"Any properties in this object will be copied into the headers of each document processed by the step\")\n     private Headers headers;\n     /**\n      * Applicable to mapping steps only\n-     *\n+     * \n      */\n     @JsonProperty(\"validateEntity\")\n     @JsonPropertyDescription(\"Applicable to mapping steps only\")\n-    private Boolean validateEntity;\n+    private String validateEntity;\n     @JsonProperty(\"targetDatabase\")\n     private String targetDatabase;\n     @JsonProperty(\"sourceDatabase\")\n", "next_change": null}, {"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex 2028b8e5a..8feb4d795 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -115,70 +115,70 @@ public class StepSchema {\n     private StepSchema.OutputFormat outputFormat;\n     /**\n      * Comma-delimited string of role,capability,role,capability,etc\n-     *\n+     * \n      */\n     @JsonProperty(\"permissions\")\n     @JsonPropertyDescription(\"Comma-delimited string of role,capability,role,capability,etc\")\n     private String permissions;\n     /**\n      * additional collections provided by the user that get applied to the step output\n-     *\n+     * \n      */\n     @JsonProperty(\"collections\")\n     @JsonPropertyDescription(\"additional collections provided by the user that get applied to the step output\")\n     private List<String> collections = new ArrayList<String>();\n     /**\n      * default collections associated with a step that are applied to the step output\n-     *\n+     * \n      */\n     @JsonProperty(\"additionalCollections\")\n     @JsonPropertyDescription(\"default collections associated with a step that are applied to the step output\")\n     private List<String> additionalCollections = new ArrayList<String>();\n     /**\n      * If true, the step module is invoked once with all records in the batch passed to it\n-     *\n+     * \n      */\n     @JsonProperty(\"acceptsBatch\")\n     @JsonPropertyDescription(\"If true, the step module is invoked once with all records in the batch passed to it\")\n     private Boolean acceptsBatch = false;\n     /**\n      * If true, custom modules can make changes directly to records in the database\n-     *\n+     * \n      */\n     @JsonProperty(\"stepUpdate\")\n     @JsonPropertyDescription(\"If true, custom modules can make changes directly to records in the database\")\n     private Boolean stepUpdate = false;\n     /**\n      * The granularity of the provenance tracking information: coarse (default) to store document-level provenance information only, fine to store document-level and property-level provenance information, or off to disable provenance tracking in future job runs. Applies only to mapping, matching, merging, mastering, and custom steps.\n-     *\n+     * \n      */\n     @JsonProperty(\"provenanceGranularityLevel\")\n     @JsonPropertyDescription(\"The granularity of the provenance tracking information: coarse (default) to store document-level provenance information only, fine to store document-level and property-level provenance information, or off to disable provenance tracking in future job runs. Applies only to mapping, matching, merging, mastering, and custom steps.\")\n     private StepSchema.ProvenanceGranularityLevel provenanceGranularityLevel;\n     /**\n      * If true, the query is applied to the documents that were created or modified in the same job that executes the step\n-     *\n+     * \n      */\n     @JsonProperty(\"constrainSourceQueryToJob\")\n     @JsonPropertyDescription(\"If true, the query is applied to the documents that were created or modified in the same job that executes the step\")\n     private Boolean constrainSourceQueryToJob;\n     /**\n      * Added in 5.3.0; if true, then sourceQuery can be any JavaScript statement that can be passed into xdmp.eval\n-     *\n+     * \n      */\n     @JsonProperty(\"sourceQueryIsScript\")\n     @JsonPropertyDescription(\"Added in 5.3.0; if true, then sourceQuery can be any JavaScript statement that can be passed into xdmp.eval\")\n     private Boolean sourceQueryIsScript;\n     /**\n      * Defines the items to be processed by the step; must be a cts.query or cts.uris statement if sourceQueryIsScript is false\n-     *\n+     * \n      */\n     @JsonProperty(\"sourceQuery\")\n     @JsonPropertyDescription(\"Defines the items to be processed by the step; must be a cts.query or cts.uris statement if sourceQueryIsScript is false\")\n     private String sourceQuery;\n     /**\n      * The identifier of an Entity Type. (IRI, with title as fallback)\n-     *\n+     * \n      */\n     @JsonProperty(\"targetEntityType\")\n     @JsonPropertyDescription(\"The identifier of an Entity Type. (IRI, with title as fallback)\")\n", "next_change": null}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2MzIzMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4105#discussion_r442363233", "body": "same comment as earlier for all the edits made in this file", "bodyText": "same comment as earlier for all the edits made in this file", "bodyHTML": "<p dir=\"auto\">same comment as earlier for all the edits made in this file</p>", "author": "srinathgit", "createdAt": "2020-06-18T16:44:17Z", "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java", "diffHunk": "@@ -332,19 +332,19 @@ public void setHeaders(Headers headers) {\n \n     /**\n      * Applicable to mapping steps only\n-     * \n+     *\n      */\n     @JsonProperty(\"validateEntity\")\n-    public Boolean getValidateEntity() {\n+    public String getValidateEntity() {\n         return validateEntity;\n     }\n \n     /**\n      * Applicable to mapping steps only\n-     * \n+     *\n      */\n     @JsonProperty(\"validateEntity\")\n-    public void setValidateEntity(Boolean validateEntity) {\n+    public void setValidateEntity(String validateEntity) {", "originalCommit": "75ab8f04a461d3d8e4ff3a2f95777de0d9ae3e9c", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3dba38f20e3a27778e9713dbf7903a0fc9a346a6", "changed_code": [{"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex f2f54c429..2028b8e5a 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -344,7 +344,7 @@ public class StepSchema {\n      *\n      */\n     @JsonProperty(\"validateEntity\")\n-    public void setValidateEntity(String validateEntity) {\n+    public void setValidateEntity(Boolean validateEntity) {\n         this.validateEntity = validateEntity;\n     }\n \n", "next_change": {"commit": "becd28be5530a8602e18d904f3f6444a86496797", "changed_code": [{"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex 2028b8e5a..8feb4d795 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -332,19 +332,19 @@ public class StepSchema {\n \n     /**\n      * Applicable to mapping steps only\n-     *\n+     * \n      */\n     @JsonProperty(\"validateEntity\")\n-    public Boolean getValidateEntity() {\n+    public String getValidateEntity() {\n         return validateEntity;\n     }\n \n     /**\n      * Applicable to mapping steps only\n-     *\n+     * \n      */\n     @JsonProperty(\"validateEntity\")\n-    public void setValidateEntity(Boolean validateEntity) {\n+    public void setValidateEntity(String validateEntity) {\n         this.validateEntity = validateEntity;\n     }\n \n", "next_change": null}]}}]}}, {"oid": "3dba38f20e3a27778e9713dbf7903a0fc9a346a6", "url": "https://github.com/marklogic/marklogic-data-hub/commit/3dba38f20e3a27778e9713dbf7903a0fc9a346a6", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-18T20:05:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUyOTQzMw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4105#discussion_r442529433", "body": "You will have to update the data type in schema json file and the run 'generateJsonSchema2Pojo' task , so that it's updated from Boolean to String", "bodyText": "You will have to update the data type in schema json file and the run 'generateJsonSchema2Pojo' task , so that it's updated from Boolean to String", "bodyHTML": "<p dir=\"auto\">You will have to update the data type in schema json file and the run 'generateJsonSchema2Pojo' task , so that it's updated from Boolean to String</p>", "author": "srinathgit", "createdAt": "2020-06-18T22:09:56Z", "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java", "diffHunk": "@@ -332,7 +332,7 @@ public void setHeaders(Headers headers) {\n \n     /**\n      * Applicable to mapping steps only\n-     * \n+     *\n      */\n     @JsonProperty(\"validateEntity\")\n     public Boolean getValidateEntity() {", "originalCommit": "3dba38f20e3a27778e9713dbf7903a0fc9a346a6", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "becd28be5530a8602e18d904f3f6444a86496797", "changed_code": [{"header": "diff --git a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\nindex 2028b8e5a..8feb4d795 100644\n--- a/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n+++ b/marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/schemas/StepSchema.java\n", "chunk": "@@ -332,19 +332,19 @@ public class StepSchema {\n \n     /**\n      * Applicable to mapping steps only\n-     *\n+     * \n      */\n     @JsonProperty(\"validateEntity\")\n-    public Boolean getValidateEntity() {\n+    public String getValidateEntity() {\n         return validateEntity;\n     }\n \n     /**\n      * Applicable to mapping steps only\n-     *\n+     * \n      */\n     @JsonProperty(\"validateEntity\")\n-    public void setValidateEntity(Boolean validateEntity) {\n+    public void setValidateEntity(String validateEntity) {\n         this.validateEntity = validateEntity;\n     }\n \n", "next_change": null}]}}, {"oid": "becd28be5530a8602e18d904f3f6444a86496797", "url": "https://github.com/marklogic/marklogic-data-hub/commit/becd28be5530a8602e18d904f3f6444a86496797", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-18T23:43:41Z", "type": "forcePushed"}, {"oid": "78380b1a3f4f3b77149040f3e8fbc744e4cd547f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/78380b1a3f4f3b77149040f3e8fbc744e4cd547f", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-19T22:54:20Z", "type": "commit"}, {"oid": "78380b1a3f4f3b77149040f3e8fbc744e4cd547f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/78380b1a3f4f3b77149040f3e8fbc744e4cd547f", "message": "DHFPROD-4970: Add Validate entity field to Mapping step", "committedDate": "2020-06-19T22:54:20Z", "type": "forcePushed"}]}