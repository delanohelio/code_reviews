{"pr_number": 4527, "pr_title": "[JENKINS-61197] Skip $WORKSPACE_TMP for root directories", "pr_author": "jglick", "pr_createdAt": "2020-02-25T14:27:47Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4527", "timeline": [{"oid": "59c0faa8944125a8dc3d238ad059466d11c2fed2", "url": "https://github.com/jenkinsci/jenkins/commit/59c0faa8944125a8dc3d238ad059466d11c2fed2", "message": "[JENKINS-61197] Skip $WORKSPACE_TMP for root directories", "committedDate": "2020-02-25T14:24:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxNDY4Nw==", "url": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383914687", "body": "Sort of incompatible for plugin callers, though in cases where this now returns null, it would previously have thrown a `NullPointerException`, so maybe this is no worse.", "bodyText": "Sort of incompatible for plugin callers, though in cases where this now returns null, it would previously have thrown a NullPointerException, so maybe this is no worse.", "bodyHTML": "<p dir=\"auto\">Sort of incompatible for plugin callers, though in cases where this now returns null, it would previously have thrown a <code>NullPointerException</code>, so maybe this is no worse.</p>", "author": "jglick", "createdAt": "2020-02-25T14:32:40Z", "path": "core/src/main/java/hudson/slaves/WorkspaceList.java", "diffHunk": "@@ -302,6 +303,7 @@ public void release() {\n      * @return a sibling directory, for example {@code \u2026/something@tmp} for {@code \u2026/something}\n      * @since 1.652\n      */\n+    @CheckForNull", "originalCommit": "59c0faa8944125a8dc3d238ad059466d11c2fed2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxNzgwOA==", "url": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383917808", "bodyText": "Some Javadoc could be moved over from #4526", "author": "oleg-nenashev", "createdAt": "2020-02-25T14:37:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxNDY4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyMzc1OA==", "url": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383923758", "bodyText": "Kept it brief, but yeah.", "author": "jglick", "createdAt": "2020-02-25T14:46:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxNDY4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxNzE1MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383917150", "body": "```suggestion\r\n     * Gets a sibling file in the same directory.\r\n     * @param rel name of the file\r\n     * @return Sibling file with a specified file name.\r\n     *         {@code null} if no sibling file can be created, e.g. if the current file points to the filesystem root.\r\n```\r\n\r\nCopied from https://github.com/jenkinsci/jenkins/pull/4526", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Short for {@code getParent().child(rel)}. Useful for getting other files in the same directory. \n          \n          \n            \n                 * Gets a sibling file in the same directory.\n          \n          \n            \n                 * @param rel name of the file\n          \n          \n            \n                 * @return Sibling file with a specified file name.\n          \n          \n            \n                 *         {@code null} if no sibling file can be created, e.g. if the current file points to the filesystem root.\n          \n      \n    \n    \n  \n\nCopied from #4526", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first\">Short</span><span class=\"x\"> </span><span class=\"pl-k x\">for</span><span class=\"x\"> {</span><span class=\"pl-k x\">@code</span><span class=\"x\"> getParent()</span><span class=\"pl-k x\">.</span><span class=\"x\">child(rel)}</span><span class=\"pl-c1 x\">.</span><span class=\"x\"> </span><span class=\"pl-smi x\">Useful</span><span class=\"x\"> </span><span class=\"pl-k x\">for</span><span class=\"x x-last\"> getting other files </span>in the same directory.<span class=\"x x-first x-last\"> </span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first\">Gets</span><span class=\"x x-last\"> a sibling file </span>in the same directory.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@param</span> rel name of the file</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@return</span> <span class=\"pl-smi\">Sibling</span> file with a specified file name.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span>         {<span class=\"pl-k\">@code</span> <span class=\"pl-c1\">null</span>} <span class=\"pl-k\">if</span> no sibling file can be created, e<span class=\"pl-k\">.</span>g. <span class=\"pl-k\">if</span> the current file points to the filesystem root.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">Copied from <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"570582420\" data-permission-text=\"Title is private\" data-url=\"https://github.com/jenkinsci/jenkins/issues/4526\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jenkinsci/jenkins/pull/4526/hovercard\" href=\"https://github.com/jenkinsci/jenkins/pull/4526\">#4526</a></p>", "author": "oleg-nenashev", "createdAt": "2020-02-25T14:36:54Z", "path": "core/src/main/java/hudson/FilePath.java", "diffHunk": "@@ -1323,8 +1323,10 @@ public String getName() {\n     /**\n      * Short for {@code getParent().child(rel)}. Useful for getting other files in the same directory. ", "originalCommit": "59c0faa8944125a8dc3d238ad059466d11c2fed2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5364d80423d9744f5020fa7d0b2e2e2b0f178ebd", "url": "https://github.com/jenkinsci/jenkins/commit/5364d80423d9744f5020fa7d0b2e2e2b0f178ebd", "message": "Documenting amended behavior", "committedDate": "2020-02-25T14:43:00Z", "type": "commit"}, {"oid": "8337315cced961853eb0d9f24034290066783662", "url": "https://github.com/jenkinsci/jenkins/commit/8337315cced961853eb0d9f24034290066783662", "message": "Javadoc", "committedDate": "2020-02-25T14:45:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyNDYyOQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383924629", "body": "https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383917150 is IMHO better but \ud83e\udd37\u200d\u2642 as long as we have user docs", "bodyText": "#4527 (comment) is IMHO better but \ud83e\udd37\u200d\u2642 as long as we have user docs", "bodyHTML": "<p dir=\"auto\"><a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"570608811\" data-permission-text=\"Title is private\" data-url=\"https://github.com/jenkinsci/jenkins/issues/4527\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jenkinsci/jenkins/pull/4527/hovercard?comment_id=383917150&amp;comment_type=review_comment\" href=\"https://github.com/jenkinsci/jenkins/pull/4527#discussion_r383917150\">#4527 (comment)</a> is IMHO better but <g-emoji class=\"g-emoji\" alias=\"man_shrugging\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f937-2642.png\">\ud83e\udd37\u200d\u2642</g-emoji> as long as we have user docs</p>", "author": "oleg-nenashev", "createdAt": "2020-02-25T14:48:12Z", "path": "core/src/main/java/hudson/FilePath.java", "diffHunk": "@@ -1321,10 +1321,13 @@ public String getName() {\n     }\n \n     /**\n-     * Short for {@code getParent().child(rel)}. Useful for getting other files in the same directory. \n+     * Short for {@code getParent().child(rel)}. Useful for getting other files in the same directory.\n+     * @return null if {@link #getParent} would have", "originalCommit": "8337315cced961853eb0d9f24034290066783662", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}