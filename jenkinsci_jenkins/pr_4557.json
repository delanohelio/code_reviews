{"pr_number": 4557, "pr_title": "Make TimeZoneProperty compatible with JCasc", "pr_author": "timja", "pr_createdAt": "2020-03-08T21:15:25Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4557", "timeline": [{"oid": "b3a64bf3e8ab9b5da486cb44125b5171396cc827", "url": "https://github.com/jenkinsci/jenkins/commit/b3a64bf3e8ab9b5da486cb44125b5171396cc827", "message": "Make TimeZoneProperty compatible with JCasc", "committedDate": "2020-03-08T21:13:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQwNjQwNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4557#discussion_r389406407", "body": "This caused null pointers in jcasc as there's a transient user reference set on the property that can't be set through regular databinding,\r\n\r\nI haven't seen this save pattern on any other user property and it works fine without it\r\n\r\nI've tested from the UI and restarted jenkins and it is all fine, (and through jcasc)\r\n\r\nnote that this class is restricted no external use so evolving it is fine\r\nclass references:\r\nhttps://github.com/search?q=org%3Ajenkinsci+TimeZoneProperty&type=Code", "bodyText": "This caused null pointers in jcasc as there's a transient user reference set on the property that can't be set through regular databinding,\nI haven't seen this save pattern on any other user property and it works fine without it\nI've tested from the UI and restarted jenkins and it is all fine, (and through jcasc)\nnote that this class is restricted no external use so evolving it is fine\nclass references:\nhttps://github.com/search?q=org%3Ajenkinsci+TimeZoneProperty&type=Code", "bodyHTML": "<p dir=\"auto\">This caused null pointers in jcasc as there's a transient user reference set on the property that can't be set through regular databinding,</p>\n<p dir=\"auto\">I haven't seen this save pattern on any other user property and it works fine without it</p>\n<p dir=\"auto\">I've tested from the UI and restarted jenkins and it is all fine, (and through jcasc)</p>\n<p dir=\"auto\">note that this class is restricted no external use so evolving it is fine<br>\nclass references:<br>\n<a href=\"https://github.com/search?q=org%3Ajenkinsci+TimeZoneProperty&amp;type=Code\">https://github.com/search?q=org%3Ajenkinsci+TimeZoneProperty&amp;type=Code</a></p>", "author": "timja", "createdAt": "2020-03-08T21:20:57Z", "path": "core/src/main/java/hudson/model/TimeZoneProperty.java", "diffHunk": "@@ -39,11 +39,6 @@ private TimeZoneProperty() {\n         this(null);\n     }\n \n-    @Override\n-    public void save() throws IOException {\n-        user.save();", "originalCommit": "b3a64bf3e8ab9b5da486cb44125b5171396cc827", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}