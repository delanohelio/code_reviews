{"pr_number": 2377, "pr_title": "Cartography Table fix", "pr_author": "poma123", "pr_createdAt": "2020-10-01T17:33:50Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2377", "timeline": [{"oid": "30603d9bf5bd3cd13d7377123b4814e6ead44e81", "url": "https://github.com/Slimefun/Slimefun4/commit/30603d9bf5bd3cd13d7377123b4814e6ead44e81", "message": "Added an EventHandler for Cartography Table", "committedDate": "2020-10-01T17:12:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1NzQzMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r498457433", "body": "I think this is a bit too long of an if statement. ", "bodyText": "I think this is a bit too long of an if statement.", "bodyHTML": "<p dir=\"auto\">I think this is a bit too long of an if statement.</p>", "author": "LinoxGH", "createdAt": "2020-10-01T19:06:24Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,19 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (e.getRawSlot() == 2 && e.getInventory().getType() == InventoryType.CARTOGRAPHY && e.getWhoClicked() instanceof Player) {", "originalCommit": "30603d9bf5bd3cd13d7377123b4814e6ead44e81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "76bc9b119222b9682d5525ec3336c2c0d0116c41", "url": "https://github.com/Slimefun/Slimefun4/commit/76bc9b119222b9682d5525ec3336c2c0d0116c41", "message": "Fixed capitalization", "committedDate": "2020-10-01T19:25:56Z", "type": "commit"}, {"oid": "93fc7ff3abef8c83a7a1627481ad2402a12e6927", "url": "https://github.com/Slimefun/Slimefun4/commit/93fc7ff3abef8c83a7a1627481ad2402a12e6927", "message": "Formatting", "committedDate": "2020-10-01T20:13:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0NTI1MA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r498545250", "body": "The Cartography table doesn't exist in 1.13 I think, so this will require a version check here", "bodyText": "The Cartography table doesn't exist in 1.13 I think, so this will require a version check here", "bodyHTML": "<p dir=\"auto\">The Cartography table doesn't exist in 1.13 I think, so this will require a version check here</p>", "author": "TheBusyBiscuit", "createdAt": "2020-10-01T22:35:42Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,20 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (e.getRawSlot() == 2 && e.getInventory().getType() == InventoryType.CARTOGRAPHY", "originalCommit": "93fc7ff3abef8c83a7a1627481ad2402a12e6927", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "59c1683295dee603e0cb6158cc9d2cf44ae929ff", "url": "https://github.com/Slimefun/Slimefun4/commit/59c1683295dee603e0cb6158cc9d2cf44ae929ff", "message": "Added version check", "committedDate": "2020-10-02T12:38:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzY2OQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499173669", "body": "You should probably format it like it was done with the Grindstone here:\r\nhttps://github.com/Slimefun/Slimefun4/pull/2377/files#diff-1d5c31c48a96cc8f0cfae3f72789abd9R43-R47\r\nBecause I think a comment explaining why we abort on earlier versions is important to keep there.", "bodyText": "You should probably format it like it was done with the Grindstone here:\nhttps://github.com/Slimefun/Slimefun4/pull/2377/files#diff-1d5c31c48a96cc8f0cfae3f72789abd9R43-R47\nBecause I think a comment explaining why we abort on earlier versions is important to keep there.", "bodyHTML": "<p dir=\"auto\">You should probably format it like it was done with the Grindstone here:<br>\n<a href=\"https://github.com/Slimefun/Slimefun4/pull/2377/files#diff-1d5c31c48a96cc8f0cfae3f72789abd9R43-R47\">https://github.com/Slimefun/Slimefun4/pull/2377/files#diff-1d5c31c48a96cc8f0cfae3f72789abd9R43-R47</a><br>\nBecause I think a comment explaining why we abort on earlier versions is important to keep there.</p>", "author": "TheBusyBiscuit", "createdAt": "2020-10-03T19:06:13Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,20 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14) && e.getRawSlot() == 2", "originalCommit": "59c1683295dee603e0cb6158cc9d2cf44ae929ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzkyMg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499173922", "bodyText": "Okay", "author": "poma123", "createdAt": "2020-10-03T19:10:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzY2OQ=="}], "type": "inlineReview"}, {"oid": "cb97a89f9837307371d5e899a9cc5ecb06237399", "url": "https://github.com/Slimefun/Slimefun4/commit/cb97a89f9837307371d5e899a9cc5ecb06237399", "message": "Added a separate version check", "committedDate": "2020-10-03T19:12:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDE2Nw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174167", "body": "Why do you create a variable here? This just creates an unnecessary memory heap for gc to clean. ", "bodyText": "Why do you create a variable here? This just creates an unnecessary memory heap for gc to clean.", "bodyHTML": "<p dir=\"auto\">Why do you create a variable here? This just creates an unnecessary memory heap for gc to clean.</p>", "author": "LinoxGH", "createdAt": "2020-10-03T19:13:19Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,25 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        // The Cartography Table was only ever added in MC 1.14\n+        MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();", "originalCommit": "cb97a89f9837307371d5e899a9cc5ecb06237399", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDU1Mg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174552", "bodyText": "There you go.", "author": "poma123", "createdAt": "2020-10-03T19:19:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDE2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDMxMg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174312", "body": "```suggestion\n        if (!SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {\n```\nThis should suffice. \n", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();\n          \n          \n            \n                    if (!minecraftVersion.isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {\n          \n          \n            \n                    if (!SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {\n          \n      \n    \n    \n  \n\nThis should suffice.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-smi\">MinecraftVersion</span> minecraftVersion <span class=\"pl-k\">=</span> <span class=\"pl-smi\">SlimefunPlugin</span><span class=\"pl-k\">.</span>getMinecraftVersion();</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>minecraftVersion<span class=\"pl-k\">.</span>isAtLeast(<span class=\"pl-smi\">MinecraftVersion</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>MINECRAFT_1_14</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"pl-smi\">SlimefunPlugin</span><span class=\"pl-k\">.</span>getMinecraftVersion()<span class=\"pl-k\">.</span>isAtLeast(<span class=\"pl-smi\">MinecraftVersion</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>MINECRAFT_1_14</span>)) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">This should suffice.</p>", "author": "LinoxGH", "createdAt": "2020-10-03T19:15:16Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,25 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        // The Cartography Table was only ever added in MC 1.14\n+        MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();\n+        if (!minecraftVersion.isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {", "originalCommit": "cb97a89f9837307371d5e899a9cc5ecb06237399", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b1a07c033755fcd661fb73e2df31834e7d8c1814", "url": "https://github.com/Slimefun/Slimefun4/commit/b1a07c033755fcd661fb73e2df31834e7d8c1814", "message": "Minor improvements", "committedDate": "2020-10-03T19:18:36Z", "type": "commit"}]}