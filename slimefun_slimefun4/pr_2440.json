{"pr_number": 2440, "pr_title": "Fixed #2439", "pr_author": "LinoxGH", "pr_createdAt": "2020-10-10T21:21:38Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2440", "timeline": [{"oid": "05d7ab5643ca71ebbb33509ed7c6d4c21ab135ee", "url": "https://github.com/Slimefun/Slimefun4/commit/05d7ab5643ca71ebbb33509ed7c6d4c21ab135ee", "message": "Update ExplosiveTool.java", "committedDate": "2020-10-10T21:12:42Z", "type": "commit"}, {"oid": "bf3e6754cc0539a4f1a5553befe83e58997580e9", "url": "https://github.com/Slimefun/Slimefun4/commit/bf3e6754cc0539a4f1a5553befe83e58997580e9", "message": "Changed event priorities.", "committedDate": "2020-10-10T21:19:15Z", "type": "commit"}, {"oid": "fdd33f91828ed6214dcf3b1cf08b0c8070d7c6e3", "url": "https://github.com/Slimefun/Slimefun4/commit/fdd33f91828ed6214dcf3b1cf08b0c8070d7c6e3", "message": "Update CHANGELOG.md", "committedDate": "2020-10-10T21:20:02Z", "type": "commit"}, {"oid": "6082abb9b6431893b38f5282a455a2d8804fb579", "url": "https://github.com/Slimefun/Slimefun4/commit/6082abb9b6431893b38f5282a455a2d8804fb579", "message": "Merge branch 'master' into ExplosivePickFix", "committedDate": "2020-10-10T21:23:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502840895", "body": "This is completely redundant as the Listener which calls this method already checks if it is cancelled.\r\nAlso missing brackets.", "bodyText": "This is completely redundant as the Listener which calls this method already checks if it is cancelled.\nAlso missing brackets.", "bodyHTML": "<p dir=\"auto\">This is completely redundant as the Listener which calls this method already checks if it is cancelled.<br>\nAlso missing brackets.</p>", "author": "TheBusyBiscuit", "createdAt": "2020-10-10T22:52:03Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/tools/ExplosiveTool.java", "diffHunk": "@@ -52,6 +52,8 @@ public ExplosiveTool(Category category, SlimefunItemStack item, RecipeType recip\n     @Override\n     public ToolUseHandler getItemHandler() {\n         return (e, tool, fortune, drops) -> {\n+            if (e.isCancelled()) return;", "originalCommit": "6082abb9b6431893b38f5282a455a2d8804fb579", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MTg5NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502841895", "bodyText": "This is completely redundant as the Listener which calls this method already checks if it is cancelled.\nAlso missing brackets.\n\nNo it doesn't", "author": "LinoxGH", "createdAt": "2020-10-10T23:04:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MTkyNA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502841924", "bodyText": "It only does a material check.", "author": "LinoxGH", "createdAt": "2020-10-10T23:05:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MzgwOA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502843808", "bodyText": "ignoreCancelled = true\n@EventHandler(priority = EventPriority.MONITOR, ignoreCancelled = true)\n    public void onBlockBreak(BlockBreakEvent e) {", "author": "TheBusyBiscuit", "createdAt": "2020-10-10T23:30:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg2NjA5Mw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502866093", "bodyText": "ignoreCancelled = true\n@EventHandler(priority = EventPriority.MONITOR, ignoreCancelled = true)\n    public void onBlockBreak(BlockBreakEvent e) {\n\nYes. So listener is fired no matter if the even is cancelled. If that worked like it ignored cancelled events, then why is there a cancelled check below?", "author": "LinoxGH", "createdAt": "2020-10-11T05:02:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg2OTEyMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502869123", "bodyText": "Ok just looked up, I was wrong.", "author": "LinoxGH", "createdAt": "2020-10-11T05:47:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg5NjIzNg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502896236", "bodyText": "ignoreCancelled is very ambiguous", "author": "svr333", "createdAt": "2020-10-11T10:26:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDg5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDk3Nw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502840977", "body": "```suggestion\r\n    @EventHandler(priority = EventPriority.HIGH, ignoreCancelled = true)\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @EventHandler(priority = EventPriority.HIGHEST, ignoreCancelled = true)\n          \n          \n            \n                @EventHandler(priority = EventPriority.HIGH, ignoreCancelled = true)", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">@EventHandler</span>(<span class=\"pl-c1\">priority</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">EventPriority</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">HIGHEST</span></span>, <span class=\"pl-c1\">ignoreCancelled</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>)</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">@EventHandler</span>(<span class=\"pl-c1\">priority</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">EventPriority</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">HIGH</span></span>, <span class=\"pl-c1\">ignoreCancelled</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>)</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "TheBusyBiscuit", "createdAt": "2020-10-10T22:52:55Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockListener.java", "diffHunk": "@@ -75,7 +75,7 @@ public void onBlockPlace(BlockPlaceEvent e) {\n         }\n     }\n \n-    @EventHandler(priority = EventPriority.MONITOR, ignoreCancelled = true)\n+    @EventHandler(priority = EventPriority.HIGHEST, ignoreCancelled = true)", "originalCommit": "6082abb9b6431893b38f5282a455a2d8804fb579", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MTMxNw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502841317", "bodyText": "Can I ask why were even changing this?", "author": "svr333", "createdAt": "2020-10-10T22:57:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MTQxNQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502841415", "bodyText": "The bug was about this running AFTER HIGHEST, which should not be done anyway. By moving it TO HIGHEST we basically didn't fix the issue but rather let randomness decide.", "author": "TheBusyBiscuit", "createdAt": "2020-10-10T22:58:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MTQ4MA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2440#discussion_r502841480", "bodyText": "In theory events should try to run on NORMAL unless there is a valid reason not to, due to this being dependent on some things to process first, there is a point to be made to move it to HIGH but HIGHEST is definitely too late.", "author": "TheBusyBiscuit", "createdAt": "2020-10-10T22:59:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0MDk3Nw=="}], "type": "inlineReview"}, {"oid": "957bcd9a3a03561cbb1b592e80f824809f5f89c0", "url": "https://github.com/Slimefun/Slimefun4/commit/957bcd9a3a03561cbb1b592e80f824809f5f89c0", "message": "Update src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockListener.java\n\nCo-authored-by: TheBusyBiscuit <TheBusyBiscuit@users.noreply.github.com>", "committedDate": "2020-10-10T23:01:54Z", "type": "commit"}, {"oid": "7af1e8144d62380def5769b14e81915a8611f40c", "url": "https://github.com/Slimefun/Slimefun4/commit/7af1e8144d62380def5769b14e81915a8611f40c", "message": "Update ExplosiveTool.java", "committedDate": "2020-10-11T05:48:27Z", "type": "commit"}, {"oid": "4980b078a10d91cec8e7fd266f53740b0a974f29", "url": "https://github.com/Slimefun/Slimefun4/commit/4980b078a10d91cec8e7fd266f53740b0a974f29", "message": "Update BlockListener.java", "committedDate": "2020-10-11T05:50:04Z", "type": "commit"}]}