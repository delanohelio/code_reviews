{"pr_number": 5806, "pr_title": "[2.19.x] DDF-5495 refactor extension for Table Export behavior", "pr_author": "andrewzimmer", "pr_createdAt": "2020-01-30T00:41:26Z", "pr_url": "https://github.com/codice/ddf/pull/5806", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk5OTg2Mw==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r372999863", "body": "\u2753 Do we still need EndpointUtil in this class?", "bodyText": "\u2753 Do we still need EndpointUtil in this class?", "bodyHTML": "<p dir=\"auto\"><g-emoji class=\"g-emoji\" alias=\"question\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2753.png\">\u2753</g-emoji> Do we still need EndpointUtil in this class?</p>", "author": "cassandrabailey293", "createdAt": "2020-01-30T15:00:52Z", "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/query/handlers/CqlTransformHandler.java", "diffHunk": "@@ -38,8 +38,9 @@\n import org.apache.tika.mime.MimeTypeException;\n import org.apache.tika.mime.MimeTypes;\n import org.codice.ddf.catalog.ui.metacard.transform.CsvTransform;\n-import org.codice.ddf.catalog.ui.query.cql.CqlQueryResponse;\n-import org.codice.ddf.catalog.ui.query.cql.CqlRequest;\n+import org.codice.ddf.catalog.ui.query.utility.CqlQueryResponse;\n+import org.codice.ddf.catalog.ui.query.utility.CqlRequest;\n+import org.codice.ddf.catalog.ui.util.CqlQueryUtil;\n import org.codice.ddf.catalog.ui.util.EndpointUtil;", "originalCommit": "1777c3ac350e61be0512a170ec862bb5b8ba86e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3ODUyMQ==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r373078521", "bodyText": "yeah other functions from endpointUtil are used https://github.com/codice/ddf/pull/5806/files/1777c3ac350e61be0512a170ec862bb5b8ba86e3#diff-cc5f97af83867437776fddd13f08d36bR124", "author": "andrewzimmer", "createdAt": "2020-01-30T17:09:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk5OTg2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyNjM4Mg==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r373026382", "body": "missing copyright headers ", "bodyText": "missing copyright headers", "bodyHTML": "<p dir=\"auto\">missing copyright headers</p>", "author": "bdeining", "createdAt": "2020-01-30T15:43:01Z", "path": "catalog/ui/catalog-ui-search-api/src/main/java/org/codice/ddf/catalog/ui/query/utility/MetacardAttribute.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package org.codice.ddf.catalog.ui.query.utility;\n+", "originalCommit": "1777c3ac350e61be0512a170ec862bb5b8ba86e3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3Nzg5Mw==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r373077893", "bodyText": "added", "author": "andrewzimmer", "createdAt": "2020-01-30T17:08:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAyNjM4Mg=="}], "type": "inlineReview"}, {"oid": "7d2698f07f7e0ab8b15495497c12b847ecb3a355", "url": "https://github.com/codice/ddf/commit/7d2698f07f7e0ab8b15495497c12b847ecb3a355", "message": "DDF-5495 refactor extension for Table Export behavior", "committedDate": "2020-01-31T20:52:48Z", "type": "commit"}, {"oid": "df3df0ab609b734e6ab3e4ddb724cf4218c2b607", "url": "https://github.com/codice/ddf/commit/df3df0ab609b734e6ab3e4ddb724cf4218c2b607", "message": "DDF-5495 add headers", "committedDate": "2020-01-31T20:52:48Z", "type": "commit"}, {"oid": "cc289002388eefcfb65cb001712293e98c9796ab", "url": "https://github.com/codice/ddf/commit/cc289002388eefcfb65cb001712293e98c9796ab", "message": "DDF-5495 rebase", "committedDate": "2020-01-31T21:46:52Z", "type": "commit"}, {"oid": "cc289002388eefcfb65cb001712293e98c9796ab", "url": "https://github.com/codice/ddf/commit/cc289002388eefcfb65cb001712293e98c9796ab", "message": "DDF-5495 rebase", "committedDate": "2020-01-31T21:46:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQwNjY1NA==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r374406654", "body": "we might want to mark the interfaces as experimental \r\nhttps://github.com/codice/ddf/blob/b054ac205251e31390e5ccc9830dfe310a3f2659/catalog/core/catalog-core-attachment/src/main/java/org/codice/ddf/attachment/AttachmentInfo.java#L18", "bodyText": "we might want to mark the interfaces as experimental\n\n  \n    \n      ddf/catalog/core/catalog-core-attachment/src/main/java/org/codice/ddf/attachment/AttachmentInfo.java\n    \n    \n         Line 18\n      in\n      b054ac2\n    \n    \n    \n    \n\n        \n          \n           /**", "bodyHTML": "<p dir=\"auto\">we might want to mark the interfaces as experimental<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom color-bg-subtle\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/codice/ddf/blob/b054ac205251e31390e5ccc9830dfe310a3f2659/catalog/core/catalog-core-attachment/src/main/java/org/codice/ddf/attachment/AttachmentInfo.java#L18\">ddf/catalog/core/catalog-core-attachment/src/main/java/org/codice/ddf/attachment/AttachmentInfo.java</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 18\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/codice/ddf/commit/b054ac205251e31390e5ccc9830dfe310a3f2659\">b054ac2</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L18\" class=\"blob-num border-0 px-3 py-0 color-bg-default js-line-number\" data-line-number=\"18\"></td>\n          <td id=\"LC18\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> <span class=\"pl-c\"><span class=\"pl-c\">/**</span></span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>", "author": "bdeining", "createdAt": "2020-02-03T23:50:22Z", "path": "catalog/ui/catalog-ui-search-api/src/main/java/org/codice/ddf/catalog/ui/query/utility/CqlQueryResponse.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/**\n+ * Copyright (c) Codice Foundation\n+ *\n+ * <p>This is free software: you can redistribute it and/or modify it under the terms of the GNU\n+ * Lesser General Public License as published by the Free Software Foundation, either version 3 of\n+ * the License, or any later version.\n+ *\n+ * <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n+ * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public\n+ * License is distributed along with this program and can be found at\n+ * <http://www.gnu.org/licenses/lgpl.html>.\n+ */\n+package org.codice.ddf.catalog.ui.query.utility;\n+\n+import ddf.catalog.operation.QueryResponse;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+\n+public interface CqlQueryResponse {", "originalCommit": "cc289002388eefcfb65cb001712293e98c9796ab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyODMyMA==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r374828320", "body": "\u2753 How about `CqlQueries` and `CqlQueriesImpl` instead? It's minor but this will surprise anyone not familiar with Java conventions. ", "bodyText": "\u2753 How about CqlQueries and CqlQueriesImpl instead? It's minor but this will surprise anyone not familiar with Java conventions.", "bodyHTML": "<p dir=\"auto\"><g-emoji class=\"g-emoji\" alias=\"question\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/2753.png\">\u2753</g-emoji> How about <code>CqlQueries</code> and <code>CqlQueriesImpl</code> instead? It's minor but this will surprise anyone not familiar with Java conventions.</p>", "author": "Lambeaux", "createdAt": "2020-02-04T17:55:53Z", "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/util/CqlQueryUtil.java", "diffHunk": "@@ -0,0 +1,141 @@\n+/**\n+ * Copyright (c) Codice Foundation\n+ *\n+ * <p>This is free software: you can redistribute it and/or modify it under the terms of the GNU\n+ * Lesser General Public License as published by the Free Software Foundation, either version 3 of\n+ * the License, or any later version.\n+ *\n+ * <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n+ * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public\n+ * License is distributed along with this program and can be found at\n+ * <http://www.gnu.org/licenses/lgpl.html>.\n+ */\n+package org.codice.ddf.catalog.ui.util;\n+\n+import com.google.common.base.Stopwatch;\n+import ddf.action.ActionRegistry;\n+import ddf.catalog.CatalogFramework;\n+import ddf.catalog.data.Result;\n+import ddf.catalog.federation.FederationException;\n+import ddf.catalog.filter.FilterAdapter;\n+import ddf.catalog.filter.FilterBuilder;\n+import ddf.catalog.operation.QueryRequest;\n+import ddf.catalog.operation.QueryResponse;\n+import ddf.catalog.operation.impl.QueryResponseImpl;\n+import ddf.catalog.source.SourceUnavailableException;\n+import ddf.catalog.source.UnsupportedQueryException;\n+import ddf.catalog.util.impl.QueryFunction;\n+import ddf.catalog.util.impl.ResultIterable;\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import org.codice.ddf.catalog.ui.query.cql.CqlQueryResponseImpl;\n+import org.codice.ddf.catalog.ui.query.utility.CqlQueryResponse;\n+import org.codice.ddf.catalog.ui.query.utility.CqlQueryUtility;\n+import org.codice.ddf.catalog.ui.query.utility.CqlRequest;\n+import org.codice.ddf.catalog.ui.transformer.TransformerDescriptors;\n+\n+public class CqlQueryUtil implements CqlQueryUtility {", "originalCommit": "cc289002388eefcfb65cb001712293e98c9796ab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgyOTYzNQ==", "url": "https://github.com/codice/ddf/pull/5806#discussion_r374829635", "body": "\ud83d\udc4d Nice. Splitting stuff up also makes wiring things together for unit / component tests a lot easier. We were able to kill two arguments here. ", "bodyText": "\ud83d\udc4d Nice. Splitting stuff up also makes wiring things together for unit / component tests a lot easier. We were able to kill two arguments here.", "bodyHTML": "<p dir=\"auto\"><g-emoji class=\"g-emoji\" alias=\"+1\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png\">\ud83d\udc4d</g-emoji> Nice. Splitting stuff up also makes wiring things together for unit / component tests a lot easier. We were able to kill two arguments here.</p>", "author": "Lambeaux", "createdAt": "2020-02-04T17:58:21Z", "path": "catalog/ui/catalog-ui-search/src/test/java/org/codice/ddf/catalog/ui/forms/SearchFormsSymbolsIT.java", "diffHunk": "@@ -158,8 +158,6 @@\n           FILTER_BUILDER,\n           null, // No interaction\n           null, // No interaction\n-          null, // No interaction\n-          null, // No interaction", "originalCommit": "cc289002388eefcfb65cb001712293e98c9796ab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "488526f1e0d04a426f9b121488e15242cf55b1c8", "url": "https://github.com/codice/ddf/commit/488526f1e0d04a426f9b121488e15242cf55b1c8", "message": "DDF-5495 address comments", "committedDate": "2020-02-04T21:07:28Z", "type": "commit"}, {"oid": "7bc6e1c6e05715e408f2ea6e48312fce09c755e4", "url": "https://github.com/codice/ddf/commit/7bc6e1c6e05715e408f2ea6e48312fce09c755e4", "message": "DDF-5495 refactor CqlRequest", "committedDate": "2020-02-05T02:09:59Z", "type": "commit"}, {"oid": "98afa25dfdaf73ea793727460046aaccbd24031f", "url": "https://github.com/codice/ddf/commit/98afa25dfdaf73ea793727460046aaccbd24031f", "message": "DDF-5495 move CsvTransform to api", "committedDate": "2020-02-06T19:14:22Z", "type": "commit"}]}