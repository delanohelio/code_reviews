{"pr_number": 2245, "pr_title": "feat:optimizing code", "pr_author": "jinjim", "pr_createdAt": "2020-03-19T14:20:11Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/2245", "timeline": [{"oid": "d14da54534e195c8d0693853457a5425b24a9190", "url": "https://github.com/apache/dolphinscheduler/commit/d14da54534e195c8d0693853457a5425b24a9190", "message": "feat:optimizing code", "committedDate": "2020-03-19T14:11:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3NDQ2Ng==", "url": "https://github.com/apache/dolphinscheduler/pull/2245#discussion_r395074466", "body": "need add license", "bodyText": "need add license", "bodyHTML": "<p dir=\"auto\">need add license</p>", "author": "Jave-Chen", "createdAt": "2020-03-19T14:37:24Z", "path": "dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.apache.dolphinscheduler.api.service;", "originalCommit": "d14da54534e195c8d0693853457a5425b24a9190", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4bea6e1011d433a042b01b08a9f82b4a6874c31", "changed_code": [{"header": "diff --git a/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java b/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\nindex c387e42b6..502185709 100644\n--- a/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\n+++ b/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\n", "chunk": "@@ -1,3 +1,19 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n package org.apache.dolphinscheduler.api.service;\n \n import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3NDYyMg==", "url": "https://github.com/apache/dolphinscheduler/pull/2245#discussion_r395074622", "body": "need add license", "bodyText": "need add license", "bodyHTML": "<p dir=\"auto\">need add license</p>", "author": "Jave-Chen", "createdAt": "2020-03-19T14:37:36Z", "path": "dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package org.apache.dolphinscheduler.api.service;", "originalCommit": "d14da54534e195c8d0693853457a5425b24a9190", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4bea6e1011d433a042b01b08a9f82b4a6874c31", "changed_code": [{"header": "diff --git a/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java b/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\nindex 0cf7718f3..24b1d5a98 100644\n--- a/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\n+++ b/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\n", "chunk": "@@ -1,3 +1,19 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n package org.apache.dolphinscheduler.api.service;\n \n import org.apache.dolphinscheduler.dao.mapper.UserAlertGroupMapper;\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3NjkyNw==", "url": "https://github.com/apache/dolphinscheduler/pull/2245#discussion_r395076927", "body": "author needs removed", "bodyText": "author needs removed", "bodyHTML": "<p dir=\"auto\">author needs removed</p>", "author": "Jave-Chen", "createdAt": "2020-03-19T14:40:23Z", "path": "dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.apache.dolphinscheduler.api.service;\n+\n+import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\n+import org.apache.dolphinscheduler.dao.entity.UserAlertGroup;\n+import org.apache.dolphinscheduler.dao.mapper.UserAlertGroupMapper;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Service;\n+\n+/**\n+ * Created on 2020/3/19.\n+ *\n+ * @author flowkr90@gmail.com", "originalCommit": "d14da54534e195c8d0693853457a5425b24a9190", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4bea6e1011d433a042b01b08a9f82b4a6874c31", "changed_code": [{"header": "diff --git a/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java b/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\nindex c387e42b6..502185709 100644\n--- a/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\n+++ b/dolphinscheduler-api/src/main/java/org/apache/dolphinscheduler/api/service/UserAlertGroupService.java\n", "chunk": "@@ -7,18 +23,16 @@ import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Service;\n \n /**\n- * Created on 2020/3/19.\n  *\n- * @author flowkr90@gmail.com\n  */\n @Service\n public class UserAlertGroupService extends ServiceImpl<UserAlertGroupMapper, UserAlertGroup> {\n \n-\t@Autowired\n-\tprivate UserAlertGroupMapper userAlertGroupMapper;\n+    @Autowired\n+    private UserAlertGroupMapper userAlertGroupMapper;\n \n-\tboolean deleteByAlertGroupId(Integer groupId) {\n-\t\treturn userAlertGroupMapper.deleteByAlertgroupId(groupId) >= 1;\n-\t}\n+    boolean deleteByAlertGroupId(Integer groupId) {\n+        return userAlertGroupMapper.deleteByAlertgroupId(groupId) >= 1;\n+    }\n \n }\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3NzA5OA==", "url": "https://github.com/apache/dolphinscheduler/pull/2245#discussion_r395077098", "body": "author needs removed", "bodyText": "author needs removed", "bodyHTML": "<p dir=\"auto\">author needs removed</p>", "author": "Jave-Chen", "createdAt": "2020-03-19T14:40:35Z", "path": "dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package org.apache.dolphinscheduler.api.service;\n+\n+import org.apache.dolphinscheduler.dao.mapper.UserAlertGroupMapper;\n+import static org.junit.Assert.assertEquals;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.mockito.ArgumentCaptor;\n+import org.mockito.InjectMocks;\n+import org.mockito.Mock;\n+import org.mockito.Mockito;\n+import org.mockito.junit.MockitoJUnitRunner;\n+\n+/**\n+ * Created on 2020/3/19.\n+ *\n+ * @author flowkr90gmail.com", "originalCommit": "d14da54534e195c8d0693853457a5425b24a9190", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "c4bea6e1011d433a042b01b08a9f82b4a6874c31", "changed_code": [{"header": "diff --git a/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java b/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\nindex 0cf7718f3..24b1d5a98 100644\n--- a/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\n+++ b/dolphinscheduler-api/src/test/java/org/apache/dolphinscheduler/api/service/UserAlertGroupServiceTest.java\n", "chunk": "@@ -11,29 +27,27 @@ import org.mockito.Mockito;\n import org.mockito.junit.MockitoJUnitRunner;\n \n /**\n- * Created on 2020/3/19.\n  *\n- * @author flowkr90gmail.com\n  */\n @RunWith(MockitoJUnitRunner.class)\n public class UserAlertGroupServiceTest {\n \n-\t@InjectMocks\n-\tUserAlertGroupService userAlertGroupService;\n+    @InjectMocks\n+    UserAlertGroupService userAlertGroupService;\n \n-\t@Mock\n-\tUserAlertGroupMapper userAlertGroupMapper;\n+    @Mock\n+    UserAlertGroupMapper userAlertGroupMapper;\n \n-\t@Test\n-\tpublic void deleteByAlertGroupId() {\n+    @Test\n+    public void deleteByAlertGroupId() {\n \n-\t\tInteger groupId = 1;\n-\t\tuserAlertGroupService.deleteByAlertGroupId(groupId);\n-\t\tArgumentCaptor<Integer> argumentCaptor = ArgumentCaptor.forClass(Integer.class);\n+        Integer groupId = 1;\n+        userAlertGroupService.deleteByAlertGroupId(groupId);\n+        ArgumentCaptor<Integer> argumentCaptor = ArgumentCaptor.forClass(Integer.class);\n \n-\t\tMockito.verify(userAlertGroupMapper).deleteByAlertgroupId(argumentCaptor.capture());\n-\t\tassertEquals(argumentCaptor.getValue(), groupId);\n+        Mockito.verify(userAlertGroupMapper).deleteByAlertgroupId(argumentCaptor.capture());\n+        assertEquals(argumentCaptor.getValue(), groupId);\n \n-\t}\n+    }\n \n }\n\\ No newline at end of file\n", "next_change": null}]}}, {"oid": "c4bea6e1011d433a042b01b08a9f82b4a6874c31", "url": "https://github.com/apache/dolphinscheduler/commit/c4bea6e1011d433a042b01b08a9f82b4a6874c31", "message": "add licence and  format code", "committedDate": "2020-03-19T15:13:58Z", "type": "commit"}]}