{"pr_number": 11752, "pr_title": "Fix codestarts order bug", "pr_author": "ia3andy", "pr_createdAt": "2020-08-31T14:57:26Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11752", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480188889", "body": "Dumb question, but isn't easier to just use `Enum.ordinal()` and reorder the items?", "bodyText": "Dumb question, but isn't easier to just use Enum.ordinal() and reorder the items?", "bodyHTML": "<p dir=\"auto\">Dumb question, but isn't easier to just use <code>Enum.ordinal()</code> and reorder the items?</p>", "author": "gastaldi", "createdAt": "2020-08-31T14:59:39Z", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartSpec.java", "diffHunk": "@@ -15,22 +15,28 @@\n public final class CodestartSpec {\n \n     enum Type {\n-        PROJECT(true),\n-        LANGUAGE(true),\n-        BUILDTOOL(true),\n-        CONFIG(true),\n-        CODE(false),\n-        TOOLING(false);\n+        PROJECT(true, 3),\n+        LANGUAGE(true, 1),\n+        BUILDTOOL(true, 2),\n+        CONFIG(true, 4),\n+        CODE(false, 6),\n+        TOOLING(false, 5);", "originalCommit": "67bcee2506137b5d8fe9935dd888381cc9547273", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5MTQ0Mg==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480191442", "bodyText": "@gastaldi, I guess that would aso do, but this makes it clear that we actually use the order if someone adds/change a value IMO", "author": "ia3andy", "createdAt": "2020-08-31T15:03:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5NzgzNg==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480197836", "bodyText": "IMHO it is more likely someone could introduce the same order number than change the enum order (which is more visible) \ud83e\udd23\nBut it's your call \ud83d\ude09", "author": "gastaldi", "createdAt": "2020-08-31T15:14:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwMDc1Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480200757", "bodyText": "@gastaldi introducing the same would be alright, it means they are the same level and would be compared by name", "author": "ia3andy", "createdAt": "2020-08-31T15:18:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwMjQwMw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480202403", "bodyText": "@gastaldi I think if no one else objects I will stick to that implementation. beside that, is the PR ok? could you approve the PR?", "author": "ia3andy", "createdAt": "2020-08-31T15:21:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwNDgwNw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480204807", "bodyText": "I agree having an explicit order is better. I could see how someone could reorder them alphabetically without noticing.\nNow the question is: why are they in a random order? Can't we properly order them too?", "author": "gsmet", "createdAt": "2020-08-31T15:25:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwNTE4NA==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480205184", "bodyText": "My question is not only about it being nicer, having things in a random order makes adding new items more error prone.", "author": "gsmet", "createdAt": "2020-08-31T15:25:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMDM1Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480210357", "bodyText": "@gsmet the given order is not random:\n\nlanguage is first as it defines the language for the others\nbuildtool is second as it is also important for the others\nproject then can give overrides on those\nconfig and tooling could be at the same level\ncode needs to be last\n\nFor now I think it doesn't really matter as soon as the order is consistent between run, but I am creating an issue for this as the order for data overriding may need to be different from the order of processing. I don't think we want the examples codestarts to override base data.", "author": "ia3andy", "createdAt": "2020-08-31T15:34:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMTY1MQ==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480211651", "bodyText": "What I'm saying is that the order of the enum values is random.\nThe enum values should be sorted by execution order so that it's less error prone.", "author": "gsmet", "createdAt": "2020-08-31T15:36:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMzE2Mg==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480213162", "bodyText": "ah ok :)", "author": "ia3andy", "createdAt": "2020-08-31T15:38:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMzM5Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480213393", "bodyText": "I created an issue for the data overriding order as it may also be important: #11754", "author": "ia3andy", "createdAt": "2020-08-31T15:39:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4ODg4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMjU1Nw==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480212557", "body": "```suggestion\r\n        LANGUAGE(true, 1),\r\n        BUILDTOOL(true, 2),\r\n        PROJECT(true, 3),\r\n        CONFIG(true, 4),\r\n        TOOLING(false, 5),\r\n        CODE(false, 6);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    PROJECT(true, 3),\n          \n          \n            \n                    LANGUAGE(true, 1),\n          \n          \n            \n                    BUILDTOOL(true, 2),\n          \n          \n            \n                    CONFIG(true, 4),\n          \n          \n            \n                    CODE(false, 6),\n          \n          \n            \n                    TOOLING(false, 5);\n          \n          \n            \n                    LANGUAGE(true, 1),\n          \n          \n            \n                    BUILDTOOL(true, 2),\n          \n          \n            \n                    PROJECT(true, 3),\n          \n          \n            \n                    CONFIG(true, 4),\n          \n          \n            \n                    TOOLING(false, 5),\n          \n          \n            \n                    CODE(false, 6);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1 x x-first x-last\">PROJECT</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">3</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1 x x-first x-last\">LANGUAGE</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">1</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1 x x-first x-last\">BUILDTOOL</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">2</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1\">CONFIG</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">4</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1 x x-first x-last\">CODE</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1 x x-first x-last\">6</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1 x x-first x-last\">TOOLING</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1 x x-first x-last\">5</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1 x x-first x-last\">LANGUAGE</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">1</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1 x x-first x-last\">BUILDTOOL</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">2</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1 x x-first x-last\">PROJECT</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1 x x-first x-last\">3</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1\">CONFIG</span>(<span class=\"pl-c1\">true</span>, <span class=\"pl-c1\">4</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1 x x-first x-last\">TOOLING</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1 x x-first x-last\">5</span>),</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1 x x-first x-last\">CODE</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1 x x-first x-last\">6</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "gsmet", "createdAt": "2020-08-31T15:37:39Z", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartSpec.java", "diffHunk": "@@ -15,22 +15,28 @@\n public final class CodestartSpec {\n \n     enum Type {\n-        PROJECT(true),\n-        LANGUAGE(true),\n-        BUILDTOOL(true),\n-        CONFIG(true),\n-        CODE(false),\n-        TOOLING(false);\n+        PROJECT(true, 3),\n+        LANGUAGE(true, 1),\n+        BUILDTOOL(true, 2),\n+        CONFIG(true, 4),\n+        CODE(false, 6),\n+        TOOLING(false, 5);", "originalCommit": "67bcee2506137b5d8fe9935dd888381cc9547273", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxNjY5OA==", "url": "https://github.com/quarkusio/quarkus/pull/11752#discussion_r480216698", "bodyText": "@gsmet already fixed", "author": "ia3andy", "createdAt": "2020-08-31T15:42:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMjU1Nw=="}], "type": "inlineReview"}, {"oid": "f30b90dd45a39008d8f9e62659d1e6107b7c360f", "url": "https://github.com/quarkusio/quarkus/commit/f30b90dd45a39008d8f9e62659d1e6107b7c360f", "message": "Fix codestarts order bug", "committedDate": "2020-08-31T15:41:15Z", "type": "commit"}, {"oid": "f30b90dd45a39008d8f9e62659d1e6107b7c360f", "url": "https://github.com/quarkusio/quarkus/commit/f30b90dd45a39008d8f9e62659d1e6107b7c360f", "message": "Fix codestarts order bug", "committedDate": "2020-08-31T15:41:15Z", "type": "forcePushed"}]}