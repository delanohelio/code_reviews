{"pr_number": 7900, "pr_title": "Content Project", "pr_author": "alansemenov", "pr_createdAt": "2020-02-24T08:25:43Z", "pr_url": "https://github.com/enonic/xp/pull/7900", "merge_commit": "808c44faac8e1f348dcb95896d8f537a89156414", "timeline": [{"oid": "572fc66c9d05cf3932a1cf150bef81008c49854a", "url": "https://github.com/enonic/xp/commit/572fc66c9d05cf3932a1cf150bef81008c49854a", "message": "save work", "committedDate": "2019-09-12T07:41:01Z", "type": "commit"}, {"oid": "1a818181b1d9b307f8d542f4c65a0fc0c57d6679", "url": "https://github.com/enonic/xp/commit/1a818181b1d9b307f8d542f4c65a0fc0c57d6679", "message": "Repository Data #7362", "committedDate": "2019-09-12T07:41:01Z", "type": "commit"}, {"oid": "df0c52c0632a940db2348d04bd268676a4021a83", "url": "https://github.com/enonic/xp/commit/df0c52c0632a940db2348d04bd268676a4021a83", "message": "Repository Data #7362", "committedDate": "2019-09-12T07:41:02Z", "type": "commit"}, {"oid": "84cde4fef23b9a9d3d924f14493742dddd2d2b67", "url": "https://github.com/enonic/xp/commit/84cde4fef23b9a9d3d924f14493742dddd2d2b67", "message": "more tests", "committedDate": "2019-09-12T07:41:02Z", "type": "commit"}, {"oid": "81f49f4fb2aafa1c2e9a6b26d93dc897569ce5c7", "url": "https://github.com/enonic/xp/commit/81f49f4fb2aafa1c2e9a6b26d93dc897569ce5c7", "message": "fix tests so they pass", "committedDate": "2019-09-12T07:41:02Z", "type": "commit"}, {"oid": "b6497df24db789f21dd546330e4dfbe8d8ee6da8", "url": "https://github.com/enonic/xp/commit/b6497df24db789f21dd546330e4dfbe8d8ee6da8", "message": "code format", "committedDate": "2019-09-12T07:41:03Z", "type": "commit"}, {"oid": "515248e4d76d07594af491acf9f0859ec2b7dada", "url": "https://github.com/enonic/xp/commit/515248e4d76d07594af491acf9f0859ec2b7dada", "message": "no need to create repos with data", "committedDate": "2019-09-12T07:41:03Z", "type": "commit"}, {"oid": "b44cbc7e324f30fc92f3a438cace387c6e7f4131", "url": "https://github.com/enonic/xp/commit/b44cbc7e324f30fc92f3a438cace387c6e7f4131", "message": "serialize repo data", "committedDate": "2019-09-12T07:41:03Z", "type": "commit"}, {"oid": "f6d639565288e9b9e60606775fd9a9cf37bab767", "url": "https://github.com/enonic/xp/commit/f6d639565288e9b9e60606775fd9a9cf37bab767", "message": "fix tests", "committedDate": "2019-09-12T07:51:08Z", "type": "commit"}, {"oid": "d4be15054f7dbe9d086b381406b423b00e27a719", "url": "https://github.com/enonic/xp/commit/d4be15054f7dbe9d086b381406b423b00e27a719", "message": "streamline serialization of PropertyTree", "committedDate": "2019-09-12T13:58:57Z", "type": "commit"}, {"oid": "699b624413f3eb2e317d50245b9376f27d8692ef", "url": "https://github.com/enonic/xp/commit/699b624413f3eb2e317d50245b9376f27d8692ef", "message": "Merge pull request #7394 from enonic/issue-7362\n\nRepository Data - Data field #7362", "committedDate": "2019-09-13T14:33:14Z", "type": "commit"}, {"oid": "4ef7e3fb5a36ee7571d7a2577f4b73b3fd5ea392", "url": "https://github.com/enonic/xp/commit/4ef7e3fb5a36ee7571d7a2577f4b73b3fd5ea392", "message": "save work", "committedDate": "2019-09-16T11:24:15Z", "type": "commit"}, {"oid": "c6f66488ed341f4262f18e8e00f2e7408b1f1a42", "url": "https://github.com/enonic/xp/commit/c6f66488ed341f4262f18e8e00f2e7408b1f1a42", "message": "Merge pull request #7419 from enonic/issue-7408\n\nRepository Data - BinaryAttachments #7408", "committedDate": "2019-09-16T13:18:29Z", "type": "commit"}, {"oid": "381b05336efd9e62188f04cbeb4a9f135896fd9a", "url": "https://github.com/enonic/xp/commit/381b05336efd9e62188f04cbeb4a9f135896fd9a", "message": "save work", "committedDate": "2019-09-16T15:10:00Z", "type": "commit"}, {"oid": "2dc92ea4d05bec209930e40a18e84cad47bdcf0e", "url": "https://github.com/enonic/xp/commit/2dc92ea4d05bec209930e40a18e84cad47bdcf0e", "message": "Repository Data - BinaryAttachments #7425", "committedDate": "2019-09-18T12:11:19Z", "type": "commit"}, {"oid": "eb4b6d5182563cc7e4c800881a4c7c678a02fcba", "url": "https://github.com/enonic/xp/commit/eb4b6d5182563cc7e4c800881a4c7c678a02fcba", "message": "Merge branch 'epic-repositorydata' into issue-7425", "committedDate": "2019-09-18T12:12:07Z", "type": "commit"}, {"oid": "1f8cbd6d1da9d68eb80213af7e7f33922b1ea53a", "url": "https://github.com/enonic/xp/commit/1f8cbd6d1da9d68eb80213af7e7f33922b1ea53a", "message": "save work", "committedDate": "2019-09-19T09:40:46Z", "type": "commit"}, {"oid": "9579c23e2d28c8d0dd80f9ce6983e1fc8419d518", "url": "https://github.com/enonic/xp/commit/9579c23e2d28c8d0dd80f9ce6983e1fc8419d518", "message": "Decouple Repository API from Node API", "committedDate": "2019-09-20T11:09:34Z", "type": "commit"}, {"oid": "9046673db365a9e9ff6c6dcb5a60e105533189ba", "url": "https://github.com/enonic/xp/commit/9046673db365a9e9ff6c6dcb5a60e105533189ba", "message": "polish", "committedDate": "2019-09-23T06:35:11Z", "type": "commit"}, {"oid": "d0f54563b2170ad375dfbb232980e77191c12129", "url": "https://github.com/enonic/xp/commit/d0f54563b2170ad375dfbb232980e77191c12129", "message": "Merge pull request #7428 from enonic/issue-7425\n\nRepository Data - BinaryAttachments #7425", "committedDate": "2019-09-23T07:11:46Z", "type": "commit"}, {"oid": "a269597398a671974eacf580e14ca31727c1295e", "url": "https://github.com/enonic/xp/commit/a269597398a671974eacf580e14ca31727c1295e", "message": "save work", "committedDate": "2019-09-23T11:07:18Z", "type": "commit"}, {"oid": "6db2921b3ccc0dea210649c01e28340b63789087", "url": "https://github.com/enonic/xp/commit/6db2921b3ccc0dea210649c01e28340b63789087", "message": "save work", "committedDate": "2019-09-23T13:51:18Z", "type": "commit"}, {"oid": "6ac9bcda805bcf52428563a908470a763a2fbf08", "url": "https://github.com/enonic/xp/commit/6ac9bcda805bcf52428563a908470a763a2fbf08", "message": "save work", "committedDate": "2019-09-23T14:13:58Z", "type": "commit"}, {"oid": "ecb357e8cd29ec7a128b80bc2c3eaa1b414590ca", "url": "https://github.com/enonic/xp/commit/ecb357e8cd29ec7a128b80bc2c3eaa1b414590ca", "message": "save work #7409", "committedDate": "2019-09-24T15:31:20Z", "type": "commit"}, {"oid": "cadab2963a016912c37cfb630452d7c2928cf4c4", "url": "https://github.com/enonic/xp/commit/cadab2963a016912c37cfb630452d7c2928cf4c4", "message": "save work #7409", "committedDate": "2019-09-25T08:58:19Z", "type": "commit"}, {"oid": "44d34df4837445dadf0d412bb27ab5eb054fa4c4", "url": "https://github.com/enonic/xp/commit/44d34df4837445dadf0d412bb27ab5eb054fa4c4", "message": "save work #7409", "committedDate": "2019-09-25T10:06:51Z", "type": "commit"}, {"oid": "d587fa4844aaee019324bee580232758d879471b", "url": "https://github.com/enonic/xp/commit/d587fa4844aaee019324bee580232758d879471b", "message": "save work #7409", "committedDate": "2019-09-25T11:07:13Z", "type": "commit"}, {"oid": "d5e081e857b844a4c2b76bb9560cc51d514a1ec3", "url": "https://github.com/enonic/xp/commit/d5e081e857b844a4c2b76bb9560cc51d514a1ec3", "message": "save work #7409", "committedDate": "2019-09-25T13:09:44Z", "type": "commit"}, {"oid": "a5c495f832e079f8550098350fd8123c7da82901", "url": "https://github.com/enonic/xp/commit/a5c495f832e079f8550098350fd8123c7da82901", "message": "Gave up on RepositoryData. It is broken, but widely used #7409", "committedDate": "2019-09-25T13:33:49Z", "type": "commit"}, {"oid": "e32e506bbd6004088550de6a668d53f3a675f949", "url": "https://github.com/enonic/xp/commit/e32e506bbd6004088550de6a668d53f3a675f949", "message": "Removed sneaked in Guava dependency from API #7409", "committedDate": "2019-09-25T13:55:10Z", "type": "commit"}, {"oid": "64c7fada952c5eb9ddc772a4ea464637b625752b", "url": "https://github.com/enonic/xp/commit/64c7fada952c5eb9ddc772a4ea464637b625752b", "message": "Merge pull request #7453 from enonic/issue-7409\n\nRepository Data #7409", "committedDate": "2019-09-30T07:14:07Z", "type": "commit"}, {"oid": "1c9dc685cd64976250fd4289ca6b0c549f0eb6f3", "url": "https://github.com/enonic/xp/commit/1c9dc685cd64976250fd4289ca6b0c549f0eb6f3", "message": "Repository Data - Repo library attachments #7475", "committedDate": "2019-09-30T09:23:51Z", "type": "commit"}, {"oid": "406e5fdfea96ec4032f99bdd9f12a9fbbac805bb", "url": "https://github.com/enonic/xp/commit/406e5fdfea96ec4032f99bdd9f12a9fbbac805bb", "message": "Repository Data - Repo library attachments #7475", "committedDate": "2019-09-30T10:55:55Z", "type": "commit"}, {"oid": "f74752a62402484faa8b015ae93d550c56796d83", "url": "https://github.com/enonic/xp/commit/f74752a62402484faa8b015ae93d550c56796d83", "message": "fix Codacy issues", "committedDate": "2019-09-30T11:15:24Z", "type": "commit"}, {"oid": "738363ecbe055f550bfcd3fb8d1fcc53a7632d82", "url": "https://github.com/enonic/xp/commit/738363ecbe055f550bfcd3fb8d1fcc53a7632d82", "message": "Merge pull request #7476 from enonic/issue-7475\n\nRepository Data - Repo library attachments #7475", "committedDate": "2019-10-01T08:44:50Z", "type": "commit"}, {"oid": "1c372db03c2e809d50e611738931ad7481076b1f", "url": "https://github.com/enonic/xp/commit/1c372db03c2e809d50e611738931ad7481076b1f", "message": "Merge branch 'master' into epic-repositorydata", "committedDate": "2019-10-02T07:34:25Z", "type": "commit"}, {"oid": "b8e8a1a33102ed48cb1f59b0769a3ea12107a16c", "url": "https://github.com/enonic/xp/commit/b8e8a1a33102ed48cb1f59b0769a3ea12107a16c", "message": "Script StackOverflowError - Add information about the resource #7488", "committedDate": "2019-10-02T08:03:05Z", "type": "commit"}, {"oid": "664833fc4e85586e54f3fd7d3196df15e2f0b912", "url": "https://github.com/enonic/xp/commit/664833fc4e85586e54f3fd7d3196df15e2f0b912", "message": "Repository Data #7407", "committedDate": "2019-10-02T08:31:43Z", "type": "commit"}, {"oid": "9215312ad98155656b4d4d6ae24943d86beceec8", "url": "https://github.com/enonic/xp/commit/9215312ad98155656b4d4d6ae24943d86beceec8", "message": "Repository Data #7407", "committedDate": "2019-10-02T09:03:39Z", "type": "commit"}, {"oid": "989af61729dd8dfa0f641103ff9722d47ae3c930", "url": "https://github.com/enonic/xp/commit/989af61729dd8dfa0f641103ff9722d47ae3c930", "message": "Content Project - Project Service #7281", "committedDate": "2019-10-10T08:26:02Z", "type": "commit"}, {"oid": "56ea612958a1b50d572fe6e4d111dc2eddde036c", "url": "https://github.com/enonic/xp/commit/56ea612958a1b50d572fe6e4d111dc2eddde036c", "message": "Content Project - Project Service #7281", "committedDate": "2019-10-11T13:45:36Z", "type": "commit"}, {"oid": "09c4aabe151e142b85eb1aa19b80ac1dcaf9d3b4", "url": "https://github.com/enonic/xp/commit/09c4aabe151e142b85eb1aa19b80ac1dcaf9d3b4", "message": "Content Project - Initialization #7282", "committedDate": "2019-10-11T15:35:02Z", "type": "commit"}, {"oid": "5e869df2547f5722f7211db9878580682715b1ea", "url": "https://github.com/enonic/xp/commit/5e869df2547f5722f7211db9878580682715b1ea", "message": "Merge pull request #7527 from enonic/issue-7281-1\n\nContent Project - Project Service #7281", "committedDate": "2019-10-14T07:17:19Z", "type": "commit"}, {"oid": "d97f0923b8191864e5a16eb8449d9339ec24150b", "url": "https://github.com/enonic/xp/commit/d97f0923b8191864e5a16eb8449d9339ec24150b", "message": "Merge pull request #7542 from enonic/issue-7282\n\nContent Project - Initialization #7282", "committedDate": "2019-10-14T07:23:12Z", "type": "commit"}, {"oid": "5c7c113596f6c87ffa0ef8ac36859dab39b1e6c7", "url": "https://github.com/enonic/xp/commit/5c7c113596f6c87ffa0ef8ac36859dab39b1e6c7", "message": "Content Project - Admin Rest #7283", "committedDate": "2019-10-14T19:30:15Z", "type": "commit"}, {"oid": "a0eb15445d4607b8ce2a55189fb4bbaeb9f54046", "url": "https://github.com/enonic/xp/commit/a0eb15445d4607b8ce2a55189fb4bbaeb9f54046", "message": "Content Project - Admin Rest #7283\nCms Feature tests.", "committedDate": "2019-10-15T10:47:28Z", "type": "commit"}, {"oid": "a75bae0bb4c56ce3bea781e1c6ce029f503612ce", "url": "https://github.com/enonic/xp/commit/a75bae0bb4c56ce3bea781e1c6ce029f503612ce", "message": "Content Project - Admin Rest #7283", "committedDate": "2019-10-16T11:12:32Z", "type": "commit"}, {"oid": "9999705dd320739b293e4805fc9a168d10e40929", "url": "https://github.com/enonic/xp/commit/9999705dd320739b293e4805fc9a168d10e40929", "message": "Content Project - Admin Rest #7283", "committedDate": "2019-10-16T11:56:04Z", "type": "commit"}, {"oid": "779dda9467be173d26821caadcb243cadc98711c", "url": "https://github.com/enonic/xp/commit/779dda9467be173d26821caadcb243cadc98711c", "message": "Merge pull request #7549 from enonic/issue-7283\n\nContent Project - Admin Rest #7283", "committedDate": "2019-10-29T07:47:58Z", "type": "commit"}, {"oid": "2d5227fdceb2e78bb0ad1013a9cd81c164909463", "url": "https://github.com/enonic/xp/commit/2d5227fdceb2e78bb0ad1013a9cd81c164909463", "message": "Merge branch 'master' into epic-project", "committedDate": "2019-11-28T08:28:25Z", "type": "commit"}, {"oid": "9cfbaaca5f9d3b6a073156d24a508f1d122ed471", "url": "https://github.com/enonic/xp/commit/9cfbaaca5f9d3b6a073156d24a508f1d122ed471", "message": "Fix master merge", "committedDate": "2019-12-10T14:42:12Z", "type": "commit"}, {"oid": "9779ca71ec31cb268b7eed4d2f645fe0e7a0b9df", "url": "https://github.com/enonic/xp/commit/9779ca71ec31cb268b7eed4d2f645fe0e7a0b9df", "message": "Content Project - Multipart form data #7717", "committedDate": "2019-12-13T20:16:31Z", "type": "commit"}, {"oid": "47862fea4ddce0f85726026e62199f64ad726b3d", "url": "https://github.com/enonic/xp/commit/47862fea4ddce0f85726026e62199f64ad726b3d", "message": "Content Project - Multipart form data #7717", "committedDate": "2019-12-16T10:13:26Z", "type": "commit"}, {"oid": "8b4735826db010b8dfb25a04e42c1a55431b6240", "url": "https://github.com/enonic/xp/commit/8b4735826db010b8dfb25a04e42c1a55431b6240", "message": "Content Project - Admin REST - Content project dependant endpoints #7718", "committedDate": "2019-12-16T13:22:24Z", "type": "commit"}, {"oid": "57b5040b2d26180dab9a05c344cf104945715176", "url": "https://github.com/enonic/xp/commit/57b5040b2d26180dab9a05c344cf104945715176", "message": "Merge pull request #7742 from enonic/issue-7717\n\nContent Project - Multipart form data #7717", "committedDate": "2019-12-29T16:58:20Z", "type": "commit"}, {"oid": "3ce68097cdb0b645e0b033015dfd6bae4d0c997f", "url": "https://github.com/enonic/xp/commit/3ce68097cdb0b645e0b033015dfd6bae4d0c997f", "message": "Merge pull request #7743 from enonic/issue-7718\n\nContent Project - Admin REST - Content project dependant endpoints #7718", "committedDate": "2019-12-29T16:59:37Z", "type": "commit"}, {"oid": "c4e3c909f3e804b750182e897f389d6fa7ec161a", "url": "https://github.com/enonic/xp/commit/c4e3c909f3e804b750182e897f389d6fa7ec161a", "message": "Content Project #7280", "committedDate": "2020-01-03T15:16:28Z", "type": "commit"}, {"oid": "4f8b86ccbd52dd95fa006cb60f0d2cdc2c132e81", "url": "https://github.com/enonic/xp/commit/4f8b86ccbd52dd95fa006cb60f0d2cdc2c132e81", "message": "Merge branch 'master' into epic-project\n\n# Conflicts:\n#\tmodules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/schema/content/ContentTypeResource.java\n#\tmodules/core/core-api/src/main/java/com/enonic/xp/repository/IndexDefinitions.java\n#\tmodules/core/core-api/src/main/java/com/enonic/xp/repository/Repository.java\n#\tmodules/core/core-api/src/main/java/com/enonic/xp/repository/RepositoryService.java\n#\tmodules/itest/itest-core/src/test/java/com/enonic/xp/core/content/AbstractContentServiceTest.java", "committedDate": "2020-01-03T16:05:52Z", "type": "commit"}, {"oid": "4c59dae97118dad357c2d895dcecf5b1abe8bc26", "url": "https://github.com/enonic/xp/commit/4c59dae97118dad357c2d895dcecf5b1abe8bc26", "message": "Epic-project misc issues:\n\n-Adjusted regex for schema endpoint url because no layer is set and requests not reaching endpoint\n-Adjusted icon url resolver to return urls in correct format with respect to projects", "committedDate": "2020-01-17T19:41:31Z", "type": "commit"}, {"oid": "78d6fbafed472ff186ec87f0c7a3f0f1b04c8be5", "url": "https://github.com/enonic/xp/commit/78d6fbafed472ff186ec87f0c7a3f0f1b04c8be5", "message": "Epic-project misc issues:\n\n-Setting correct repo id when creating request from another request", "committedDate": "2020-01-20T11:42:05Z", "type": "commit"}, {"oid": "e982efca3d3ca083fb4ae7e5fa2ab327387b3ede", "url": "https://github.com/enonic/xp/commit/e982efca3d3ca083fb4ae7e5fa2ab327387b3ede", "message": "Epic-project\n\n-Added \"default\" repo name to a constant\n-Forbidden deletion of default repo", "committedDate": "2020-01-28T09:47:40Z", "type": "commit"}, {"oid": "ea74952506b2ed9d2f497aa1def074cf5c7b6cf3", "url": "https://github.com/enonic/xp/commit/ea74952506b2ed9d2f497aa1def074cf5c7b6cf3", "message": "Epic-project:\n\n-Allowing read access of projects for content manager role, so user could see projects and switch them in studio", "committedDate": "2020-01-29T08:10:17Z", "type": "commit"}, {"oid": "1904d9dd7cf68845e8c02e54efc30b79a0a63cbc", "url": "https://github.com/enonic/xp/commit/1904d9dd7cf68845e8c02e54efc30b79a0a63cbc", "message": "Make issues context dependable #7841\n\n-Added IssueInitializer call on project creation to have /issues node created in specified project repo\n-Refactored IssueInitializer and ContentInitializer\n-Moved 'cms/<project>' part of REST path from all required Resource classes to a separate constant", "committedDate": "2020-01-30T12:21:16Z", "type": "commit"}, {"oid": "def896cd39758a614eb375b69ffcc46ef119de09", "url": "https://github.com/enonic/xp/commit/def896cd39758a614eb375b69ffcc46ef119de09", "message": "test fix", "committedDate": "2020-01-30T13:03:15Z", "type": "commit"}, {"oid": "2d7f768abc26b856a0e812e20e14d01a2e4d9c20", "url": "https://github.com/enonic/xp/commit/2d7f768abc26b856a0e812e20e14d01a2e4d9c20", "message": "-Post master merge adjustments", "committedDate": "2020-02-03T14:19:43Z", "type": "commit"}, {"oid": "56c70297a2e86a0aa95bfff0eaebb288fe56e6c5", "url": "https://github.com/enonic/xp/commit/56c70297a2e86a0aa95bfff0eaebb288fe56e6c5", "message": "-Post master merge adjustments", "committedDate": "2020-02-03T14:20:12Z", "type": "commit"}, {"oid": "5b50bca954047dde3c566a09d34cb6e96e5f2b4c", "url": "https://github.com/enonic/xp/commit/5b50bca954047dde3c566a09d34cb6e96e5f2b4c", "message": "Merge pull request #7861 from enonic/epic-project_master_merge\n\nEpic project master merge", "committedDate": "2020-02-06T09:30:24Z", "type": "commit"}, {"oid": "b5db65d3aa8790dd93779e1c8630216a14803ce6", "url": "https://github.com/enonic/xp/commit/b5db65d3aa8790dd93779e1c8630216a14803ce6", "message": "Revert the removal of layer from Admin Rest URLs #7863", "committedDate": "2020-02-06T12:47:43Z", "type": "commit"}, {"oid": "e4afa0488554e61e9e0b8c48f4a005b1921f7c80", "url": "https://github.com/enonic/xp/commit/e4afa0488554e61e9e0b8c48f4a005b1921f7c80", "message": "Revert the removal of layer from Admin Rest URLs #7863\n\n-fix for xdata endpoint", "committedDate": "2020-02-06T13:54:47Z", "type": "commit"}, {"oid": "031778e2a22e00c960a1a1700c6e1485a27b61db", "url": "https://github.com/enonic/xp/commit/031778e2a22e00c960a1a1700c6e1485a27b61db", "message": "Merge pull request #7864 from enonic/issue-7863\n\nIssue 7863", "committedDate": "2020-02-06T14:04:16Z", "type": "commit"}, {"oid": "9c9e0b91bdd860af9a9ee0296567b733285187bd", "url": "https://github.com/enonic/xp/commit/9c9e0b91bdd860af9a9ee0296567b733285187bd", "message": "Permissions in content projects #7840", "committedDate": "2020-02-11T10:30:34Z", "type": "commit"}, {"oid": "e2d355d9b2b47451d42a3f2da994f97f38ebda10", "url": "https://github.com/enonic/xp/commit/e2d355d9b2b47451d42a3f2da994f97f38ebda10", "message": "Merge pull request #7865 from enonic/issue-7840\n\nPermissions in content projects #7840", "committedDate": "2020-02-11T12:33:07Z", "type": "commit"}, {"oid": "aeded584e9f513948bd7e40289c27d6c7ef07a49", "url": "https://github.com/enonic/xp/commit/aeded584e9f513948bd7e40289c27d6c7ef07a49", "message": "Permissions in content projects #7840\nsmall fixes", "committedDate": "2020-02-11T14:58:05Z", "type": "commit"}, {"oid": "1efdc1029ec1573c2784cf6ad48ecc32f9e5a9b9", "url": "https://github.com/enonic/xp/commit/1efdc1029ec1573c2784cf6ad48ecc32f9e5a9b9", "message": "Permissions in content projects #7840\nsmall fixes", "committedDate": "2020-02-12T15:00:02Z", "type": "commit"}, {"oid": "346dac5f494b2f5859f250866407ddd6f9e3c769", "url": "https://github.com/enonic/xp/commit/346dac5f494b2f5859f250866407ddd6f9e3c769", "message": "Permissions management in the Project Wizard #7866", "committedDate": "2020-02-13T09:59:33Z", "type": "commit"}, {"oid": "83fe853ed00ca63f9b3d422e2c6e693a63a7e373", "url": "https://github.com/enonic/xp/commit/83fe853ed00ca63f9b3d422e2c6e693a63a7e373", "message": "Permissions management in the Project Wizard #7866\n\n-tests fix", "committedDate": "2020-02-13T11:07:15Z", "type": "commit"}, {"oid": "4ef3ebc750e2621316d2d06bc0a62d1939cd8181", "url": "https://github.com/enonic/xp/commit/4ef3ebc750e2621316d2d06bc0a62d1939cd8181", "message": "Merge pull request #7867 from enonic/issue-7866\n\nProject Permissions", "committedDate": "2020-02-17T13:24:57Z", "type": "commit"}, {"oid": "6f3b39f74af4ac7e9be4108cdd6714abff6be0ed", "url": "https://github.com/enonic/xp/commit/6f3b39f74af4ac7e9be4108cdd6714abff6be0ed", "message": "Projects - Backward compatibility #7872", "committedDate": "2020-02-18T12:38:03Z", "type": "commit"}, {"oid": "1a1dc58748a173f94eca5891852d020ff696e6d8", "url": "https://github.com/enonic/xp/commit/1a1dc58748a173f94eca5891852d020ff696e6d8", "message": "Merge pull request #7873 from enonic/issue-7872\n\nProjects - Backward compatibility #7872", "committedDate": "2020-02-18T12:44:07Z", "type": "commit"}, {"oid": "9c50c348f6c4d7a5b84fe4eb336f8ba6760457e7", "url": "https://github.com/enonic/xp/commit/9c50c348f6c4d7a5b84fe4eb336f8ba6760457e7", "message": "Merge remote-tracking branch 'remotes/origin/master' into epic-project", "committedDate": "2020-02-21T10:38:14Z", "type": "commit"}, {"oid": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "url": "https://github.com/enonic/xp/commit/caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "message": "Trying to make Codacy happy", "committedDate": "2020-02-24T10:09:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MDY3Nw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383260677", "body": "should be List instead of ImmutableList", "bodyText": "should be List instead of ImmutableList", "bodyHTML": "<p dir=\"auto\">should be List instead of ImmutableList</p>", "author": "rymsha", "createdAt": "2020-02-24T13:22:10Z", "path": "modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package com.enonic.xp.admin.impl.rest.resource.project.json;\n+\n+import com.google.common.collect.ImmutableList;\n+\n+import com.enonic.xp.project.Projects;\n+\n+public final class ProjectsJson\n+{\n+    private final ImmutableList<ProjectJson> projects;\n+\n+    public ProjectsJson( final Projects projects )\n+    {\n+        this.projects = projects != null ? projects.stream().\n+            map( ProjectJson::new ).\n+            collect( ImmutableList.toImmutableList() ) : ImmutableList.of();\n+    }\n+\n+    public ImmutableList<ProjectJson> getProjects()", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "changed_code": [{"header": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\nindex 8e2f7eaa64..561c1b11b1 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n", "chunk": "@@ -1,18 +1,16 @@\n package com.enonic.xp.admin.impl.rest.resource.project.json;\n \n-import com.google.common.collect.ImmutableList;\n+import java.util.List;\n \n-import com.enonic.xp.project.Projects;\n+import com.google.common.collect.ImmutableList;\n \n public final class ProjectsJson\n {\n     private final ImmutableList<ProjectJson> projects;\n \n-    public ProjectsJson( final Projects projects )\n+    public ProjectsJson( final List<ProjectJson> projects )\n     {\n-        this.projects = projects != null ? projects.stream().\n-            map( ProjectJson::new ).\n-            collect( ImmutableList.toImmutableList() ) : ImmutableList.of();\n+        this.projects = ImmutableList.copyOf( projects );\n     }\n \n     public ImmutableList<ProjectJson> getProjects()\n", "next_change": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\nindex 561c1b11b1..e24287a115 100644\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n+++ b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n", "chunk": "@@ -13,7 +13,7 @@ public final class ProjectsJson\n         this.projects = ImmutableList.copyOf( projects );\n     }\n \n-    public ImmutableList<ProjectJson> getProjects()\n+    public List<ProjectJson> getProjects()\n     {\n         return projects;\n     }\n", "next_change": {"commit": "85fd5809a31b0c478b4de0d12bea58032f11fcd7", "changed_code": [{"header": "diff --git a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java b/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\ndeleted file mode 100644\nindex e24287a115..0000000000\n--- a/modules/admin/admin-impl/src/main/java/com/enonic/xp/admin/impl/rest/resource/project/json/ProjectsJson.java\n+++ /dev/null\n", "chunk": "@@ -1,20 +0,0 @@\n-package com.enonic.xp.admin.impl.rest.resource.project.json;\n-\n-import java.util.List;\n-\n-import com.google.common.collect.ImmutableList;\n-\n-public final class ProjectsJson\n-{\n-    private final ImmutableList<ProjectJson> projects;\n-\n-    public ProjectsJson( final List<ProjectJson> projects )\n-    {\n-        this.projects = ImmutableList.copyOf( projects );\n-    }\n-\n-    public List<ProjectJson> getProjects()\n-    {\n-        return projects;\n-    }\n-}\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "85fd5809a31b0c478b4de0d12bea58032f11fcd7", "committedDate": "2021-08-05 11:14:20 +0200", "message": "Move ContentResource endpoint #8952"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTE3Nw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261177", "body": "@PublicApi instead of @Beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:23:16Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java", "diffHunk": "@@ -0,0 +1,143 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Objects;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.Preconditions;\n+\n+import com.enonic.xp.attachment.CreateAttachment;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 4e3a5cc13b..8e66c99804 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -1,13 +1,11 @@\n package com.enonic.xp.project;\n \n-import java.util.Objects;\n-\n-import com.google.common.annotations.Beta;\n import com.google.common.base.Preconditions;\n \n+import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.attachment.CreateAttachment;\n \n-@Beta\n+@PublicApi\n public final class CreateProjectParams\n {\n     private final ProjectName name;\n", "next_change": {"commit": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 8e66c99804..7fad79543a 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -3,7 +3,6 @@ package com.enonic.xp.project;\n import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n-import com.enonic.xp.attachment.CreateAttachment;\n \n @PublicApi\n public final class CreateProjectParams\n", "next_change": {"commit": "fb065629363e29ddaf6c1fce4a4789212f33c203", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 7fad79543a..037bdc282d 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -3,6 +3,7 @@ package com.enonic.xp.project;\n import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n+import com.enonic.xp.security.acl.AccessControlList;\n \n @PublicApi\n public final class CreateProjectParams\n", "next_change": {"commit": "56e02875579f8b4a350a37527608528f36661869", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 037bdc282d..9bc7643d53 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -4,6 +4,8 @@ import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.security.acl.AccessControlList;\n+import com.enonic.xp.site.SiteConfig;\n+import com.enonic.xp.site.SiteConfigs;\n \n @PublicApi\n public final class CreateProjectParams\n", "next_change": null}]}}]}}, {"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 8e66c99804..7fad79543a 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -14,14 +13,11 @@ public final class CreateProjectParams\n \n     private final String description;\n \n-    private final CreateAttachment icon;\n-\n     private CreateProjectParams( final Builder builder )\n     {\n         this.name = builder.name;\n         this.displayName = builder.displayName;\n         this.description = builder.description;\n-        this.icon = builder.icon;\n     }\n \n     public static Builder create()\n", "next_change": {"commit": "8343c27b0ab7bbb3cba3f15464f18ffe96ea62d0", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 7fad79543a..ee9ca4ca64 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -13,11 +13,14 @@ public final class CreateProjectParams\n \n     private final String description;\n \n+    private final boolean forceInitialization;\n+\n     private CreateProjectParams( final Builder builder )\n     {\n         this.name = builder.name;\n         this.displayName = builder.displayName;\n         this.description = builder.description;\n+        this.forceInitialization = builder.forceInitialization;\n     }\n \n     public static Builder create()\n", "next_change": {"commit": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex ee9ca4ca64..f43fb9d548 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -20,6 +22,7 @@ public final class CreateProjectParams\n         this.name = builder.name;\n         this.displayName = builder.displayName;\n         this.description = builder.description;\n+        this.parent = builder.parent;\n         this.forceInitialization = builder.forceInitialization;\n     }\n \n", "next_change": {"commit": "fb065629363e29ddaf6c1fce4a4789212f33c203", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex f43fb9d548..037bdc282d 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -24,6 +27,7 @@ public final class CreateProjectParams\n         this.description = builder.description;\n         this.parent = builder.parent;\n         this.forceInitialization = builder.forceInitialization;\n+        this.permissions = builder.permissions;\n     }\n \n     public static Builder create()\n", "next_change": {"commit": "56e02875579f8b4a350a37527608528f36661869", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\nindex 037bdc282d..9bc7643d53 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/CreateProjectParams.java\n", "chunk": "@@ -26,6 +30,7 @@ public final class CreateProjectParams\n         this.displayName = builder.displayName;\n         this.description = builder.description;\n         this.parent = builder.parent;\n+        this.siteConfigs = builder.siteConfigs.build();\n         this.forceInitialization = builder.forceInitialization;\n         this.permissions = builder.permissions;\n     }\n", "next_change": null}]}}]}}]}}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "committedDate": "2020-04-27 11:25:49 +0300", "message": "Implement upload of project icon #8044"}, {"oid": "8343c27b0ab7bbb3cba3f15464f18ffe96ea62d0", "committedDate": "2020-05-22 08:17:23 +0200", "message": "Project creation locks in cluster environment #8100"}, {"oid": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "committedDate": "2020-11-12 12:02:58 +0300", "message": "Epic layers (#8452)"}, {"oid": "fb065629363e29ddaf6c1fce4a4789212f33c203", "committedDate": "2021-10-15 21:24:28 +0300", "message": "#9143 Permissions for Everyone are not propagated to content in a new public layer"}, {"oid": "56e02875579f8b4a350a37527608528f36661869", "committedDate": "2022-08-15 14:38:03 +0200", "message": "No-code schema (#9639)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTM3Ng==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261376", "body": "@PublicAPI instead of @beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:23:42Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java", "diffHunk": "@@ -0,0 +1,153 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Objects;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.Preconditions;\n+\n+import com.enonic.xp.attachment.CreateAttachment;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\nindex 98e58bb4d0..b368376521 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n", "chunk": "@@ -1,13 +1,11 @@\n package com.enonic.xp.project;\n \n-import java.util.Objects;\n-\n-import com.google.common.annotations.Beta;\n import com.google.common.base.Preconditions;\n \n+import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.attachment.CreateAttachment;\n \n-@Beta\n+@PublicApi\n public final class ModifyProjectParams\n {\n     private final ProjectName name;\n", "next_change": {"commit": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\nindex b368376521..0a17e99882 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n", "chunk": "@@ -3,7 +3,6 @@ package com.enonic.xp.project;\n import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n-import com.enonic.xp.attachment.CreateAttachment;\n \n @PublicApi\n public final class ModifyProjectParams\n", "next_change": {"commit": "56e02875579f8b4a350a37527608528f36661869", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\nindex 0a17e99882..e6cee25302 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n", "chunk": "@@ -3,6 +3,8 @@ package com.enonic.xp.project;\n import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n+import com.enonic.xp.site.SiteConfig;\n+import com.enonic.xp.site.SiteConfigs;\n \n @PublicApi\n public final class ModifyProjectParams\n", "next_change": null}]}}, {"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\nindex b368376521..0a17e99882 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n", "chunk": "@@ -14,14 +13,11 @@ public final class ModifyProjectParams\n \n     private final String description;\n \n-    private final CreateAttachment icon;\n-\n     private ModifyProjectParams( final Builder builder )\n     {\n         this.name = builder.name;\n         this.displayName = builder.displayName;\n         this.description = builder.description;\n-        this.icon = builder.icon;\n     }\n \n     public static Builder create()\n", "next_change": {"commit": "3167f4e2255dbc293a4f8f9024e30a99cc424532", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\nindex 0a17e99882..85fbe89311 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ModifyProjectParams.java\n", "chunk": "@@ -25,6 +25,7 @@ public final class ModifyProjectParams\n         return new Builder();\n     }\n \n+    @Deprecated\n     public static Builder create( final CreateProjectParams params )\n     {\n         return create().\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "committedDate": "2020-04-27 11:25:49 +0300", "message": "Implement upload of project icon #8044"}, {"oid": "3167f4e2255dbc293a4f8f9024e30a99cc424532", "committedDate": "2020-07-08 13:53:17 +0200", "message": "Project meta-data gets lost after dump restore #8191"}, {"oid": "56e02875579f8b4a350a37527608528f36661869", "committedDate": "2022-08-15 14:38:03 +0200", "message": "No-code schema (#9639)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTQ2Mg==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261462", "body": "@PublicAPI instead of @beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:23:53Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java", "diffHunk": "@@ -0,0 +1,233 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Objects;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.Preconditions;\n+\n+import com.enonic.xp.attachment.Attachment;\n+import com.enonic.xp.content.ContentConstants;\n+import com.enonic.xp.content.ContentPropertyNames;\n+import com.enonic.xp.data.PropertySet;\n+import com.enonic.xp.data.PropertyTree;\n+import com.enonic.xp.repository.Repository;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\nindex e4a000b33d..2d0dca2723 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n", "chunk": "@@ -1,10 +1,8 @@\n package com.enonic.xp.project;\n \n-import java.util.Objects;\n-\n-import com.google.common.annotations.Beta;\n import com.google.common.base.Preconditions;\n \n+import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.attachment.Attachment;\n import com.enonic.xp.content.ContentConstants;\n import com.enonic.xp.content.ContentPropertyNames;\n", "next_change": {"commit": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\nindex 2d0dca2723..436eebabab 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n", "chunk": "@@ -1,5 +1,7 @@\n package com.enonic.xp.project;\n \n+import java.util.Iterator;\n+\n import com.google.common.base.Preconditions;\n \n import com.enonic.xp.annotation.PublicApi;\n", "next_change": null}]}}, {"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\nindex e4a000b33d..2d0dca2723 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n", "chunk": "@@ -12,7 +10,7 @@ import com.enonic.xp.data.PropertySet;\n import com.enonic.xp.data.PropertyTree;\n import com.enonic.xp.repository.Repository;\n \n-@Beta\n+@PublicApi\n public final class Project\n {\n     private final ProjectName name;\n", "next_change": {"commit": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\nindex 2d0dca2723..436eebabab 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n", "chunk": "@@ -19,6 +21,8 @@ public final class Project\n \n     private final String description;\n \n+    private final ProjectName parent;\n+\n     private final Attachment icon;\n \n     private Project( Builder builder )\n", "next_change": {"commit": "56e02875579f8b4a350a37527608528f36661869", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\nindex 436eebabab..ccd72001c6 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Project.java\n", "chunk": "@@ -25,6 +30,8 @@ public final class Project\n \n     private final Attachment icon;\n \n+    private final SiteConfigs siteConfigs;\n+\n     private Project( Builder builder )\n     {\n         this.name = builder.name;\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "74dd2d5f41d3857861512b5352d66976b5de83cf", "committedDate": "2020-03-05 16:19:53 +0300", "message": "Remove Expert role from default repo permissions #7930"}, {"oid": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "committedDate": "2020-03-05 16:58:25 +0300", "message": "Add Author to allowed project roles #7936"}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "committedDate": "2020-11-12 12:02:58 +0300", "message": "Epic layers (#8452)"}, {"oid": "56e02875579f8b4a350a37527608528f36661869", "committedDate": "2022-08-15 14:38:03 +0200", "message": "No-code schema (#9639)"}, {"oid": "dc9d630e0e76452e0d0eb0e115f4c773ac4e856b", "committedDate": "2023-01-17 08:53:20 +0100", "message": "Store app config on /content node #9947 (#9953)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTU5OQ==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261599", "body": "@PublicAPI instead of beta. Also add private constructor", "bodyText": "@PublicAPI instead of beta. Also add private constructor", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of beta. Also add private constructor</p>", "author": "rymsha", "createdAt": "2020-02-24T13:24:08Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectConstants.java", "diffHunk": "@@ -0,0 +1,41 @@\n+package com.enonic.xp.project;\n+\n+import com.google.common.annotations.Beta;\n+\n+import com.enonic.xp.content.ContentConstants;\n+import com.enonic.xp.security.RoleKeys;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "92bf84f86eb1b239ca3d1eae75fad07e72df6399", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectConstants.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectConstants.java\nindex 5638fd0275..3b2ae2110e 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectConstants.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectConstants.java\n", "chunk": "@@ -10,6 +10,8 @@ public final class ProjectConstants\n {\n     public static final String PROJECT_REPO_ID_PREFIX = \"com.enonic.cms.\";\n \n+    public static final String PROJECT_NAME_PREFIX = \"cms.project.\";\n+\n     public static final String PROJECT_REPO_ID_DEFAULT = \"default\";\n \n     public static final String PROJECT_DATA_SET_NAME = \"com-enonic-cms\";\n", "next_change": null}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "74dd2d5f41d3857861512b5352d66976b5de83cf", "committedDate": "2020-03-05 16:19:53 +0300", "message": "Remove Expert role from default repo permissions #7930"}, {"oid": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "committedDate": "2020-03-05 16:58:25 +0300", "message": "Add Author to allowed project roles #7936"}, {"oid": "1805dff47cdf04d1e1ebdab6ea84a5d633088f81", "committedDate": "2020-03-17 18:30:15 +0300", "message": "Create project roles on project save #7932"}, {"oid": "92bf84f86eb1b239ca3d1eae75fad07e72df6399", "committedDate": "2020-03-20 13:55:24 +0300", "message": "Create project roles on project save #7932"}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "3b54d9e0d88a0845fe0b2d94513d89b6e639c5bc", "committedDate": "2020-11-12 12:02:58 +0300", "message": "Epic layers (#8452)"}, {"oid": "56e02875579f8b4a350a37527608528f36661869", "committedDate": "2022-08-15 14:38:03 +0200", "message": "No-code schema (#9639)"}, {"oid": "2f2b9aeb828b6c47a857eda4b700634bc36be772", "committedDate": "2022-12-09 11:30:20 +0100", "message": "repo.deleteBranch(master) fails, but has still deleted nodes #9777 (#9925)"}, {"oid": "dc9d630e0e76452e0d0eb0e115f4c773ac4e856b", "committedDate": "2023-01-17 08:53:20 +0100", "message": "Store app config on /content node #9947 (#9953)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTc5MA==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261790", "body": "@PublicAPI instead of @beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:24:33Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Objects;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.Preconditions;\n+\n+import com.enonic.xp.repository.RepositoryId;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\nindex 896dd75898..b60854db5b 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\n", "chunk": "@@ -1,24 +1,25 @@\n package com.enonic.xp.project;\n \n import java.util.Objects;\n+import java.util.regex.Pattern;\n \n-import com.google.common.annotations.Beta;\n import com.google.common.base.Preconditions;\n \n+import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.repository.RepositoryId;\n \n-@Beta\n+@PublicApi\n public final class ProjectName\n {\n-    public static final String VALID_PROJECT_NAME_REGEX = \"([a-z0-9\\\\-])([a-z0-9_\\\\-])*\";\n+    private static final Pattern VALID_PROJECT_NAME_PATTERN = Pattern.compile( \"^([a-z0-9\\\\-])([a-z0-9_\\\\-])*$\" );\n \n     private final String value;\n \n     private ProjectName( final String value )\n     {\n-        Preconditions.checkNotNull( value, \"ProjectName cannot be null\" );\n-        Preconditions.checkArgument( !value.trim().isEmpty(), \"ProjectName cannot be blank\" );\n-        Preconditions.checkArgument( value.matches( \"^\" + VALID_PROJECT_NAME_REGEX + \"$\" ), \"ProjectName format incorrect: \" + value );\n+        Preconditions.checkNotNull( value, \"Project name cannot be null\" );\n+        Preconditions.checkArgument( !value.trim().isEmpty(), \"Project name cannot be blank\" );\n+        Preconditions.checkArgument( VALID_PROJECT_NAME_PATTERN.matcher( value ).matches(), \"Project name format incorrect: \" + value );\n         this.value = value;\n     }\n \n", "next_change": {"commit": "59971c211cf20bbf904a614d0b26f2e00ef0a61d", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\nindex b60854db5b..b2e0786d60 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectName.java\n", "chunk": "@@ -11,14 +11,14 @@ import com.enonic.xp.repository.RepositoryId;\n @PublicApi\n public final class ProjectName\n {\n-    private static final Pattern VALID_PROJECT_NAME_PATTERN = Pattern.compile( \"^([a-z0-9\\\\-])([a-z0-9_\\\\-])*$\" );\n+    private static final Pattern VALID_PROJECT_NAME_PATTERN = Pattern.compile( \"^([a-z0-9])([a-z0-9_\\\\-])*$\" );\n \n     private final String value;\n \n     private ProjectName( final String value )\n     {\n         Preconditions.checkNotNull( value, \"Project name cannot be null\" );\n-        Preconditions.checkArgument( !value.trim().isEmpty(), \"Project name cannot be blank\" );\n+        Preconditions.checkArgument( !value.isBlank(), \"Project name cannot be blank\" );\n         Preconditions.checkArgument( VALID_PROJECT_NAME_PATTERN.matcher( value ).matches(), \"Project name format incorrect: \" + value );\n         this.value = value;\n     }\n", "next_change": null}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "committedDate": "2020-03-30 11:00:49 +0300", "message": "Management of READ access to project #7945"}, {"oid": "fb081b999e1e01b1a2ed7cd523bafffe55a09e68", "committedDate": "2020-06-08 14:10:03 +0200", "message": "Forbid to use `-` as a first simbol in ProjectName #8136"}, {"oid": "59971c211cf20bbf904a614d0b26f2e00ef0a61d", "committedDate": "2020-12-21 10:23:10 +0100", "message": "Codacy fixes #8565 (#8566)"}, {"oid": "c35e808127f62482a038fde34c024e8d27b0f7a9", "committedDate": "2022-09-12 11:05:32 +0200", "message": "#9659 Modification of media content won't verify attachment checksum"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MTk4Nw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383261987", "body": "this is @PublicAPI ", "bodyText": "this is @PublicAPI", "bodyHTML": "<p dir=\"auto\">this is <a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:24:55Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Collection;\n+import java.util.Map;\n+import java.util.Objects;\n+\n+import org.apache.commons.lang.StringUtils;\n+\n+import com.enonic.xp.security.PrincipalKey;\n+import com.enonic.xp.security.PrincipalKeys;\n+\n+public final class ProjectPermissions", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\nindex 7df4db521d..ef91332b10 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\n", "chunk": "@@ -11,13 +11,13 @@ import com.enonic.xp.security.PrincipalKeys;\n \n public final class ProjectPermissions\n {\n-    private Map<ProjectPermissionsLevel, PrincipalKeys> permissions;\n+    private Map<ProjectRole, PrincipalKeys> permissions;\n \n     private ProjectPermissions( Builder builder )\n     {\n-        this.permissions =\n-            Map.of( ProjectPermissionsLevel.OWNER, builder.owner.build(), ProjectPermissionsLevel.EXPERT, builder.expert.build(),\n-                    ProjectPermissionsLevel.CONTRIBUTOR, builder.contributor.build() );\n+        this.permissions = Map.of( ProjectRole.OWNER, builder.owner.build(), ProjectRole.EDITOR, builder.editor.build(), ProjectRole.AUTHOR,\n+                                   builder.author.build(), ProjectRole.CONTRIBUTOR, builder.contributor.build(), ProjectRole.VIEWER,\n+                                   builder.viewer.build() );\n     }\n \n     public static Builder create()\n", "next_change": {"commit": "5e430ac72fa5abcd7209fe3223609f5f8b2149cb", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\nindex ef91332b10..1ab6162b07 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissions.java\n", "chunk": "@@ -25,6 +26,11 @@ public final class ProjectPermissions\n         return new Builder();\n     }\n \n+    public static Builder create( final ProjectPermissions source )\n+    {\n+        return new Builder( source );\n+    }\n+\n     public PrincipalKeys getOwner()\n     {\n         return permissions.get( ProjectRole.OWNER );\n", "next_change": null}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "74dd2d5f41d3857861512b5352d66976b5de83cf", "committedDate": "2020-03-05 16:19:53 +0300", "message": "Remove Expert role from default repo permissions #7930"}, {"oid": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "committedDate": "2020-03-05 16:58:25 +0300", "message": "Add Author to allowed project roles #7936"}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "committedDate": "2020-03-30 11:00:49 +0300", "message": "Management of READ access to project #7945"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "5e430ac72fa5abcd7209fe3223609f5f8b2149cb", "committedDate": "2020-04-06 13:23:41 +0300", "message": "Extract ProjectResourse.updatePermissions to separate endpoint #8000"}, {"oid": "16dfb8b3bab15f59b174f22ba5bea3b67816c0e3", "committedDate": "2020-04-14 14:40:55 +0200", "message": "Project language update fails on null #8014"}, {"oid": "f72f0369b6e747ee162a3e27ea6a8bfb0c57454f", "committedDate": "2021-06-16 14:38:40 +0200", "message": "Code Cleanup by Intellij #8893"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MjYyOA==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383262628", "body": "@PublicAPI", "bodyText": "@PublicAPI", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:26:11Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java", "diffHunk": "@@ -0,0 +1,6 @@\n+package com.enonic.xp.project;\n+\n+public enum ProjectPermissionsLevel", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "74dd2d5f41d3857861512b5352d66976b5de83cf", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\nindex 346a9e191c..7583028f49 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\n", "chunk": "@@ -2,5 +2,5 @@ package com.enonic.xp.project;\n \n public enum ProjectPermissionsLevel\n {\n-    OWNER, EXPERT, CONTRIBUTOR\n+    OWNER, EDITOR, CONTRIBUTOR\n }\n", "next_change": {"commit": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\nindex 7583028f49..bfa50b86a0 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\n", "chunk": "@@ -2,5 +2,5 @@ package com.enonic.xp.project;\n \n public enum ProjectPermissionsLevel\n {\n-    OWNER, EDITOR, CONTRIBUTOR\n+    OWNER, EDITOR, AUTHOR, CONTRIBUTOR\n }\n", "next_change": {"commit": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\ndeleted file mode 100644\nindex bfa50b86a0..0000000000\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectPermissionsLevel.java\n+++ /dev/null\n", "chunk": "@@ -1,6 +0,0 @@\n-package com.enonic.xp.project;\n-\n-public enum ProjectPermissionsLevel\n-{\n-    OWNER, EDITOR, AUTHOR, CONTRIBUTOR\n-}\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "74dd2d5f41d3857861512b5352d66976b5de83cf", "committedDate": "2020-03-05 16:19:53 +0300", "message": "Remove Expert role from default repo permissions #7930"}, {"oid": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "committedDate": "2020-03-05 16:58:25 +0300", "message": "Add Author to allowed project roles #7936"}, {"oid": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "committedDate": "2020-03-30 11:00:49 +0300", "message": "Management of READ access to project #7945"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2Mjc2Mw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383262763", "body": "@PublicAPI", "bodyText": "@PublicAPI", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:26:26Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package com.enonic.xp.project;\n+\n+import com.google.common.annotations.Beta;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\nindex ddd5d196cf..0fee048ea9 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n", "chunk": "@@ -1,8 +1,8 @@\n package com.enonic.xp.project;\n \n-import com.google.common.annotations.Beta;\n+import com.enonic.xp.annotation.PublicApi;\n \n-@Beta\n+@PublicApi\n public interface ProjectService\n {\n     Project create( final CreateProjectParams params );\n", "next_change": {"commit": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\nindex 0fee048ea9..068a295746 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n", "chunk": "@@ -9,6 +9,8 @@ public interface ProjectService\n \n     Project modify( final ModifyProjectParams params );\n \n+    void modifyIcon( final ModifyProjectIconParams params );\n+\n     Projects list();\n \n     Project get( final ProjectName projectName );\n", "next_change": {"commit": "ed90796db9ea1b7f671b865eb3ff6c35ce08aba2", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\nindex 068a295746..8fb389692c 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n", "chunk": "@@ -11,6 +13,8 @@ public interface ProjectService\n \n     void modifyIcon( final ModifyProjectIconParams params );\n \n+    ByteSource getIcon( final ProjectName projectName);\n+\n     Projects list();\n \n     Project get( final ProjectName projectName );\n", "next_change": {"commit": "be25407e1d078bd3b9135643a4319b775be0ea5c", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\nindex 8fb389692c..c211f222e1 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n", "chunk": "@@ -13,10 +13,12 @@ public interface ProjectService\n \n     void modifyIcon( final ModifyProjectIconParams params );\n \n-    ByteSource getIcon( final ProjectName projectName);\n+    ByteSource getIcon( final ProjectName projectName );\n \n     Projects list();\n \n+    ProjectGraph graph( final ProjectName projectName );\n+\n     Project get( final ProjectName projectName );\n \n     boolean delete( final ProjectName projectName );\n", "next_change": {"commit": "322f8f66056b24c0ffa520ed64bd42a971c1ab9a", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\nindex c211f222e1..631e317db4 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/ProjectService.java\n", "chunk": "@@ -7,23 +7,23 @@ import com.enonic.xp.annotation.PublicApi;\n @PublicApi\n public interface ProjectService\n {\n-    Project create( final CreateProjectParams params );\n+    Project create( CreateProjectParams params );\n \n-    Project modify( final ModifyProjectParams params );\n+    Project modify( ModifyProjectParams params );\n \n-    void modifyIcon( final ModifyProjectIconParams params );\n+    void modifyIcon( ModifyProjectIconParams params );\n \n-    ByteSource getIcon( final ProjectName projectName );\n+    ByteSource getIcon( ProjectName projectName );\n \n     Projects list();\n \n-    ProjectGraph graph( final ProjectName projectName );\n+    ProjectGraph graph( ProjectName projectName );\n \n-    Project get( final ProjectName projectName );\n+    Project get( ProjectName projectName );\n \n-    boolean delete( final ProjectName projectName );\n+    boolean delete( ProjectName projectName );\n \n-    ProjectPermissions modifyPermissions( final ProjectName projectName, final ProjectPermissions projectPermissions );\n+    ProjectPermissions modifyPermissions( ProjectName projectName, ProjectPermissions projectPermissions );\n \n-    ProjectPermissions getPermissions( final ProjectName projectName );\n+    ProjectPermissions getPermissions( ProjectName projectName );\n }\n", "next_change": null}]}}]}}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "e51b6a0eb31cb87fb14e83ba303fc1c166d67a5e", "committedDate": "2020-04-27 11:25:49 +0300", "message": "Implement upload of project icon #8044"}, {"oid": "ed90796db9ea1b7f671b865eb3ff6c35ce08aba2", "committedDate": "2020-06-05 14:18:49 +0200", "message": "Project icon is not displayed for users with only project roles #8127"}, {"oid": "be25407e1d078bd3b9135643a4319b775be0ea5c", "committedDate": "2020-12-08 15:47:16 +0300", "message": "Return all projects layers in /list API #8413"}, {"oid": "322f8f66056b24c0ffa520ed64bd42a971c1ab9a", "committedDate": "2021-01-27 08:44:11 +0100", "message": "RedundantModifier checkstyle #8636"}, {"oid": "56e02875579f8b4a350a37527608528f36661869", "committedDate": "2022-08-15 14:38:03 +0200", "message": "No-code schema (#9639)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2Mjg3Ng==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383262876", "body": "@PublicAPI instead of @beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:26:42Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package com.enonic.xp.project;\n+\n+import java.util.Collection;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.MoreObjects;\n+import com.google.common.collect.ImmutableSet;\n+\n+import com.enonic.xp.repository.Repositories;\n+import com.enonic.xp.support.AbstractImmutableEntitySet;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\nindex c73e540f40..a58162f846 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n", "chunk": "@@ -6,14 +6,14 @@ import java.util.stream.Collectors;\n \n import com.google.common.annotations.Beta;\n import com.google.common.base.MoreObjects;\n-import com.google.common.collect.ImmutableSet;\n+import com.google.common.collect.ImmutableList;\n \n import com.enonic.xp.repository.Repositories;\n-import com.enonic.xp.support.AbstractImmutableEntitySet;\n+import com.enonic.xp.support.AbstractImmutableEntityList;\n \n @Beta\n public final class Projects\n-    extends AbstractImmutableEntitySet<Project>\n+    extends AbstractImmutableEntityList<Project>\n {\n     private Projects( final Builder builder )\n     {\n", "next_change": {"commit": "2f2b9aeb828b6c47a857eda4b700634bc36be772", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\nindex a58162f846..7289c31793 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n", "chunk": "@@ -4,14 +4,14 @@ import java.util.Collection;\n import java.util.Objects;\n import java.util.stream.Collectors;\n \n-import com.google.common.annotations.Beta;\n import com.google.common.base.MoreObjects;\n import com.google.common.collect.ImmutableList;\n \n+import com.enonic.xp.annotation.PublicApi;\n import com.enonic.xp.repository.Repositories;\n import com.enonic.xp.support.AbstractImmutableEntityList;\n \n-@Beta\n+@PublicApi\n public final class Projects\n     extends AbstractImmutableEntityList<Project>\n {\n", "next_change": {"commit": "33b420e09e484c1cd07b6e7df35815ce4544b443", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\nindex 7289c31793..9dcf9fbeae 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/project/Projects.java\n", "chunk": "@@ -15,16 +15,17 @@ import com.enonic.xp.support.AbstractImmutableEntityList;\n public final class Projects\n     extends AbstractImmutableEntityList<Project>\n {\n-    private Projects( final Builder builder )\n+    private Projects( final ImmutableList<Project> projects )\n     {\n-        super( builder.projects.build() );\n+        super( projects );\n     }\n \n     public static Projects empty()\n     {\n-        return create().build();\n+        return new Projects( ImmutableList.of() );\n     }\n \n+    @Deprecated\n     public static Projects from( Repositories repositories )\n     {\n         if ( repositories == null )\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "038fbb11bca3be2e7230eb51a34fca97f521a78f", "committedDate": "2020-03-30 19:47:38 +0300", "message": "Replace all Set usages of Project by List #7972"}, {"oid": "f72f0369b6e747ee162a3e27ea6a8bfb0c57454f", "committedDate": "2021-06-16 14:38:40 +0200", "message": "Code Cleanup by Intellij #8893"}, {"oid": "2f2b9aeb828b6c47a857eda4b700634bc36be772", "committedDate": "2022-12-09 11:30:20 +0100", "message": "repo.deleteBranch(master) fails, but has still deleted nodes #9777 (#9925)"}, {"oid": "dc9d630e0e76452e0d0eb0e115f4c773ac4e856b", "committedDate": "2023-01-17 08:53:20 +0100", "message": "Store app config on /content node #9947 (#9953)"}, {"oid": "33b420e09e484c1cd07b6e7df35815ce4544b443", "committedDate": "2023-02-28 09:53:49 +0100", "message": "Code Cleanup #10056 (#10057)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2Mjk5Ng==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383262996", "body": "@PublicAPI ", "bodyText": "@PublicAPI", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:26:54Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/repository/EditableRepository.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package com.enonic.xp.repository;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import com.enonic.xp.data.PropertyTree;\n+import com.enonic.xp.node.BinaryAttachment;\n+\n+public final class EditableRepository", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": null, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2MzE1Ng==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383263156", "body": "@PublicAPI instead of @beta", "bodyText": "@PublicAPI instead of @beta", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"organization\" data-hovercard-url=\"/orgs/PublicAPI/hovercard\" href=\"https://github.com/PublicAPI\">@PublicAPI</a> instead of <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/beta/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/beta\">@beta</a></p>", "author": "rymsha", "createdAt": "2020-02-24T13:27:17Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/repository/UpdateRepositoryParams.java", "diffHunk": "@@ -0,0 +1,70 @@\n+package com.enonic.xp.repository;\n+\n+import java.util.function.Consumer;\n+\n+import com.google.common.annotations.Beta;\n+import com.google.common.base.Preconditions;\n+\n+@Beta", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "2f2b9aeb828b6c47a857eda4b700634bc36be772", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/repository/UpdateRepositoryParams.java b/modules/core/core-api/src/main/java/com/enonic/xp/repository/UpdateRepositoryParams.java\nindex d994d97ef0..eecc4d0e6d 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/repository/UpdateRepositoryParams.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/repository/UpdateRepositoryParams.java\n", "chunk": "@@ -2,10 +2,11 @@ package com.enonic.xp.repository;\n \n import java.util.function.Consumer;\n \n-import com.google.common.annotations.Beta;\n import com.google.common.base.Preconditions;\n \n-@Beta\n+import com.enonic.xp.annotation.PublicApi;\n+\n+@PublicApi\n public final class UpdateRepositoryParams\n {\n     private final RepositoryId repositoryId;\n", "next_change": null}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "2f2b9aeb828b6c47a857eda4b700634bc36be772", "committedDate": "2022-12-09 11:30:20 +0100", "message": "repo.deleteBranch(master) fails, but has still deleted nodes #9777 (#9925)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2Mzg5Mw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383263893", "body": "this is probably not important in API. Caller can do it in a more flexible way.", "bodyText": "this is probably not important in API. Caller can do it in a more flexible way.", "bodyHTML": "<p dir=\"auto\">this is probably not important in API. Caller can do it in a more flexible way.</p>", "author": "rymsha", "createdAt": "2020-02-24T13:28:42Z", "path": "modules/core/core-api/src/main/java/com/enonic/xp/security/PrincipalKeys.java", "diffHunk": "@@ -50,9 +52,47 @@ public static PrincipalKeys empty()\n         return new PrincipalKeys( ImmutableSet.of() );\n     }\n \n+    public static Builder create()\n+    {\n+        return new Builder();\n+    }\n+\n     private static ImmutableSet<PrincipalKey> parsePrincipalKeys( final String... principalKeys )\n     {\n         final Set<PrincipalKey> principalKeyList = Stream.of( principalKeys ).map( PrincipalKey::from ).collect( toSet() );\n         return ImmutableSet.copyOf( principalKeyList );\n     }\n+\n+    public Set<String> asStrings()", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "33b420e09e484c1cd07b6e7df35815ce4544b443", "changed_code": [{"header": "diff --git a/modules/core/core-api/src/main/java/com/enonic/xp/security/PrincipalKeys.java b/modules/core/core-api/src/main/java/com/enonic/xp/security/PrincipalKeys.java\nindex 23dcbf5b8c..01f85c5dd5 100644\n--- a/modules/core/core-api/src/main/java/com/enonic/xp/security/PrincipalKeys.java\n+++ b/modules/core/core-api/src/main/java/com/enonic/xp/security/PrincipalKeys.java\n", "chunk": "@@ -59,10 +57,10 @@ public final class PrincipalKeys\n \n     private static ImmutableSet<PrincipalKey> parsePrincipalKeys( final String... principalKeys )\n     {\n-        final Set<PrincipalKey> principalKeyList = Stream.of( principalKeys ).map( PrincipalKey::from ).collect( toSet() );\n-        return ImmutableSet.copyOf( principalKeyList );\n+        return Stream.of( principalKeys ).map( PrincipalKey::from ).collect( ImmutableSet.toImmutableSet() );\n     }\n \n+    @Deprecated\n     public Set<String> asStrings()\n     {\n         return this.set.stream().map( PrincipalKey::toString ).collect( Collectors.toSet() );\n", "next_change": null}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "f72f0369b6e747ee162a3e27ea6a8bfb0c57454f", "committedDate": "2021-06-16 14:38:40 +0200", "message": "Code Cleanup by Intellij #8893"}, {"oid": "33b420e09e484c1cd07b6e7df35815ce4544b443", "committedDate": "2023-02-28 09:53:49 +0100", "message": "Code Cleanup #10056 (#10057)"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzI2NTE3Mw==", "url": "https://github.com/enonic/xp/pull/7900#discussion_r383265173", "body": "is it required to be immediate?", "bodyText": "is it required to be immediate?", "bodyHTML": "<p dir=\"auto\">is it required to be immediate?</p>", "author": "rymsha", "createdAt": "2020-02-24T13:31:12Z", "path": "modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java", "diffHunk": "@@ -0,0 +1,264 @@\n+package com.enonic.xp.core.impl.project;\n+\n+import java.util.concurrent.Callable;\n+import java.util.stream.Collectors;\n+\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.enonic.xp.attachment.AttachmentSerializer;\n+import com.enonic.xp.attachment.CreateAttachment;\n+import com.enonic.xp.attachment.CreateAttachments;\n+import com.enonic.xp.context.ContextAccessor;\n+import com.enonic.xp.core.impl.content.ContentInitializer;\n+import com.enonic.xp.core.impl.issue.IssueInitializer;\n+import com.enonic.xp.data.PropertySet;\n+import com.enonic.xp.data.PropertyTree;\n+import com.enonic.xp.index.IndexService;\n+import com.enonic.xp.node.BinaryAttachment;\n+import com.enonic.xp.node.NodeService;\n+import com.enonic.xp.project.CreateProjectParams;\n+import com.enonic.xp.project.ModifyProjectParams;\n+import com.enonic.xp.project.Project;\n+import com.enonic.xp.project.ProjectConstants;\n+import com.enonic.xp.project.ProjectName;\n+import com.enonic.xp.project.ProjectService;\n+import com.enonic.xp.project.Projects;\n+import com.enonic.xp.repository.DeleteRepositoryParams;\n+import com.enonic.xp.repository.Repository;\n+import com.enonic.xp.repository.RepositoryId;\n+import com.enonic.xp.repository.RepositoryService;\n+import com.enonic.xp.repository.UpdateRepositoryParams;\n+import com.enonic.xp.security.auth.AuthenticationInfo;\n+import com.enonic.xp.util.BinaryReference;\n+\n+@Component(immediate = true)", "originalCommit": "caccb276d9ac2bd18df8c1dfd46d0284016d25e2", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "1805dff47cdf04d1e1ebdab6ea84a5d633088f81", "changed_code": [{"header": "diff --git a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nindex 22021594fe..a7e098e9c3 100644\n--- a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n+++ b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n", "chunk": "@@ -31,6 +31,9 @@ import com.enonic.xp.repository.Repository;\n import com.enonic.xp.repository.RepositoryId;\n import com.enonic.xp.repository.RepositoryService;\n import com.enonic.xp.repository.UpdateRepositoryParams;\n+import com.enonic.xp.security.CreateRoleParams;\n+import com.enonic.xp.security.PrincipalKey;\n+import com.enonic.xp.security.SecurityService;\n import com.enonic.xp.security.auth.AuthenticationInfo;\n import com.enonic.xp.util.BinaryReference;\n \n", "next_change": {"commit": "8141227b6f59ac8e52ec1a5abfa568e034d9fbb1", "changed_code": [{"header": "diff --git a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nindex a7e098e9c3..d9f5f29752 100644\n--- a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n+++ b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n", "chunk": "@@ -33,7 +33,11 @@ import com.enonic.xp.repository.RepositoryService;\n import com.enonic.xp.repository.UpdateRepositoryParams;\n import com.enonic.xp.security.CreateRoleParams;\n import com.enonic.xp.security.PrincipalKey;\n+import com.enonic.xp.security.RoleKeys;\n import com.enonic.xp.security.SecurityService;\n+import com.enonic.xp.security.acl.AccessControlEntry;\n+import com.enonic.xp.security.acl.AccessControlList;\n+import com.enonic.xp.security.acl.Permission;\n import com.enonic.xp.security.auth.AuthenticationInfo;\n import com.enonic.xp.util.BinaryReference;\n \n", "next_change": {"commit": "0614be1d5c28d7ac0c8d7cb3ea81228bdeed92cb", "changed_code": [{"header": "diff --git a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nindex d9f5f29752..6a5cc5c3ac 100644\n--- a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n+++ b/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n", "chunk": "@@ -31,13 +32,7 @@ import com.enonic.xp.repository.Repository;\n import com.enonic.xp.repository.RepositoryId;\n import com.enonic.xp.repository.RepositoryService;\n import com.enonic.xp.repository.UpdateRepositoryParams;\n-import com.enonic.xp.security.CreateRoleParams;\n-import com.enonic.xp.security.PrincipalKey;\n-import com.enonic.xp.security.RoleKeys;\n import com.enonic.xp.security.SecurityService;\n-import com.enonic.xp.security.acl.AccessControlEntry;\n-import com.enonic.xp.security.acl.AccessControlList;\n-import com.enonic.xp.security.acl.Permission;\n import com.enonic.xp.security.auth.AuthenticationInfo;\n import com.enonic.xp.util.BinaryReference;\n \n", "next_change": {"commit": "94847e8531a0575e03fcb80f9e74b9dde42bd434", "changed_code": [{"header": "diff --git a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java b/modules/core/core-project/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nsimilarity index 85%\nrename from modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nrename to modules/core/core-project/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\nindex 6a5cc5c3ac..11d7771e4e 100644\n--- a/modules/core/core-content/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n+++ b/modules/core/core-project/src/main/java/com/enonic/xp/core/impl/project/ProjectServiceImpl.java\n", "chunk": "@@ -32,6 +38,7 @@ import com.enonic.xp.repository.Repository;\n import com.enonic.xp.repository.RepositoryId;\n import com.enonic.xp.repository.RepositoryService;\n import com.enonic.xp.repository.UpdateRepositoryParams;\n+import com.enonic.xp.security.RoleKeys;\n import com.enonic.xp.security.SecurityService;\n import com.enonic.xp.security.auth.AuthenticationInfo;\n import com.enonic.xp.util.BinaryReference;\n", "next_change": null}]}}]}}]}}]}, "commits_in_main": [{"oid": "808c44faac8e1f348dcb95896d8f537a89156414", "message": "Merge commit", "committedDate": null}, {"oid": "74dd2d5f41d3857861512b5352d66976b5de83cf", "committedDate": "2020-03-05 16:19:53 +0300", "message": "Remove Expert role from default repo permissions #7930"}, {"oid": "5cc2c9f454c98a8c3c12dd5c2f45168e15dad8f8", "committedDate": "2020-03-05 16:58:25 +0300", "message": "Add Author to allowed project roles #7936"}, {"oid": "1805dff47cdf04d1e1ebdab6ea84a5d633088f81", "committedDate": "2020-03-17 18:30:15 +0300", "message": "Create project roles on project save #7932"}, {"oid": "8141227b6f59ac8e52ec1a5abfa568e034d9fbb1", "committedDate": "2020-03-18 16:24:05 +0300", "message": "Give permissions on /content node to project roles #7941"}, {"oid": "43a2bb5329528967dbd5151d44dc65dfa4eccf23", "committedDate": "2020-03-25 10:46:10 +0300", "message": "Add principals to project roles on project create/modify #7943"}, {"oid": "b5a22cbc692a707f61a246d7cf6d9ee0fd7b4a31", "committedDate": "2020-03-30 11:00:49 +0300", "message": "Management of READ access to project #7945"}, {"oid": "0614be1d5c28d7ac0c8d7cb3ea81228bdeed92cb", "committedDate": "2020-03-31 17:44:55 +0300", "message": "Set correct display name on project roles #7973"}, {"oid": "5d4651bc7014620e6e32544370e468405002e0f6", "committedDate": "2020-04-03 12:02:04 +0200", "message": "Allow creation of issues for project roles #7986"}, {"oid": "4106183fef7db15a5e82fdc166bd5614d8d56032", "committedDate": "2020-04-08 10:24:53 +0300", "message": "Allow project owner role to change site config #8005"}, {"oid": "94847e8531a0575e03fcb80f9e74b9dde42bd434", "committedDate": "2020-04-09 11:31:46 +0300", "message": "Move project classes to separate bundle #8010"}]}]}