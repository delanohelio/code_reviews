{"pr_number": 2214, "pr_title": "[NETBEANS-4499] Fixed unit tests for Symfony 2/3", "pr_author": "KacerCZ", "pr_createdAt": "2020-06-24T22:24:52Z", "pr_url": "https://github.com/apache/netbeans/pull/2214", "merge_commit": "40b13931ba1f410d6a7da44fe7f5f6abdff0ed3a", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM4MzA1MA==", "url": "https://github.com/apache/netbeans/pull/2214#discussion_r445383050", "body": "A bit better way is `StandardCharsets.UTF_8[.name()]`.\r\n", "bodyText": "A bit better way is StandardCharsets.UTF_8[.name()].", "bodyHTML": "<p dir=\"auto\">A bit better way is <code>StandardCharsets.UTF_8[.name()]</code>.</p>", "author": "tmysik", "createdAt": "2020-06-25T08:10:59Z", "path": "php/php.symfony2/test/unit/src/org/netbeans/modules/php/symfony2/commands/SymfonyCommandsXmlParserTest.java", "diffHunk": "@@ -94,61 +96,57 @@ public void testIssue223639() throws Exception {\n     }\n \n     public void testIssue232490() throws Exception {\n-        Reader reader = new BufferedReader(new FileReader(new File(getDataDir(), \"issue232490.xml\")));\n+        Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(new File(getDataDir(), \"issue232490.xml\")), \"UTF-8\"));", "originalCommit": "4bf504137ac828bffe129b353551d961c470abba", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "8fd5ef18f1ec27d8669e382c39633001925d5e80", "changed_code": [{"header": "diff --git a/php/php.symfony2/test/unit/src/org/netbeans/modules/php/symfony2/commands/SymfonyCommandsXmlParserTest.java b/php/php.symfony2/test/unit/src/org/netbeans/modules/php/symfony2/commands/SymfonyCommandsXmlParserTest.java\nindex 000668336e..6ada8bd667 100644\n--- a/php/php.symfony2/test/unit/src/org/netbeans/modules/php/symfony2/commands/SymfonyCommandsXmlParserTest.java\n+++ b/php/php.symfony2/test/unit/src/org/netbeans/modules/php/symfony2/commands/SymfonyCommandsXmlParserTest.java\n", "chunk": "@@ -96,7 +97,7 @@ public class SymfonyCommandsXmlParserTest extends NbTestCase {\n     }\n \n     public void testIssue232490() throws Exception {\n-        Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(new File(getDataDir(), \"issue232490.xml\")), \"UTF-8\"));\n+        Reader reader = new BufferedReader(new InputStreamReader(new FileInputStream(new File(getDataDir(), \"issue232490.xml\")), StandardCharsets.UTF_8));\n \n         List<SymfonyCommandVO> commands = new ArrayList<>();\n         SymfonyCommandsXmlParser.parse(reader, commands);\n", "next_change": null}]}, "commits_in_main": [{"oid": "40b13931ba1f410d6a7da44fe7f5f6abdff0ed3a", "message": "Merge commit", "committedDate": null}, {"oid": "8fd5ef18f1ec27d8669e382c39633001925d5e80", "committedDate": "2022-03-25 20:03:59 +0100", "message": "project wide refactoring: prefere StandardCharsets over Charset name lookup."}]}, {"oid": "e5cb437493011674f83caa7cf083776ac8ff2bab", "url": "https://github.com/apache/netbeans/commit/e5cb437493011674f83caa7cf083776ac8ff2bab", "message": "[NETBEANS-4498] Fixed unit tests for Symfony\n\nhttps://issues.apache.org/jira/browse/NETBEANS-4498\n\n- Added file `symfony-commands.xml`.\n- Updated test.\n- Enabled tests in Travis and Github Actions.", "committedDate": "2020-06-25T14:20:07Z", "type": "forcePushed"}, {"oid": "aed21a49a8b4fbcd79dc9fba48890ef4b44687d7", "url": "https://github.com/apache/netbeans/commit/aed21a49a8b4fbcd79dc9fba48890ef4b44687d7", "message": "[NETBEANS-4499] Fixed unit tests for Symfony 2/3\n\nhttps://issues.apache.org/jira/browse/NETBEANS-4499\n\n- Created file `issue232490.xml` from `symfony2-commands.xml`\n- Commented test SymfonyCommandsXmlParserTest:testIssue252901\n- Enabled tests in Travis and Github Actions.", "committedDate": "2020-06-25T14:34:26Z", "type": "commit"}, {"oid": "aed21a49a8b4fbcd79dc9fba48890ef4b44687d7", "url": "https://github.com/apache/netbeans/commit/aed21a49a8b4fbcd79dc9fba48890ef4b44687d7", "message": "[NETBEANS-4499] Fixed unit tests for Symfony 2/3\n\nhttps://issues.apache.org/jira/browse/NETBEANS-4499\n\n- Created file `issue232490.xml` from `symfony2-commands.xml`\n- Commented test SymfonyCommandsXmlParserTest:testIssue252901\n- Enabled tests in Travis and Github Actions.", "committedDate": "2020-06-25T14:34:26Z", "type": "forcePushed"}]}