{"pr_number": 1498, "pr_title": "Added Upgrade Value Prop on EnrolledCourses & Modal", "pr_author": "omerhabib26", "pr_createdAt": "2020-12-17T11:52:45Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1498", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNTIxMw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546625213", "body": "better to add type abbrevation like 'll_graded_content_layout', `tv_prop_msg`.", "bodyText": "better to add type abbrevation like 'll_graded_content_layout', tv_prop_msg.", "bodyHTML": "<p dir=\"auto\">better to add type abbrevation like 'll_graded_content_layout', <code>tv_prop_msg</code>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:23:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -40,6 +49,12 @@ public CourseCardViewHolder(View convertView) {\n             // Overlay foreground image is used as a hack for it.\n             convertView.findViewById(R.id.view_foreground_overlay).setVisibility(View.VISIBLE);\n         }\n+        this.propContainer = (LinearLayout) convertView\n+                .findViewById(R.id.graded_content_layout);\n+        this.coursePropMsg = (TextView) convertView\n+                .findViewById(R.id.prop_msg);\n+        this.learnMore = (AppCompatButton) convertView\n+                .findViewById(R.id.btn_learn_more);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMjk3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547102975", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-12-22T07:00:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNTIxMw=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 574a0c5c..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -50,9 +46,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n             convertView.findViewById(R.id.view_foreground_overlay).setVisibility(View.VISIBLE);\n         }\n         this.propContainer = (LinearLayout) convertView\n-                .findViewById(R.id.graded_content_layout);\n-        this.coursePropMsg = (TextView) convertView\n-                .findViewById(R.id.prop_msg);\n+                .findViewById(R.id.ll_graded_content_layout);\n         this.learnMore = (AppCompatButton) convertView\n                 .findViewById(R.id.btn_learn_more);\n     }\n", "next_change": {"commit": "1d641337fab6c129351372922097cb2edc436b9e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex c6d39cdf..4f69d31e 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -40,11 +39,6 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n                 .findViewById(R.id.course_image);\n         this.newCourseContent = convertView\n                 .findViewById(R.id.new_course_content_layout);\n-        if (android.os.Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP) {\n-            // On pre-lollipop devices CardView doesn't support the clipping for round corners\n-            // Overlay foreground image is used as a hack for it.\n-            convertView.findViewById(R.id.view_foreground_overlay).setVisibility(View.VISIBLE);\n-        }\n         this.propContainer = (LinearLayout) convertView\n                 .findViewById(R.id.ll_graded_content_layout);\n         this.learnMore = (AppCompatButton) convertView\n", "next_change": {"commit": "732d20de0931fc0f529967e8f9b61c6ecb955b52", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 4f69d31e..0d15ffde 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -35,7 +35,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n                 .findViewById(R.id.course_name);\n         this.courseDetails = (TextView) convertView\n                 .findViewById(R.id.course_details);\n-        this.courseImage = (ImageView) convertView\n+        this.courseImage = (AppCompatImageView) convertView\n                 .findViewById(R.id.course_image);\n         this.newCourseContent = convertView\n                 .findViewById(R.id.new_course_content_layout);\n", "next_change": {"commit": "5b005ec76dacecf4bdb9a9d819fc7e595a0559e4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 0d15ffde..14fadff0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -41,8 +39,6 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n                 .findViewById(R.id.new_course_content_layout);\n         this.propContainer = (LinearLayout) convertView\n                 .findViewById(R.id.ll_graded_content_layout);\n-        this.learnMore = (AppCompatButton) convertView\n-                .findViewById(R.id.btn_learn_more);\n     }\n \n     public void setCourseTitle(@NonNull String title) {\n", "next_change": null}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNzM0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546627349", "body": "needs auto format.", "bodyText": "needs auto format.", "bodyHTML": "<p dir=\"auto\">needs auto format.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:28:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n+            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n+            learnMore.setOnClickListener(onLearnMoreClick);\n+        }\n+        else {\n+            propContainer.setVisibility(View.GONE);\n+        }\n+    }", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMjU2Mw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547102563", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T06:59:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNzM0OQ=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 574a0c5c..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -85,16 +79,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n-        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n-                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n-                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n-            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n             learnMore.setOnClickListener(onLearnMoreClick);\n-        }\n-        else {\n+        } else {\n             propContainer.setVisibility(View.GONE);\n         }\n     }\n", "next_change": {"commit": "5b005ec76dacecf4bdb9a9d819fc7e595a0559e4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex c6d39cdf..14fadff0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -79,10 +69,10 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n         if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            learnMore.setOnClickListener(onLearnMoreClick);\n+            propContainer.setOnClickListener(onValuePropClick);\n         } else {\n             propContainer.setVisibility(View.GONE);\n         }\n", "next_change": {"commit": "4698e80960a9ee790f94fa83eacf88f9ad2049db", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 14fadff0..68a14010 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,9 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n-        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n+        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n+                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "13f12726168638c0a7b0cf9fad05de6cc4b88179", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 68a14010..0ea197a4 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -70,8 +70,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n-                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "2fbba56ee3a647b441a6e7aa029ec9104f2609b4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 0ea197a4..37e0fa87 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(\n+            boolean isCourseEnded,\n+            String mode,\n+            boolean isValuePropEnabled,\n+            View.OnClickListener onValuePropClick\n+    ) {\n+        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "4baa95cee416a0a2812f648097c7fafb8b924dcc", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 37e0fa87..5164a707 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -71,11 +70,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n \n     public void setHasUpgradeOption(\n             boolean isCourseEnded,\n-            String mode,\n+            boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n+        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "e583575e272bb99a69824d4141bebfac48fa5097", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 5164a707..d286bfc1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,12 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n+            boolean isCourseStarted,\n             boolean isCourseEnded,\n             boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "0ba18f44e1e0a12cf30a30fbe81fdc83a427b3d1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex d286bfc1..9a5d0af0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,13 +69,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n-            boolean isCourseStarted,\n-            boolean isCourseEnded,\n-            boolean isAuditMode,\n+            boolean isUpgradeable,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isUpgradeable && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyODExMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546628110", "body": "Better to move this condition in `MyCoursesAdapter` with `if (isValuePropEnabled)` if possible.", "bodyText": "Better to move this condition in MyCoursesAdapter with if (isValuePropEnabled) if possible.", "bodyHTML": "<p dir=\"auto\">Better to move this condition in <code>MyCoursesAdapter</code> with <code>if (isValuePropEnabled)</code> if possible.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:29:34Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzE4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103181", "bodyText": "Handling this condition here to Hide/Show the PropContainer based on enrollment mode", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyODExMA=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 574a0c5c..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -85,16 +79,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n-        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n-                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n-                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n-            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n             learnMore.setOnClickListener(onLearnMoreClick);\n-        }\n-        else {\n+        } else {\n             propContainer.setVisibility(View.GONE);\n         }\n     }\n", "next_change": {"commit": "5b005ec76dacecf4bdb9a9d819fc7e595a0559e4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex c6d39cdf..14fadff0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -79,10 +69,10 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n         if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            learnMore.setOnClickListener(onLearnMoreClick);\n+            propContainer.setOnClickListener(onValuePropClick);\n         } else {\n             propContainer.setVisibility(View.GONE);\n         }\n", "next_change": {"commit": "4698e80960a9ee790f94fa83eacf88f9ad2049db", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 14fadff0..68a14010 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,9 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n-        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n+        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n+                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "13f12726168638c0a7b0cf9fad05de6cc4b88179", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 68a14010..0ea197a4 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -70,8 +70,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n-                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "2fbba56ee3a647b441a6e7aa029ec9104f2609b4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 0ea197a4..37e0fa87 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(\n+            boolean isCourseEnded,\n+            String mode,\n+            boolean isValuePropEnabled,\n+            View.OnClickListener onValuePropClick\n+    ) {\n+        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "4baa95cee416a0a2812f648097c7fafb8b924dcc", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 37e0fa87..5164a707 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -71,11 +70,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n \n     public void setHasUpgradeOption(\n             boolean isCourseEnded,\n-            String mode,\n+            boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n+        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "e583575e272bb99a69824d4141bebfac48fa5097", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 5164a707..d286bfc1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,12 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n+            boolean isCourseStarted,\n             boolean isCourseEnded,\n             boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "0ba18f44e1e0a12cf30a30fbe81fdc83a427b3d1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex d286bfc1..9a5d0af0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,13 +69,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n-            boolean isCourseStarted,\n-            boolean isCourseEnded,\n-            boolean isAuditMode,\n+            boolean isUpgradeable,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isUpgradeable && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYzNDk3OA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546634978", "body": "Use `primaryBaseColor` instated of `neutralBlackT `.", "bodyText": "Use primaryBaseColor instated of neutralBlackT .", "bodyHTML": "<p dir=\"auto\">Use <code>primaryBaseColor</code> instated of <code>neutralBlackT </code>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:44:24Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzIzNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103236", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYzNDk3OA=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 574a0c5c..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -85,16 +79,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n-        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n-                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n-                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n-            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n             learnMore.setOnClickListener(onLearnMoreClick);\n-        }\n-        else {\n+        } else {\n             propContainer.setVisibility(View.GONE);\n         }\n     }\n", "next_change": {"commit": "5b005ec76dacecf4bdb9a9d819fc7e595a0559e4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex c6d39cdf..14fadff0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -79,10 +69,10 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n         if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            learnMore.setOnClickListener(onLearnMoreClick);\n+            propContainer.setOnClickListener(onValuePropClick);\n         } else {\n             propContainer.setVisibility(View.GONE);\n         }\n", "next_change": {"commit": "4698e80960a9ee790f94fa83eacf88f9ad2049db", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 14fadff0..68a14010 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,9 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n-        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n+        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n+                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "13f12726168638c0a7b0cf9fad05de6cc4b88179", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 68a14010..0ea197a4 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -70,8 +70,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n-                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "2fbba56ee3a647b441a6e7aa029ec9104f2609b4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 0ea197a4..37e0fa87 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(\n+            boolean isCourseEnded,\n+            String mode,\n+            boolean isValuePropEnabled,\n+            View.OnClickListener onValuePropClick\n+    ) {\n+        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "4baa95cee416a0a2812f648097c7fafb8b924dcc", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 37e0fa87..5164a707 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -71,11 +70,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n \n     public void setHasUpgradeOption(\n             boolean isCourseEnded,\n-            String mode,\n+            boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n+        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "e583575e272bb99a69824d4141bebfac48fa5097", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 5164a707..d286bfc1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,12 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n+            boolean isCourseStarted,\n             boolean isCourseEnded,\n             boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "0ba18f44e1e0a12cf30a30fbe81fdc83a427b3d1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex d286bfc1..9a5d0af0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,13 +69,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n-            boolean isCourseStarted,\n-            boolean isCourseEnded,\n-            boolean isAuditMode,\n+            boolean isUpgradeable,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isUpgradeable && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY0MDI3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546640272", "body": "`trophyIcon` should be top align as per [mock-ups](https://www.figma.com/file/au7iLeAZGChT7z5is6BY6O/Value-Prop-Mobile-Painted-Door-Test?node-id=1%3A2).", "bodyText": "trophyIcon should be top align as per mock-ups.", "bodyHTML": "<p dir=\"auto\"><code>trophyIcon</code> should be top align as per <a href=\"https://www.figma.com/file/au7iLeAZGChT7z5is6BY6O/Value-Prop-Mobile-Painted-Door-Test?node-id=1%3A2\" rel=\"nofollow\">mock-ups</a>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:55:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n+            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzM0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103349", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY0MDI3Mg=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 574a0c5c..c6d39cdf 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -85,16 +79,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n-        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n-                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n-                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n-            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n             learnMore.setOnClickListener(onLearnMoreClick);\n-        }\n-        else {\n+        } else {\n             propContainer.setVisibility(View.GONE);\n         }\n     }\n", "next_change": {"commit": "5b005ec76dacecf4bdb9a9d819fc7e595a0559e4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex c6d39cdf..14fadff0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -79,10 +69,10 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick) {\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n         if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n-            learnMore.setOnClickListener(onLearnMoreClick);\n+            propContainer.setOnClickListener(onValuePropClick);\n         } else {\n             propContainer.setVisibility(View.GONE);\n         }\n", "next_change": {"commit": "4698e80960a9ee790f94fa83eacf88f9ad2049db", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 14fadff0..68a14010 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,9 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(String mode, View.OnClickListener onValuePropClick) {\n-        if (mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n+        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n+                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "13f12726168638c0a7b0cf9fad05de6cc4b88179", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 68a14010..0ea197a4 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -70,8 +70,7 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && courseData.getDynamicUpgradeDeadline() != null &&\n-                mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "2fbba56ee3a647b441a6e7aa029ec9104f2609b4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 0ea197a4..37e0fa87 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,8 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n         courseDetails.setText(date);\n     }\n \n-    public void setHasUpgradeOption(@NonNull CourseEntry courseData, String mode, View.OnClickListener onValuePropClick) {\n-        if (!courseData.isEnded() && mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+    public void setHasUpgradeOption(\n+            boolean isCourseEnded,\n+            String mode,\n+            boolean isValuePropEnabled,\n+            View.OnClickListener onValuePropClick\n+    ) {\n+        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "4baa95cee416a0a2812f648097c7fafb8b924dcc", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 37e0fa87..5164a707 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -71,11 +70,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n \n     public void setHasUpgradeOption(\n             boolean isCourseEnded,\n-            String mode,\n+            boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isValuePropEnabled && !isCourseEnded && EnrollmentMode.AUDIT.toString().equalsIgnoreCase(mode)) {\n+        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "e583575e272bb99a69824d4141bebfac48fa5097", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex 5164a707..d286bfc1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,12 +69,13 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n+            boolean isCourseStarted,\n             boolean isCourseEnded,\n             boolean isAuditMode,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (!isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": {"commit": "0ba18f44e1e0a12cf30a30fbe81fdc83a427b3d1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\nindex d286bfc1..9a5d0af0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java\n", "chunk": "@@ -69,13 +69,11 @@ public class CourseCardViewHolder extends BaseListAdapter.BaseViewHolder {\n     }\n \n     public void setHasUpgradeOption(\n-            boolean isCourseStarted,\n-            boolean isCourseEnded,\n-            boolean isAuditMode,\n+            boolean isUpgradeable,\n             boolean isValuePropEnabled,\n             View.OnClickListener onValuePropClick\n     ) {\n-        if (isCourseStarted && !isCourseEnded && isAuditMode && isValuePropEnabled) {\n+        if (isUpgradeable && isValuePropEnabled) {\n             propContainer.setVisibility(View.VISIBLE);\n             propContainer.setOnClickListener(onValuePropClick);\n         } else {\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546658116", "body": "set `isValuePropEnabled ` the default value to `true` as per [Jira Story](https://openedx.atlassian.net/browse/LEARNER-8111).", "bodyText": "set isValuePropEnabled  the default value to true as per Jira Story.", "bodyHTML": "<p dir=\"auto\">set <code>isValuePropEnabled </code> the default value to <code>true</code> as per <a href=\"https://openedx.atlassian.net/browse/LEARNER-8111\" rel=\"nofollow\">Jira Story</a>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T11:36:46Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java", "diffHunk": "@@ -15,12 +15,17 @@\n \n public abstract class MyCoursesAdapter extends BaseListAdapter<EnrolledCoursesResponse> {\n     private long lastClickTime;\n+    private boolean isValuePropEnabled = false;", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY4ODc3OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546688779", "bodyText": "As per the decision in the team meeting, it should be false by default.\ncc @miankhalid, @saeedbashir.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T12:51:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA4MzAxNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547083016", "bodyText": "Setting the by_defualt value to true", "author": "omerhabib26", "createdAt": "2020-12-22T05:54:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA5NTk0Nw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547095947", "bodyText": "Set it to false by defualt", "author": "omerhabib26", "createdAt": "2020-12-22T06:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}], "type": "inlineReview", "revised_code": {"commit": "4baa95cee416a0a2812f648097c7fafb8b924dcc", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\nindex f5e5065f..bfeecf29 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n", "chunk": "@@ -15,17 +15,12 @@ import org.edx.mobile.util.images.CourseCardUtils;\n \n public abstract class MyCoursesAdapter extends BaseListAdapter<EnrolledCoursesResponse> {\n     private long lastClickTime;\n-    private boolean isValuePropEnabled = false;\n \n     public MyCoursesAdapter(Context context, IEdxEnvironment environment) {\n         super(context, CourseCardViewHolder.LAYOUT, environment);\n         lastClickTime = 0;\n     }\n \n-    public void setValuePropEnabled(boolean isEnabled) {\n-        isValuePropEnabled = isEnabled;\n-    }\n-\n     @SuppressLint(\"SimpleDateFormat\")\n     @Override\n     public void render(BaseViewHolder tag, final EnrolledCoursesResponse enrollment) {\n", "next_change": {"commit": "e583575e272bb99a69824d4141bebfac48fa5097", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\nindex bfeecf29..87dcc67c 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n", "chunk": "@@ -29,8 +29,8 @@ public abstract class MyCoursesAdapter extends BaseListAdapter<EnrolledCoursesRe\n         final CourseEntry courseData = enrollment.getCourse();\n         holder.setCourseTitle(courseData.getName());\n         holder.setCourseImage(courseData.getCourse_image(environment.getConfig().getApiHostURL()));\n-        holder.setHasUpgradeOption(courseData.isEnded(), enrollment.isAuditMode(),\n-                environment.getAppFeaturesPrefs().isValuePropEnabled(),\n+        holder.setHasUpgradeOption(courseData.isStarted(), courseData.isEnded(),\n+                enrollment.isAuditMode(), environment.getAppFeaturesPrefs().isValuePropEnabled(),\n                 v -> onValuePropClicked(enrollment));\n \n         if (enrollment.getCourse().hasUpdates()) {\n", "next_change": {"commit": "0ba18f44e1e0a12cf30a30fbe81fdc83a427b3d1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\nindex 87dcc67c..33129168 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java\n", "chunk": "@@ -29,8 +29,7 @@ public abstract class MyCoursesAdapter extends BaseListAdapter<EnrolledCoursesRe\n         final CourseEntry courseData = enrollment.getCourse();\n         holder.setCourseTitle(courseData.getName());\n         holder.setCourseImage(courseData.getCourse_image(environment.getConfig().getApiHostURL()));\n-        holder.setHasUpgradeOption(courseData.isStarted(), courseData.isEnded(),\n-                enrollment.isAuditMode(), environment.getAppFeaturesPrefs().isValuePropEnabled(),\n+        holder.setHasUpgradeOption(enrollment.isUpgradeable(), environment.getAppFeaturesPrefs().isValuePropEnabled(),\n                 v -> onValuePropClicked(enrollment));\n \n         if (enrollment.getCourse().hasUpdates()) {\n", "next_change": null}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY2NDk0NA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546664944", "body": "Unnecessary change.", "bodyText": "Unnecessary change.", "bodyHTML": "<p dir=\"auto\">Unnecessary change.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T11:53:41Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java", "diffHunk": "@@ -13,7 +13,7 @@\n     private boolean is_active;\n     private CourseEntry course;\n     private boolean isDiscussionBlackedOut = false;\n-    ", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA3MDkwNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547070904", "bodyText": "unable to identify it on the local side will remove it while squashing the commits", "author": "omerhabib26", "createdAt": "2020-12-22T05:09:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY2NDk0NA=="}], "type": "inlineReview", "revised_code": {"commit": "32ff3a568b97ef969d3831b659495ec464783d62", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java b/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\nindex cd675d15..e338f5e6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\n", "chunk": "@@ -13,7 +13,7 @@ public class EnrolledCoursesResponse implements SectionItemInterface {\n     private boolean is_active;\n     private CourseEntry course;\n     private boolean isDiscussionBlackedOut = false;\n-\n+    \n     private CertificateModel certificate;\n \n     // derived fields (doesn't come in server response)\n", "next_change": {"commit": "afdf1f8a465832ec4844d9f5f449dd0e6d953b0c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java b/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\nindex e338f5e6..8884a16b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\n", "chunk": "@@ -13,9 +18,12 @@ public class EnrolledCoursesResponse implements SectionItemInterface {\n     private boolean is_active;\n     private CourseEntry course;\n     private boolean isDiscussionBlackedOut = false;\n-    \n+\n     private CertificateModel certificate;\n \n+    @SerializedName(\"course_modes\")\n+    private ArrayList<CourseMode> courseModes;\n+\n     // derived fields (doesn't come in server response)\n     public int videoCount;\n     public long size;\n", "next_change": {"commit": "2fbba56ee3a647b441a6e7aa029ec9104f2609b4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java b/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\ndeleted file mode 100644\nindex 8884a16b..00000000\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java\n+++ /dev/null\n", "chunk": "@@ -1,138 +0,0 @@\n-package org.edx.mobile.model.api;\n-\n-import android.text.TextUtils;\n-\n-import com.google.gson.annotations.SerializedName;\n-\n-import org.edx.mobile.interfaces.SectionItemInterface;\n-import org.edx.mobile.model.course.EnrollmentMode;\n-\n-import java.util.ArrayList;\n-\n-@SuppressWarnings(\"serial\")\n-public class EnrolledCoursesResponse implements SectionItemInterface {\n-\n-    private String auditAccessExpires;\n-    private String created;\n-    private String mode;\n-    private boolean is_active;\n-    private CourseEntry course;\n-    private boolean isDiscussionBlackedOut = false;\n-\n-    private CertificateModel certificate;\n-\n-    @SerializedName(\"course_modes\")\n-    private ArrayList<CourseMode> courseModes;\n-\n-    // derived fields (doesn't come in server response)\n-    public int videoCount;\n-    public long size;\n-\n-    public String getAuditAccessExpires() {\n-        return auditAccessExpires;\n-    }\n-\n-    public void setAuditAccessExpires(String auditAccessExpires) {\n-        this.auditAccessExpires = auditAccessExpires;\n-    }\n-\n-    public String getCreated() {\n-        return created;\n-    }\n-\n-    public void setCreated(String created) {\n-        this.created = created;\n-    }\n-\n-    public String getMode() {\n-        return mode;\n-    }\n-\n-    public void setMode(String mode) {\n-        this.mode = mode;\n-    }\n-\n-    public boolean isIs_active() {\n-        return is_active;\n-    }\n-\n-    public void setIs_active(boolean is_active) {\n-        this.is_active = is_active;\n-    }\n-\n-    public CourseEntry getCourse() {\n-        return course;\n-    }\n-\n-    public void setCourse(CourseEntry course) {\n-        this.course = course;\n-    }\n-\n-    public String getCourseId() {\n-        return course.getId();\n-    }\n-\n-    @Override\n-    public boolean isChapter() {\n-        return false;\n-    }\n-\n-    @Override\n-    public boolean isSection() {\n-        return false;\n-    }\n-\n-    @Override\n-    public String toString() {\n-        return course.getName();\n-    }\n-\n-    @Override\n-    public boolean isCourse() {\n-        return true;\n-    }\n-\n-    @Override\n-    public boolean isVideo() {\n-        return false;\n-    }\n-\n-    @Override\n-    public boolean isDownload() {\n-        return false;\n-    }\n-\n-    public String getVideoCountReadable() {\n-        return String.format(\"%d %s\", videoCount, (videoCount == 1 ? \"Video\" : \"Videos\"));\n-    }\n-\n-    public String getCertificateURL() {\n-        return this.certificate == null ? null : this.certificate.certificateURL;\n-    }\n-\n-    public boolean isCertificateEarned() {\n-        return this.certificate != null && !TextUtils.isEmpty(this.certificate.certificateURL);\n-\n-    }\n-\n-    public boolean isDiscussionBlackedOut() {\n-        return isDiscussionBlackedOut;\n-    }\n-\n-    public void setDiscussionBlackedOut(boolean discussionBlackedOut) {\n-        isDiscussionBlackedOut = discussionBlackedOut;\n-    }\n-\n-    public String getProductSku() {\n-        if (courseModes == null || courseModes.size() == 0) {\n-            return null;\n-        } else {\n-            for (CourseMode courseMode : courseModes) {\n-                if (EnrollmentMode.VERIFIED.name().equalsIgnoreCase(courseMode.getSlug())) {\n-                    return TextUtils.isEmpty(courseMode.getAndroidSku()) ? null : courseMode.getAndroidSku();\n-                }\n-            }\n-        }\n-        return null;\n-    }\n-}\n", "next_change": null}]}}]}}]}}, {"oid": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "url": "https://github.com/edx/edx-app-android/commit/3fe0716f464d0d51cd5e77dafa06d046d055d087", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added locked content on assignments for audit mode\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T07:03:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyNzIzNQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547227235", "body": "Unsed method.", "bodyText": "Unsed method.", "bodyHTML": "<p dir=\"auto\">Unsed method.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:34:16Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -467,6 +467,37 @@ void trackPLSShiftButtonTapped(@NonNull String courseId, @NonNull String enrollm\n     void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollmentMode,\n                                   @NonNull String screenName, boolean isSuccess);\n \n+    /**\n+     * Track the Value Prop Modal appearance\n+     *\n+     * @param courseId     course id of the course through which the modal is appeared\n+     * @param assignmentId Assignment id of course unit\n+     * @param screenName   The screen name through which Modal will appear\n+     */\n+    void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId,\n+                                 @NonNull String screenName);\n+\n+\n+    /**\n+     * Track the Value Prop Learn more button tapped\n+     *\n+     * @param courseId     course id of the course on which button is tapped\n+     * @param assignmentId Assignment id of course unit\n+     * @param screenName   The screen name on which button will be tapped\n+     */\n+    void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+                                       @NonNull String screenName);\n+\n+\n+    /**\n+     * Track the tapped occurrence on locked content\n+     *\n+     * @param courseId     course id of the course on which button is tapped\n+     * @param assignmentId Assignment id of course unit\n+     */\n+    void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI2ODM3Nw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547268377", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-22T13:08:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyNzIzNQ=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0f469380..ab021949 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -485,19 +484,10 @@ public interface Analytics {\n      * @param assignmentId Assignment id of course unit\n      * @param screenName   The screen name on which button will be tapped\n      */\n-    void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+    void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n                                        @NonNull String screenName);\n \n \n-    /**\n-     * Track the tapped occurrence on locked content\n-     *\n-     * @param courseId     course id of the course on which button is tapped\n-     * @param assignmentId Assignment id of course unit\n-     */\n-    void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId);\n-\n-\n     interface Keys {\n         String NAME = \"name\";\n         String USER_ID = \"user_id\";\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ab021949..26407d9f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -487,6 +485,14 @@ public interface Analytics {\n     void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n                                        @NonNull String screenName);\n \n+    /**\n+     * Track the tapped occurrence on locked content\n+     *\n+     * @param courseId     course id of the course on which button is tapped\n+     * @param assignmentId Assignment id of course unit\n+     */\n+    void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId);\n+\n \n     interface Keys {\n         String NAME = \"name\";\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 26407d9f..13142d94 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -493,6 +493,13 @@ public interface Analytics {\n      */\n     void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId);\n \n+    /**\n+     * Tracks explore all courses tapped on landing screen.\n+     *\n+     * @param versionName App's version.\n+     */\n+    void trackExploreAllCoursesTapped(String versionName);\n+\n \n     interface Keys {\n         String NAME = \"name\";\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 13142d94..b9414494 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -500,6 +500,24 @@ public interface Analytics {\n      */\n     void trackExploreAllCoursesTapped(String versionName);\n \n+    /**\n+     * Track the mobile supported components tapped on course dates\n+     *\n+     * @param courseId  Course id of the course\n+     * @param blockId   BlockId of tapped block\n+     * @param blockType BlockType of tapped block\n+     * @param link      weblink of the component\n+     */\n+    void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link);\n+\n+    /**\n+     * Track the mobile unsupported components tapped on course dates\n+     *\n+     * @param courseId Course id of the course\n+     * @param blockId  BlockId of tapped block\n+     * @param link     link of tapped block\n+     */\n+    void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link);\n \n     interface Keys {\n         String NAME = \"name\";\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex b9414494..2bf13312 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -519,6 +519,21 @@ public interface Analytics {\n      */\n     void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link);\n \n+    /**\n+     * Track the Course Celebration Modal appearance\n+     *\n+     * @param courseId course id of the course through which the modal is appeared\n+     */\n+    void trackCourseSectionCelebration(@NonNull String courseId);\n+\n+    /**\n+     * Track the share button clicked while sharing course section completion celebration\n+     *\n+     * @param courseId      course id of the course through which the modal is appeared\n+     * @param socialService the social service selected by the user.\n+     */\n+    void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService);\n+\n     interface Keys {\n         String NAME = \"name\";\n         String USER_ID = \"user_id\";\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 2bf13312..4bb954dd 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -534,6 +534,14 @@ public interface Analytics {\n      */\n     void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService);\n \n+    /**\n+     * Track the resume course banner tapped\n+     *\n+     * @param courseId Id of the course where banner tapped\n+     * @param blockId  Id of the resumed block.\n+     */\n+    void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId);\n+\n     interface Keys {\n         String NAME = \"name\";\n         String USER_ID = \"user_id\";\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 4bb954dd..e1ac993f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -542,6 +542,15 @@ public interface Analytics {\n      */\n     void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId);\n \n+    /**\n+     * Track the View on Web tapped on Subsection screen in case of non supported xBlocks\n+     *\n+     * @param courseId          Id of the course\n+     * @param subsectionId      Id of the non-supported subsection.\n+     * @param isSpecialExamInfo Whether the subsection is special exam info or not\n+     */\n+    void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo);\n+\n     interface Keys {\n         String NAME = \"name\";\n         String USER_ID = \"user_id\";\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex e1ac993f..e611fa9e 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -551,9 +551,25 @@ public interface Analytics {\n      */\n     void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo);\n \n+    /**\n+     * Track the Calendar Sync events\n+     *\n+     * @param eventName   Name of the event\n+     * @param biValue     BiValue of the event\n+     * @param courseId    Id of the course\n+     * @param userType    Whether the Account type of the user is audit or verified\n+     * @param isSelfPaced Whether the course is self-paced or instructor paced\n+     */\n+    void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue,\n+                            @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced);\n+\n     interface Keys {\n         String NAME = \"name\";\n         String USER_ID = \"user_id\";\n+        String USER_TYPE = \"user_type\";\n+        String PACING = \"pacing\";\n+        String SELF = \"self\";\n+        String INSTRUCTOR = \"instructor\";\n         String OLD_TIME = \"old_time\";\n         String NEW_TIME = \"new_time\";\n         String NEW_SPEED = \"new_speed\";\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyOTM4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547229386", "body": "Unused constant.", "bodyText": "Unused constant.", "bodyHTML": "<p dir=\"auto\">Unused constant.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:39:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -582,6 +614,8 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String USER_COURSE_ENROLL_CLICKED = \"edx.bi.app.course.enroll.clicked\";\n         String USER_COURSE_ENROLL_SUCCESS = \"edx.bi.app.course.enroll.success\";\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n+        String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n+        String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI3MDE4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547270186", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-22T13:12:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyOTM4Ng=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0f469380..ab021949 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -615,7 +605,6 @@ public interface Analytics {\n         String USER_COURSE_ENROLL_SUCCESS = \"edx.bi.app.course.enroll.success\";\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n-        String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";\n         String USER_NO_ACCOUNT = \"edx.bi.app.user.signup.clicked\";\n         String CONVERSION = \"conversion\";\n         String USER_ENGAGEMENT = \"user-engagement\";\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ab021949..26407d9f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -605,6 +611,7 @@ public interface Analytics {\n         String USER_COURSE_ENROLL_SUCCESS = \"edx.bi.app.course.enroll.success\";\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n+        String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";\n         String USER_NO_ACCOUNT = \"edx.bi.app.user.signup.clicked\";\n         String CONVERSION = \"conversion\";\n         String USER_ENGAGEMENT = \"user-engagement\";\n", "next_change": {"commit": "9475fb5bc32d9ca8c1ef05ad012758996ad1c43b", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 26407d9f..639328c7 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -612,6 +727,9 @@ public interface Analytics {\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n         String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";\n+        String COURSE_UPGRADE_NOW_CLICKED = \"edx.bi.app.upgrade.button.clicked\";\n+        String VALUE_PROP_SHOW_MORE_CLICKED = \"edx.bi.app.value_prop.show_more.clicked\";\n+        String VALUE_PROP_SHOW_LESS_CLICKED = \"edx.bi.app.value_prop.show_less.clicked\";\n         String USER_NO_ACCOUNT = \"edx.bi.app.user.signup.clicked\";\n         String CONVERSION = \"conversion\";\n         String USER_ENGAGEMENT = \"user-engagement\";\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 639328c7..c7bbb0b6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -727,7 +755,6 @@ public interface Analytics {\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n         String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";\n-        String COURSE_UPGRADE_NOW_CLICKED = \"edx.bi.app.upgrade.button.clicked\";\n         String VALUE_PROP_SHOW_MORE_CLICKED = \"edx.bi.app.value_prop.show_more.clicked\";\n         String VALUE_PROP_SHOW_LESS_CLICKED = \"edx.bi.app.value_prop.show_less.clicked\";\n         String USER_NO_ACCOUNT = \"edx.bi.app.user.signup.clicked\";\n", "next_change": {"commit": "867cb4b6020db437f5f8a30bfab73f277fc4e42f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex c7bbb0b6..ff9e2843 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -754,6 +770,7 @@ public interface Analytics {\n         String USER_COURSE_ENROLL_SUCCESS = \"edx.bi.app.course.enroll.success\";\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n+        String VALUE_PROP_MESSAGE_VIEWED = \"edx.bi.app.value_prop_message.viewed\";\n         String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";\n         String VALUE_PROP_SHOW_MORE_CLICKED = \"edx.bi.app.value_prop.show_more.clicked\";\n         String VALUE_PROP_SHOW_LESS_CLICKED = \"edx.bi.app.value_prop.show_less.clicked\";\n", "next_change": null}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMDgyMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547230820", "body": "the event name will be `Value Prop: Modal Course Enrollment` when modal is viewed through `CourseEnrollment` screen.", "bodyText": "the event name will be Value Prop: Modal Course Enrollment when modal is viewed through CourseEnrollment screen.", "bodyHTML": "<p dir=\"auto\">the event name will be <code>Value Prop: Modal Course Enrollment</code> when modal is viewed through <code>CourseEnrollment</code> screen.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:42:40Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -783,6 +819,10 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String PLS_BANNER_VIEWED = \"PLS Banner Viewed\";\n         String PLS_SHIFT_DATES_BUTTON_TAPPED = \"PLS Shift Button Tapped\";\n         String PLS_SHIFT_DATES = \"PLS Shift Dates\";\n+        // Value Prop\n+        String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop: Learn More Clicked\";\n+        String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI2ODcwMg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547268702", "bodyText": "decision pending on slack", "author": "omerhabib26", "createdAt": "2020-12-22T13:09:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMDgyMA=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0f469380..ab021949 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -820,9 +808,8 @@ public interface Analytics {\n         String PLS_SHIFT_DATES_BUTTON_TAPPED = \"PLS Shift Button Tapped\";\n         String PLS_SHIFT_DATES = \"PLS Shift Dates\";\n         // Value Prop\n-        String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop: Learn More Clicked\";\n+        String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop Learn More Clicked\";\n         String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";\n-        String COURSE_UNIT_LOCKED_CONTENT = \"Course Unit: Locked Content\";\n     }\n \n     /**\n", "next_change": {"commit": "94e6a217a0bb8d61be01c2d60ad1edd6bdc02219", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ab021949..f90846d6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -812,58 +810,6 @@ public interface Analytics {\n         String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";\n     }\n \n-    /**\n-     * We can't have concrete functions inside interfaces till Java 8, therefore this\n-     * class has been defined to add static utilities to this interface.\n-     */\n-    class Util {\n-        /**\n-         * Resolves and returns the string alternative of the given share type.\n-         *\n-         * @param shareType The share type.\n-         * @return The string alternative of the given share type.\n-         */\n-        public static String getShareTypeValue(@NonNull ShareUtils.ShareType shareType) {\n-            switch (shareType) {\n-                case FACEBOOK:\n-                    return \"facebook\";\n-                case TWITTER:\n-                    return \"twitter\";\n-                default:\n-                    return \"other\";\n-            }\n-        }\n-\n-        /**\n-         * Method to remove the un-supported characters by the Firebase Analytics from the\n-         * given string.\n-         */\n-        public static String removeUnSupportedCharacters(String value) {\n-            return value.replaceAll(\":\", \"_\")\n-                    .replaceAll(\"-\", \"_\")\n-                    .replaceAll(\"__\", \"_\");\n-        }\n-\n-        /**\n-         * Method used to format the Analytics data as per firebase recommendations\n-         * Ref: https://stackoverflow.com/questions/44421234/firebase-analytics-custom-list-of-values\n-         */\n-        public static Properties formatFirebaseAnalyticsData(Object object) {\n-            Properties properties = (Properties) object;\n-            Properties newProperties = new Properties();\n-            for (Map.Entry<String, Object> entry : properties.entrySet()) {\n-                String key = entry.getKey();\n-                String entryValueString = String.valueOf(entry.getValue());\n-                if (entryValueString.length() > 100) {\n-                    // Truncate to first 100 characters\n-                    entryValueString = entryValueString.trim().substring(0, 100);\n-                }\n-                newProperties.put(Analytics.Util.removeUnSupportedCharacters(key), entryValueString);\n-            }\n-            return newProperties;\n-        }\n-    }\n-\n     /**\n      * Defines the analytics events that need to be fired.\n      */\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex f90846d6..26407d9f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -808,6 +818,7 @@ public interface Analytics {\n         // Value Prop\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop Learn More Clicked\";\n         String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";\n+        String COURSE_UNIT_LOCKED_CONTENT = \"Value Prop Locked Content Clicked\";\n     }\n \n     /**\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 26407d9f..b9414494 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -815,6 +846,8 @@ public interface Analytics {\n         String PLS_BANNER_VIEWED = \"PLS Banner Viewed\";\n         String PLS_SHIFT_DATES_BUTTON_TAPPED = \"PLS Shift Button Tapped\";\n         String PLS_SHIFT_DATES = \"PLS Shift Dates\";\n+        String DATES_COURSE_COMPONENT_TAPPED = \"Dates: Course Component Tapped\";\n+        String DATES_UNSUPPORTED_COMPONENT_TAPPED = \"Dates: Unsupported Component Tapped\";\n         // Value Prop\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop Learn More Clicked\";\n         String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex b9414494..2bf13312 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -852,6 +870,9 @@ public interface Analytics {\n         String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop Learn More Clicked\";\n         String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";\n         String COURSE_UNIT_LOCKED_CONTENT = \"Value Prop Locked Content Clicked\";\n+        // Course Celebration Modal\n+        String COURSE_SECTION_COMPLETION_CELEBRATION = \"Celebration: First Section Opened\";\n+        String CELEBRATION_SOCIAL_SHARE_CLICKED = \"Celebration: Social Share Clicked\";\n     }\n \n     /**\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 2bf13312..4bb954dd 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -873,6 +883,8 @@ public interface Analytics {\n         // Course Celebration Modal\n         String COURSE_SECTION_COMPLETION_CELEBRATION = \"Celebration: First Section Opened\";\n         String CELEBRATION_SOCIAL_SHARE_CLICKED = \"Celebration: Social Share Clicked\";\n+        // Resume Course Banner\n+        String RESUME_COURSE_TAPPED = \"Resume Course Tapped\";\n     }\n \n     /**\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 4bb954dd..e1ac993f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -885,6 +900,7 @@ public interface Analytics {\n         String CELEBRATION_SOCIAL_SHARE_CLICKED = \"Celebration: Social Share Clicked\";\n         // Resume Course Banner\n         String RESUME_COURSE_TAPPED = \"Resume Course Tapped\";\n+        String SUBSECTION_VIEW_ON_WEB_TAPPED = \"Subsection View On Web Tapped\";\n     }\n \n     /**\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex e1ac993f..e611fa9e 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -901,6 +928,17 @@ public interface Analytics {\n         // Resume Course Banner\n         String RESUME_COURSE_TAPPED = \"Resume Course Tapped\";\n         String SUBSECTION_VIEW_ON_WEB_TAPPED = \"Subsection View On Web Tapped\";\n+        // Course Dates add to calendar events\n+        String CALENDAR_TOGGLE_ON = \"Dates: Calendar Toggle On\";\n+        String CALENDAR_TOGGLE_OFF = \"Dates: Calendar Toggle Off\";\n+        String CALENDAR_ACCESS_OK = \"Dates: Calendar Access Allowed\";\n+        String CALENDAR_ACCESS_DONT_ALLOW = \"Dates: Calendar Access Dont Allow\";\n+        String CALENDAR_ADD_OK = \"Dates: Calendar Add Dates\";\n+        String CALENDAR_ADD_CANCEL = \"Dates: Calendar Add Cancelled\";\n+        String CALENDAR_CONFIRMATION_DONE = \"Dates: Calendar Add Confirmation\";\n+        String CALENDAR_VIEW_EVENTS = \"Dates: Calendar View Events\";\n+        String CALENDAR_ADD_SUCCESS = \"Dates: Calendar Add Dates Success\";\n+        String CALENDAR_REMOVE_SUCCESS = \"Dates: Calendar Remove Dates Success\";\n     }\n \n     /**\n", "next_change": {"commit": "803aa69778907820ff109df555ac29fcbfdfbb2d", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex e611fa9e..ff1346be 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -939,6 +942,9 @@ public interface Analytics {\n         String CALENDAR_VIEW_EVENTS = \"Dates: Calendar View Events\";\n         String CALENDAR_ADD_SUCCESS = \"Dates: Calendar Add Dates Success\";\n         String CALENDAR_REMOVE_SUCCESS = \"Dates: Calendar Remove Dates Success\";\n+        String CALENDAR_UPDATE_SUCCESS = \"Dates: Calendar Update Dates Success\";\n+        String CALENDAR_SYNC_UPDATE = \"Dates: Calendar Sync Update Dates\";\n+        String CALENDAR_SYNC_REMOVE = \"Dates: Calendar Sync Remove Calendar\";\n     }\n \n     /**\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ff1346be..3c15b68f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -945,6 +962,9 @@ public interface Analytics {\n         String CALENDAR_UPDATE_SUCCESS = \"Dates: Calendar Update Dates Success\";\n         String CALENDAR_SYNC_UPDATE = \"Dates: Calendar Sync Update Dates\";\n         String CALENDAR_SYNC_REMOVE = \"Dates: Calendar Sync Remove Calendar\";\n+        // Open in Banner\n+        String OPEN_IN_BROWSER_BANNER_DISPLAYED = \"Open in Browser Banner Displayed\";\n+        String OPEN_IN_BROWSER_BANNER_TAPPED = \"Open in Browser Banner Tapped\";\n     }\n \n     /**\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 3c15b68f..03e1e21c 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -965,6 +1013,15 @@ public interface Analytics {\n         // Open in Banner\n         String OPEN_IN_BROWSER_BANNER_DISPLAYED = \"Open in Browser Banner Displayed\";\n         String OPEN_IN_BROWSER_BANNER_TAPPED = \"Open in Browser Banner Tapped\";\n+        // Profile Page Screen Events\n+        String PROFILE_PAGE_VIEWED = \"Profile Page View\";\n+        String PERSONAL_INFORMATION_CLICKED = \"Personal Information Clicked\";\n+        String FAQ_CLICKED = \"FAQ Clicked\";\n+        String WIFI_ON = \"Wifi On\";\n+        String WIFI_OFF  = \"Wifi Off\";\n+        String WIFI_ALLOW = \"Wifi Allow\";\n+        String WIFI_DONT_ALLOW = \"Wifi Dont Allow\";\n+        String EMAIL_SUPPORT_CLICKED = \"Email Support Clicked\";\n     }\n \n     /**\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 03e1e21c..d76f6389 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -1018,10 +1043,14 @@ public interface Analytics {\n         String PERSONAL_INFORMATION_CLICKED = \"Personal Information Clicked\";\n         String FAQ_CLICKED = \"FAQ Clicked\";\n         String WIFI_ON = \"Wifi On\";\n-        String WIFI_OFF  = \"Wifi Off\";\n+        String WIFI_OFF = \"Wifi Off\";\n         String WIFI_ALLOW = \"Wifi Allow\";\n         String WIFI_DONT_ALLOW = \"Wifi Dont Allow\";\n         String EMAIL_SUPPORT_CLICKED = \"Email Support Clicked\";\n+        // Video Download Quality\n+        String PROFILE_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Profile: Video Download Quality Clicked\";\n+        String COURSE_VIDEOS_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Course Videos: Video Download Quality Clicked\";\n+        String VIDEO_DOWNLOAD_QUALITY_CHANGED = \"Video Download Quality Changed\";\n     }\n \n     /**\n", "next_change": {"commit": "2da625388acf664c907f43e46a94ed0b4d4867d2", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex d76f6389..0c1e8ae5 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -1047,6 +1048,7 @@ public interface Analytics {\n         String WIFI_ALLOW = \"Wifi Allow\";\n         String WIFI_DONT_ALLOW = \"Wifi Dont Allow\";\n         String EMAIL_SUPPORT_CLICKED = \"Email Support Clicked\";\n+        String DELETE_ACCOUNT_CLICKED = \"Profile: Delete Account Clicked\";\n         // Video Download Quality\n         String PROFILE_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Profile: Video Download Quality Clicked\";\n         String COURSE_VIDEOS_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Course Videos: Video Download Quality Clicked\";\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0c1e8ae5..b6d567a8 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -1053,6 +1052,9 @@ public interface Analytics {\n         String PROFILE_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Profile: Video Download Quality Clicked\";\n         String COURSE_VIDEOS_VIDEO_DOWNLOAD_QUALITY_CLICKED = \"Course Videos: Video Download Quality Clicked\";\n         String VIDEO_DOWNLOAD_QUALITY_CHANGED = \"Video Download Quality Changed\";\n+        // Account Registration\n+        String REGISTRATION_OPT_IN_TURNED_ON = \"Registration: Opt-in Turned On\";\n+        String REGISTRATION_OPT_IN_TURNED_OFF = \"Registration: Opt-in Turned Off\";\n     }\n \n     /**\n", "next_change": {"commit": "b64916c7d6d42051402d885f83058038677720ec", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex b6d567a8..61e7878a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -1055,6 +1092,9 @@ public interface Analytics {\n         // Account Registration\n         String REGISTRATION_OPT_IN_TURNED_ON = \"Registration: Opt-in Turned On\";\n         String REGISTRATION_OPT_IN_TURNED_OFF = \"Registration: Opt-in Turned Off\";\n+        // New Discovery Experience\n+        String DISCOVERY_OPEN_IN_BROWSER_ALERT_TRIGGERED = \"Discovery: External Link Opening Alert\";\n+        String DISCOVERY_OPEN_IN_BROWSER_ALERT_ACTION_TAKEN = \"Discovery: External Link Opening Alert Action\";\n     }\n \n     /**\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzg1NQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547233855", "body": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be `null|empty`. In that case, the app should not send empty data.\r\n\r\nFYI @mumer92.", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "bodyHTML": "<p dir=\"auto\">In the case of DashBoard type, Modal ASSIGNMENT_ID will be <code>null|empty</code>. In that case, the app should not send empty data.</p>\n<p dir=\"auto\">FYI <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/mumer92/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mumer92\">@mumer92</a>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:50:05Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 109d3cd3..c8094970 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -659,29 +660,25 @@ public class FirebaseAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n-\n-    @Override\n-    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n-        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n-        event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n-        logFirebaseEvent(event.getName(), event.getBundle());\n-    }\n }\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex c8094970..ef59db37 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -675,10 +675,19 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex ef59db37..fc6ed7f1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -690,4 +690,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.EXPLORE_ALL_COURSES, Values.EXPLORE_ALL_COURSES);\n+        event.addCategoryToBiEvents(Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        event.putString(Keys.APP_VERSION, versionName);\n+        event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex fc6ed7f1..29bc277b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -699,4 +699,25 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_COURSE_COMPONENT_TAPPED, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.BLOCK_TYPE, blockType);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 29bc277b..319f8bd6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -720,4 +720,23 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION,\n+                Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        event.putCourseId(courseId);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED,\n+                Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            event.putString(Keys.SERVICE, socialService);\n+        }\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 319f8bd6..e54c647a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -739,4 +739,13 @@ public class FirebaseAnalytics implements Analytics {\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.RESUME_COURSE_TAPPED, Values.RESUME_COURSE_BANNER_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.CATEGORY, Values.NAVIGATION);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e54c647a..e70aa313 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -748,4 +748,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.NAVIGATION);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.SUBSECTION_ID, subsectionId);\n+        event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e70aa313..e3167e5d 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -757,4 +757,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e3167e5d..623f5cb6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -766,4 +766,18 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull String openedUrl) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.COMPONENT_ID, componentId);\n+        event.putString(Keys.COMPONENT_TYPE, componentType);\n+        event.putString(Keys.OPENED_URL, openedUrl);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 623f5cb6..62b8ac0b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -780,4 +796,17 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OPENED_URL, openedUrl);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, Values.SCREEN_NAVIGATION);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 62b8ac0b..d1b1e6ca 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -809,4 +810,19 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final FirebaseEvent event = new FirebaseEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED,\n+                Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        event.putString(Keys.VALUE, selectedVideoQuality.getValue());\n+        event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex d1b1e6ca..49b2d227 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -825,4 +818,10 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 49b2d227..3fdc3d51 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -824,4 +808,33 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        event.putString(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        if (!TextUtils.isEmpty(price)) {\n+            event.putString(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            event.putString(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            event.putLong(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            event.putString(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            event.putString(Keys.ERROR_ACTION, errorAction);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 3fdc3d51..69c7adc5 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -831,8 +839,13 @@ public class FirebaseAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             event.putString(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            event.putString(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n+                event.putString(Keys.ACTION, actionTaken);\n+            } else {\n+                event.putString(Keys.ERROR_ACTION, actionTaken);\n+\n+            }\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 69c7adc5..1934181b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -840,12 +848,7 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n-                event.putString(Keys.ACTION, actionTaken);\n-            } else {\n-                event.putString(Keys.ERROR_ACTION, actionTaken);\n-\n-            }\n+            event.putString(Keys.ERROR_ACTION, actionTaken);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 1934181b..14518e36 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -848,9 +856,12 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            event.putString(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            event.putString(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            event.putString(Keys.SCREEN_NAME, screenName);\n         }\n-        event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzk4OA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547233988", "body": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be `null|empty`. In that case, the app should not send empty data.\r\n\r\nFYI @mumer92.", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "bodyHTML": "<p dir=\"auto\">In the case of DashBoard type, Modal ASSIGNMENT_ID will be <code>null|empty</code>. In that case, the app should not send empty data.</p>\n<p dir=\"auto\">FYI <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/mumer92/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mumer92\">@mumer92</a>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:50:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI1MTgwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547251809", "bodyText": "@farhan\nYes, when ASSIGNMENT_ID is not available, we are not sending it. Doing same on iOS.", "author": "mumer92", "createdAt": "2020-12-22T12:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzk4OA=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 109d3cd3..c8094970 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -659,29 +660,25 @@ public class FirebaseAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n-\n-    @Override\n-    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n-        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n-        event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n-        logFirebaseEvent(event.getName(), event.getBundle());\n-    }\n }\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex c8094970..ef59db37 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -675,10 +675,19 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex ef59db37..fc6ed7f1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -690,4 +690,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.EXPLORE_ALL_COURSES, Values.EXPLORE_ALL_COURSES);\n+        event.addCategoryToBiEvents(Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        event.putString(Keys.APP_VERSION, versionName);\n+        event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex fc6ed7f1..29bc277b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -699,4 +699,25 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_COURSE_COMPONENT_TAPPED, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.BLOCK_TYPE, blockType);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 29bc277b..319f8bd6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -720,4 +720,23 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION,\n+                Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        event.putCourseId(courseId);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED,\n+                Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            event.putString(Keys.SERVICE, socialService);\n+        }\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 319f8bd6..e54c647a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -739,4 +739,13 @@ public class FirebaseAnalytics implements Analytics {\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.RESUME_COURSE_TAPPED, Values.RESUME_COURSE_BANNER_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.CATEGORY, Values.NAVIGATION);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e54c647a..e70aa313 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -748,4 +748,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.NAVIGATION);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.SUBSECTION_ID, subsectionId);\n+        event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e70aa313..e3167e5d 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -757,4 +757,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e3167e5d..623f5cb6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -766,4 +766,18 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull String openedUrl) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.COMPONENT_ID, componentId);\n+        event.putString(Keys.COMPONENT_TYPE, componentType);\n+        event.putString(Keys.OPENED_URL, openedUrl);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 623f5cb6..62b8ac0b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -780,4 +796,17 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OPENED_URL, openedUrl);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, Values.SCREEN_NAVIGATION);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 62b8ac0b..d1b1e6ca 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -809,4 +810,19 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final FirebaseEvent event = new FirebaseEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED,\n+                Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        event.putString(Keys.VALUE, selectedVideoQuality.getValue());\n+        event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex d1b1e6ca..49b2d227 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -825,4 +818,10 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 49b2d227..3fdc3d51 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -824,4 +808,33 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        event.putString(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        if (!TextUtils.isEmpty(price)) {\n+            event.putString(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            event.putString(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            event.putLong(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            event.putString(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            event.putString(Keys.ERROR_ACTION, errorAction);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 3fdc3d51..69c7adc5 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -831,8 +839,13 @@ public class FirebaseAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             event.putString(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            event.putString(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n+                event.putString(Keys.ACTION, actionTaken);\n+            } else {\n+                event.putString(Keys.ERROR_ACTION, actionTaken);\n+\n+            }\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 69c7adc5..1934181b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -840,12 +848,7 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n-                event.putString(Keys.ACTION, actionTaken);\n-            } else {\n-                event.putString(Keys.ERROR_ACTION, actionTaken);\n-\n-            }\n+            event.putString(Keys.ERROR_ACTION, actionTaken);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 1934181b..14518e36 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -848,9 +856,12 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            event.putString(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            event.putString(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            event.putString(Keys.SCREEN_NAME, screenName);\n         }\n-        event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDM4MA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234380", "body": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be `null|empty`. In that case, the app should not send empty data.\r\n\r\nFYI @mumer92.", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "bodyHTML": "<p dir=\"auto\">In the case of DashBoard type, Modal ASSIGNMENT_ID will be <code>null|empty</code>. In that case, the app should not send empty data.</p>\n<p dir=\"auto\">FYI <a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/mumer92/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/mumer92\">@mumer92</a>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:51:23Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 109d3cd3..c8094970 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -659,29 +660,25 @@ public class FirebaseAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n-\n-    @Override\n-    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n-        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n-        event.putCourseId(courseId);\n-        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n-        logFirebaseEvent(event.getName(), event.getBundle());\n-    }\n }\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex c8094970..ef59db37 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -675,10 +675,19 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex ef59db37..fc6ed7f1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -690,4 +690,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.EXPLORE_ALL_COURSES, Values.EXPLORE_ALL_COURSES);\n+        event.addCategoryToBiEvents(Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        event.putString(Keys.APP_VERSION, versionName);\n+        event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex fc6ed7f1..29bc277b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -699,4 +699,25 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_COURSE_COMPONENT_TAPPED, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.BLOCK_TYPE, blockType);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 29bc277b..319f8bd6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -720,4 +720,23 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION,\n+                Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        event.putCourseId(courseId);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED,\n+                Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            event.putString(Keys.SERVICE, socialService);\n+        }\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 319f8bd6..e54c647a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -739,4 +739,13 @@ public class FirebaseAnalytics implements Analytics {\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.RESUME_COURSE_TAPPED, Values.RESUME_COURSE_BANNER_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.CATEGORY, Values.NAVIGATION);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e54c647a..e70aa313 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -748,4 +748,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.NAVIGATION);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.SUBSECTION_ID, subsectionId);\n+        event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e70aa313..e3167e5d 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -757,4 +757,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e3167e5d..623f5cb6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -766,4 +766,18 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull String openedUrl) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.COMPONENT_ID, componentId);\n+        event.putString(Keys.COMPONENT_TYPE, componentType);\n+        event.putString(Keys.OPENED_URL, openedUrl);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 623f5cb6..62b8ac0b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -780,4 +796,17 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OPENED_URL, openedUrl);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, Values.SCREEN_NAVIGATION);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 62b8ac0b..d1b1e6ca 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -809,4 +810,19 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final FirebaseEvent event = new FirebaseEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED,\n+                Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        event.putString(Keys.VALUE, selectedVideoQuality.getValue());\n+        event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex d1b1e6ca..49b2d227 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -825,4 +818,10 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 49b2d227..3fdc3d51 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -824,4 +808,33 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        event.putString(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        if (!TextUtils.isEmpty(price)) {\n+            event.putString(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            event.putString(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            event.putLong(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            event.putString(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            event.putString(Keys.ERROR_ACTION, errorAction);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 3fdc3d51..69c7adc5 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -831,8 +839,13 @@ public class FirebaseAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             event.putString(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            event.putString(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n+                event.putString(Keys.ACTION, actionTaken);\n+            } else {\n+                event.putString(Keys.ERROR_ACTION, actionTaken);\n+\n+            }\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 69c7adc5..1934181b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -840,12 +848,7 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n-                event.putString(Keys.ACTION, actionTaken);\n-            } else {\n-                event.putString(Keys.ERROR_ACTION, actionTaken);\n-\n-            }\n+            event.putString(Keys.ERROR_ACTION, actionTaken);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 1934181b..14518e36 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -848,9 +856,12 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            event.putString(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            event.putString(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            event.putString(Keys.SCREEN_NAME, screenName);\n         }\n-        event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDYyOQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234629", "body": "name should be `course_enrollment`.", "bodyText": "name should be course_enrollment.", "bodyHTML": "<p dir=\"auto\">name should be <code>course_enrollment</code>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:52:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -675,11 +709,13 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n+        String COURSE_ENROLLMENT = \"Course Enrollment\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0f469380..ab021949 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -709,13 +698,12 @@ public interface Analytics {\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n-        String COURSE_ENROLLMENT = \"Course Enrollment\";\n+        String COURSE_ENROLLMENT = \"course_enrollment\";\n         String COURSE_DASHBOARD = \"Course Dashboard\";\n         String COURSE_OUTLINE = \"Course Outline\";\n         String COURSE_HANDOUTS = \"Course Handouts\";\n         String COURSE_ANNOUNCEMENTS = \"Course Announcements\";\n         String COURSE_DATES = \"Course Dates\";\n-        String COURSE_UNIT = \"Course Unit\";\n         String SECTION_OUTLINE = \"Section Outline\";\n         String UNIT_DETAIL = \"Unit Detail\";\n         String CERTIFICATE = \"View Certificate\";\n", "next_change": {"commit": "c28d725917d2b604d62bd9376abd5a0194cfd897", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ab021949..5d4a141f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -712,7 +768,9 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n+        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n+        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 5d4a141f..4bb954dd 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -768,9 +778,7 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n-        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n-        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "c591b66ea0554ce0c4d1c0ea551730ca13b0de4b", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 4bb954dd..79ed401a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -778,7 +778,9 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n+        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n+        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 79ed401a..03e1e21c 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -779,8 +881,7 @@ public interface Analytics {\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n-        String SETTINGS = \"Settings\";\n-        String ACCOUNT_SETTINGS = \"Account Settings\";\n+        String PROFILE = \"Profile\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "1cf4bd25c7f965be874911222fb995f83b112839", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 03e1e21c..649287ec 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -878,7 +911,6 @@ public interface Analytics {\n         String DOWNLOADS = \"Downloads\";\n         String FIND_COURSES = \"Find Courses\";\n         String FIND_PROGRAMS = \"Find Programs\";\n-        String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n         String PROFILE = \"Profile\";\n", "next_change": {"commit": "9398ce38d1239392fa3756c21621a072b06d1c94", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 649287ec..bde9b380 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -909,10 +930,9 @@ public interface Analytics {\n         String UNIT_DETAIL = \"Unit Detail\";\n         String CERTIFICATE = \"View Certificate\";\n         String DOWNLOADS = \"Downloads\";\n-        String FIND_COURSES = \"Find Courses\";\n-        String FIND_PROGRAMS = \"Find Programs\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n+        String FIND_COURSES = \"Find Courses\";\n         String PROFILE = \"Profile\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDcwMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234700", "body": "unused constant.", "bodyText": "unused constant.", "bodyHTML": "<p dir=\"auto\">unused constant.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:52:11Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -675,11 +709,13 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n+        String COURSE_ENROLLMENT = \"Course Enrollment\";\n         String COURSE_DASHBOARD = \"Course Dashboard\";\n         String COURSE_OUTLINE = \"Course Outline\";\n         String COURSE_HANDOUTS = \"Course Handouts\";\n         String COURSE_ANNOUNCEMENTS = \"Course Announcements\";\n         String COURSE_DATES = \"Course Dates\";\n+        String COURSE_UNIT = \"Course Unit\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 0f469380..ab021949 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -709,13 +698,12 @@ public interface Analytics {\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n-        String COURSE_ENROLLMENT = \"Course Enrollment\";\n+        String COURSE_ENROLLMENT = \"course_enrollment\";\n         String COURSE_DASHBOARD = \"Course Dashboard\";\n         String COURSE_OUTLINE = \"Course Outline\";\n         String COURSE_HANDOUTS = \"Course Handouts\";\n         String COURSE_ANNOUNCEMENTS = \"Course Announcements\";\n         String COURSE_DATES = \"Course Dates\";\n-        String COURSE_UNIT = \"Course Unit\";\n         String SECTION_OUTLINE = \"Section Outline\";\n         String UNIT_DETAIL = \"Unit Detail\";\n         String CERTIFICATE = \"View Certificate\";\n", "next_change": {"commit": "c28d725917d2b604d62bd9376abd5a0194cfd897", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex ab021949..5d4a141f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -712,7 +768,9 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n+        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n+        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 5d4a141f..4bb954dd 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -768,9 +778,7 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n-        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n-        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "c591b66ea0554ce0c4d1c0ea551730ca13b0de4b", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 4bb954dd..79ed401a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -778,7 +778,9 @@ public interface Analytics {\n         String FIND_PROGRAMS = \"Find Programs\";\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n+        String MY_PROGRAM = \"My Programs\";\n         String SETTINGS = \"Settings\";\n+        String ACCOUNT_SETTINGS = \"Account Settings\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 79ed401a..03e1e21c 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -779,8 +881,7 @@ public interface Analytics {\n         String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n-        String SETTINGS = \"Settings\";\n-        String ACCOUNT_SETTINGS = \"Account Settings\";\n+        String PROFILE = \"Profile\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n         String FORUM_VIEW_TOPIC_THREADS = \"Forum: View Topic Threads\";\n", "next_change": {"commit": "1cf4bd25c7f965be874911222fb995f83b112839", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 03e1e21c..649287ec 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -878,7 +911,6 @@ public interface Analytics {\n         String DOWNLOADS = \"Downloads\";\n         String FIND_COURSES = \"Find Courses\";\n         String FIND_PROGRAMS = \"Find Programs\";\n-        String FIND_DEGREES = \"Find Degrees\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n         String PROFILE = \"Profile\";\n", "next_change": {"commit": "9398ce38d1239392fa3756c21621a072b06d1c94", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\nindex 649287ec..bde9b380 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java\n", "chunk": "@@ -909,10 +930,9 @@ public interface Analytics {\n         String UNIT_DETAIL = \"Unit Detail\";\n         String CERTIFICATE = \"View Certificate\";\n         String DOWNLOADS = \"Downloads\";\n-        String FIND_COURSES = \"Find Courses\";\n-        String FIND_PROGRAMS = \"Find Programs\";\n         String MY_COURSES = \"My Courses\";\n         String MY_PROGRAM = \"My Programs\";\n+        String FIND_COURSES = \"Find Courses\";\n         String PROFILE = \"Profile\";\n         String FORUM_VIEW_TOPICS = \"Forum: View Topics\";\n         String FORUM_SEARCH_THREADS = \"Forum: Search Threads\";\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI0NjY5Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547246692", "body": "need to send bi_value with this event.", "bodyText": "need to send bi_value with this event.", "bodyHTML": "<p dir=\"auto\">need to send bi_value with this event.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T12:20:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +931,32 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+                                              @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);", "originalCommit": "c6ec7cbe8341e9f164c4f42ef04bf91ef4276422", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 601aee9f..cb069498 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -937,26 +938,23 @@ public class SegmentAnalytics implements Analytics {\n                                         @Nullable String assignmentId, @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n     }\n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n                                               @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        if (TextUtils.isEmpty(assignmentId)) {\n+            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, aEvent.properties);\n     }\n-\n-    @Override\n-    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n-        final SegmentEvent aEvent = new SegmentEvent();\n-        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n-        trackSegmentEvent(Events.COURSE_UNIT_LOCKED_CONTENT, aEvent.properties);\n-    }\n }\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex cb069498..e71e3139 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -951,10 +950,19 @@ public class SegmentAnalytics implements Analytics {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        trackSegmentEvent(Events.COURSE_UNIT_LOCKED_CONTENT, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex e71e3139..774223b3 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -965,4 +965,15 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         trackSegmentEvent(Events.COURSE_UNIT_LOCKED_CONTENT, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.EXPLORE_ALL_COURSES);\n+        aEvent.properties = addCategoryToBiEvents(aEvent.properties,\n+                Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        aEvent.data.putValue(Keys.APP_VERSION, versionName);\n+        aEvent.data.putValue(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        trackSegmentEvent(Events.EXPLORE_ALL_COURSES, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 774223b3..91830d98 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -976,4 +976,27 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         trackSegmentEvent(Events.EXPLORE_ALL_COURSES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        aEvent.data.putValue(Keys.BLOCK_TYPE, blockType);\n+        aEvent.data.putValue(Keys.LINK, link);\n+        trackSegmentEvent(Events.DATES_COURSE_COMPONENT_TAPPED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        aEvent.data.putValue(Keys.LINK, link);\n+        trackSegmentEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 91830d98..ec4413ee 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -999,4 +999,23 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.LINK, link);\n         trackSegmentEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        trackSegmentEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            aEvent.data.putValue(Keys.SERVICE, socialService);\n+        }\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        trackSegmentEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex ec4413ee..397b2900 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1018,4 +1018,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n         trackSegmentEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.RESUME_COURSE_BANNER_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.NAVIGATION);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        trackSegmentEvent(Events.RESUME_COURSE_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 397b2900..d838f3e6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1028,4 +1028,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n         trackSegmentEvent(Events.RESUME_COURSE_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.SUBSECTION_ID, subsectionId);\n+        aEvent.data.putValue(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        trackSegmentEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex d838f3e6..281171b6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1038,4 +1038,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         trackSegmentEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.USER_TYPE, userType);\n+        aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 281171b6..8eb2b0fe 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1048,4 +1049,19 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull @NotNull String openedUrl) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.USER_TYPE, userType);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.COMPONENT_ID, componentId);\n+        aEvent.data.putValue(Keys.COMPONENT_TYPE, componentType);\n+        aEvent.data.putValue(Keys.OPENED_URL, openedUrl);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 8eb2b0fe..4467b4c0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1064,4 +1082,19 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.OPENED_URL, openedUrl);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        aEvent.properties.putValue(Keys.NAME, Values.SCREEN_NAVIGATION);\n+        trackSegmentEvent(Events.PROFILE_PAGE_VIEWED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 4467b4c0..51992b8e 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1097,4 +1098,20 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n+        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 51992b8e..dfbd182f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1093,25 +1098,18 @@ public class SegmentAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n         final SegmentEvent aEvent = new SegmentEvent();\n-        aEvent.properties.putValue(Keys.NAME, biValue);\n-        trackSegmentEvent(eventName, aEvent.properties);\n+        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n+        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n     }\n \n     @Override\n-    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n-\n-    @Override\n-    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n-        final SegmentEvent aEvent = new SegmentEvent();\n-        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n-        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n-        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n-        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n-    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex dfbd182f..a68bc712 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1112,4 +1096,34 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        if (!TextUtils.isEmpty(price)) {\n+            aEvent.data.putValue(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            aEvent.data.putValue(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            aEvent.data.putValue(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            aEvent.data.putValue(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            aEvent.data.putValue(Keys.ERROR_ACTION, errorAction);\n+        }\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex a68bc712..4eb5af55 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1120,8 +1129,12 @@ public class SegmentAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            aEvent.data.putValue(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equals(biValue)) {\n+                aEvent.data.putValue(Keys.ACTION, actionTaken);\n+            } else {\n+                aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n+            }\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 4eb5af55..0a4b8baa 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1130,11 +1140,7 @@ public class SegmentAnalytics implements Analytics {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equals(biValue)) {\n-                aEvent.data.putValue(Keys.ACTION, actionTaken);\n-            } else {\n-                aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n-            }\n+            aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 0a4b8baa..96b73435 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1140,9 +1148,12 @@ public class SegmentAnalytics implements Analytics {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            aEvent.data.putValue(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         }\n-        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzE5OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547323199", "body": "The condition should be replaced with `!TextUtils.isEmpty(assignmentId)`", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId)", "bodyHTML": "<p dir=\"auto\">The condition should be replaced with <code>!TextUtils.isEmpty(assignmentId)</code></p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:56:11Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +658,27 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MDE3MA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547340170", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:26:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzE5OQ=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 7b84f848..c8094970 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -663,7 +663,7 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        if (assignmentId != null) {\n+        if (TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex c8094970..ef59db37 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -663,7 +663,7 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex ef59db37..3fdc3d51 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -660,24 +653,18 @@ public class FirebaseAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n         event.putCourseId(courseId);\n-        if (!TextUtils.isEmpty(assignmentId)) {\n-            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n-        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (!TextUtils.isEmpty(assignmentId)) {\n-            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n-        }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n", "next_change": {"commit": "867cb4b6020db437f5f8a30bfab73f277fc4e42f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 3fdc3d51..26119c93 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -653,14 +642,22 @@ public class FirebaseAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId, @NonNull String screenName) {\n-        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+    public void trackValuePropMessageViewed(@NonNull String courseId, @NonNull String screenName,\n+                                            boolean paymentEnabled, @Nullable String experimentGroup,\n+                                            @Nullable String componentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MESSAGE_VIEWED, Values.VALUE_PROP_MESSAGE_VIEWED);\n         event.putCourseId(courseId);\n         event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putBoolean(Keys.PAYMENT_ENABLED, paymentEnabled);\n+        if (!TextUtils.isEmpty(experimentGroup)) {\n+            event.putString(Keys.IAP_EXPERIMENT_GROUP, experimentGroup);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            event.putString(Keys.COMPONENT_ID, componentId);\n+        }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n \n-\n     @Override\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n", "next_change": null}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzk0Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547323942", "body": "The condition should be replaced with `!TextUtils.isEmpty(assignmentId)`", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId)", "bodyHTML": "<p dir=\"auto\">The condition should be replaced with <code>!TextUtils.isEmpty(assignmentId)</code></p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:57:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +658,27 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MDIwNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547340204", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:26:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzk0Mg=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 7b84f848..c8094970 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -675,7 +675,7 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (assignmentId != null) {\n+        if (TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex c8094970..ef59db37 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -675,10 +675,19 @@ public class FirebaseAnalytics implements Analytics {\n     public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n         final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         event.putCourseId(courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex ef59db37..fc6ed7f1 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -690,4 +690,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.EXPLORE_ALL_COURSES, Values.EXPLORE_ALL_COURSES);\n+        event.addCategoryToBiEvents(Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        event.putString(Keys.APP_VERSION, versionName);\n+        event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex fc6ed7f1..29bc277b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -699,4 +699,25 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_COURSE_COMPONENT_TAPPED, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.BLOCK_TYPE, blockType);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.LINK, link);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 29bc277b..319f8bd6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -720,4 +720,23 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION,\n+                Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        event.putCourseId(courseId);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED,\n+                Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            event.putString(Keys.SERVICE, socialService);\n+        }\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 319f8bd6..e54c647a 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -739,4 +739,13 @@ public class FirebaseAnalytics implements Analytics {\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.RESUME_COURSE_TAPPED, Values.RESUME_COURSE_BANNER_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.BLOCK_ID, blockId);\n+        event.putString(Keys.CATEGORY, Values.NAVIGATION);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e54c647a..e70aa313 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -748,4 +748,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.CATEGORY, Values.NAVIGATION);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.SUBSECTION_ID, subsectionId);\n+        event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e70aa313..e3167e5d 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -757,4 +757,13 @@ public class FirebaseAnalytics implements Analytics {\n         event.putBoolean(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex e3167e5d..623f5cb6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -766,4 +766,18 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull String openedUrl) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putString(Keys.USER_TYPE, userType);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.COMPONENT_ID, componentId);\n+        event.putString(Keys.COMPONENT_TYPE, componentType);\n+        event.putString(Keys.OPENED_URL, openedUrl);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 623f5cb6..62b8ac0b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -780,4 +796,17 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OPENED_URL, openedUrl);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, Values.SCREEN_NAVIGATION);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 62b8ac0b..d1b1e6ca 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -809,4 +810,19 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final FirebaseEvent event = new FirebaseEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED,\n+                Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        event.putString(Keys.VALUE, selectedVideoQuality.getValue());\n+        event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex d1b1e6ca..49b2d227 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -825,4 +818,10 @@ public class FirebaseAnalytics implements Analytics {\n         event.putString(Keys.OLD_VALUE, oldVideoQuality.getValue());\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 49b2d227..3fdc3d51 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -824,4 +808,33 @@ public class FirebaseAnalytics implements Analytics {\n         final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(eventName, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        event.putString(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        if (!TextUtils.isEmpty(price)) {\n+            event.putString(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            event.putString(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            event.putLong(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            event.putString(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            event.putString(Keys.ERROR_ACTION, errorAction);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 3fdc3d51..69c7adc5 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -831,8 +839,13 @@ public class FirebaseAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             event.putString(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            event.putString(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n+                event.putString(Keys.ACTION, actionTaken);\n+            } else {\n+                event.putString(Keys.ERROR_ACTION, actionTaken);\n+\n+            }\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 69c7adc5..1934181b 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -840,12 +848,7 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equalsIgnoreCase(eventName)) {\n-                event.putString(Keys.ACTION, actionTaken);\n-            } else {\n-                event.putString(Keys.ERROR_ACTION, actionTaken);\n-\n-            }\n+            event.putString(Keys.ERROR_ACTION, actionTaken);\n         }\n         event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\nindex 1934181b..14518e36 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java\n", "chunk": "@@ -848,9 +856,12 @@ public class FirebaseAnalytics implements Analytics {\n             event.putString(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            event.putString(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            event.putString(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            event.putString(Keys.SCREEN_NAME, screenName);\n         }\n-        event.putString(Keys.SCREEN_NAME, screenName);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDYxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547324611", "body": "The condition should be replaced with `!TextUtils.isEmpty(assignmentId)`.", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId).", "bodyHTML": "<p dir=\"auto\">The condition should be replaced with <code>!TextUtils.isEmpty(assignmentId)</code>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:58:38Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +932,29 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MjA0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547342043", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:29:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDYxMQ=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 39ba2b0b..cb069498 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -938,7 +938,7 @@ public class SegmentAnalytics implements Analytics {\n                                         @Nullable String assignmentId, @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (assignmentId != null) {\n+        if (TextUtils.isEmpty(assignmentId)) {\n             aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex cb069498..e71e3139 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -938,7 +937,7 @@ public class SegmentAnalytics implements Analytics {\n                                         @Nullable String assignmentId, @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex e71e3139..a68bc712 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -933,26 +931,18 @@ public class SegmentAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackValuePropModalView(@NonNull String courseId,\n-                                        @Nullable String assignmentId, @NonNull String screenName) {\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (!TextUtils.isEmpty(assignmentId)) {\n-            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n-        }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n     }\n \n     @Override\n-    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n-                                              @NonNull String screenName) {\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String screenName) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (!TextUtils.isEmpty(assignmentId)) {\n-            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n-        }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, aEvent.properties);\n     }\n", "next_change": null}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDY3Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547324676", "body": "The condition should be replaced with `!TextUtils.isEmpty(assignmentId)`.", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId).", "bodyHTML": "<p dir=\"auto\">The condition should be replaced with <code>!TextUtils.isEmpty(assignmentId)</code>.</p>", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:58:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +932,29 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {\n+            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n+                                              @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MjEyNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547342124", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:29:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDY3Ng=="}], "type": "inlineReview", "revised_code": {"commit": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 39ba2b0b..cb069498 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -951,7 +951,7 @@ public class SegmentAnalytics implements Analytics {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (assignmentId != null) {\n+        if (TextUtils.isEmpty(assignmentId)) {\n             aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n", "next_change": {"commit": "ad8640ca42790793b378b828ede35fa0e711fb4e", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex cb069498..e71e3139 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -951,10 +950,19 @@ public class SegmentAnalytics implements Analytics {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n         aEvent.data.putValue(Keys.COURSE_ID, courseId);\n-        if (TextUtils.isEmpty(assignmentId)) {\n+        if (!TextUtils.isEmpty(assignmentId)) {\n             aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n+        trackSegmentEvent(Events.COURSE_UNIT_LOCKED_CONTENT, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "76aa4b0fb145002ad60512b5033f9aa8a3d35033", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex e71e3139..774223b3 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -965,4 +965,15 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.SCREEN_NAME, Screens.COURSE_UNIT);\n         trackSegmentEvent(Events.COURSE_UNIT_LOCKED_CONTENT, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackExploreAllCoursesTapped(String versionName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.EXPLORE_ALL_COURSES);\n+        aEvent.properties = addCategoryToBiEvents(aEvent.properties,\n+                Values.USER_ENGAGEMENT, Values.DISCOVERY);\n+        aEvent.data.putValue(Keys.APP_VERSION, versionName);\n+        aEvent.data.putValue(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n+        trackSegmentEvent(Events.EXPLORE_ALL_COURSES, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "372bede21c62e0f4fd5a090c592999b3c43d0caa", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 774223b3..91830d98 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -976,4 +976,27 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.ACTION, Values.DISCOVERY_COURSES_SEARCH_LANDING);\n         trackSegmentEvent(Events.EXPLORE_ALL_COURSES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackDatesCourseComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String blockType, @NonNull String link) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_DATES_COMPONENT_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        aEvent.data.putValue(Keys.BLOCK_TYPE, blockType);\n+        aEvent.data.putValue(Keys.LINK, link);\n+        trackSegmentEvent(Events.DATES_COURSE_COMPONENT_TAPPED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackUnsupportedComponentTapped(@NonNull String courseId, @NonNull String blockId, @NonNull String link) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_DATES_UNSUPPORTED_COMPONENT_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        aEvent.data.putValue(Keys.LINK, link);\n+        trackSegmentEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "25a507e6b44106a43444c1dcad0505113b6ec8c1", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 91830d98..ec4413ee 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -999,4 +999,23 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.LINK, link);\n         trackSegmentEvent(Events.DATES_UNSUPPORTED_COMPONENT_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackCourseSectionCelebration(@NonNull String courseId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_COMPLETION_CELEBRATION);\n+        trackSegmentEvent(Events.COURSE_SECTION_COMPLETION_CELEBRATION, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackCourseCelebrationShareClicked(@NonNull String courseId, @Nullable String socialService) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (!TextUtils.isEmpty(socialService)) {\n+            aEvent.data.putValue(Keys.SERVICE, socialService);\n+        }\n+        aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n+        trackSegmentEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "7e83ca84d437b5efde10ab1428f1ba21ac21968f", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex ec4413ee..397b2900 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1018,4 +1018,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, Values.COURSE_SECTION_CELEBRATION_SHARE_CLICKED);\n         trackSegmentEvent(Events.CELEBRATION_SOCIAL_SHARE_CLICKED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackResumeCourseBannerTapped(@NonNull String courseId, @NonNull String blockId) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.RESUME_COURSE_BANNER_TAPPED);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.NAVIGATION);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n+        trackSegmentEvent(Events.RESUME_COURSE_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "b79f67458f3c3d7bc952be41355551b708ef81dd", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 397b2900..d838f3e6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1028,4 +1028,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.BLOCK_ID, blockId);\n         trackSegmentEvent(Events.RESUME_COURSE_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackSubsectionViewOnWebTapped(@NonNull String courseId, @NonNull String subsectionId, boolean isSpecialExamInfo) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.SUBSECTION_VIEW_ON_WEB_TAPPED);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.SUBSECTION_ID, subsectionId);\n+        aEvent.data.putValue(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n+        trackSegmentEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "d42bf1f6159a47812e59332e8c19065bd784af01", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex d838f3e6..281171b6 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1038,4 +1038,14 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.SPECIAL_EXAM_INFO, isSpecialExamInfo);\n         trackSegmentEvent(Events.SUBSECTION_VIEW_ON_WEB_TAPPED, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackCalendarEvent(@NonNull String eventName, @NonNull String biValue, @NonNull String courseId, @NonNull String userType, @NonNull boolean isSelfPaced) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.USER_TYPE, userType);\n+        aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "28fe8cef26d720e41525563c4e16e9dddcec3d32", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 281171b6..8eb2b0fe 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1048,4 +1049,19 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackOpenInBrowserBannerEvent(@NonNull String eventName, @NonNull String biValue,\n+                                              @NonNull String userType, @NonNull String courseId,\n+                                              @NonNull String componentId, @NonNull String componentType,\n+                                              @NonNull @NotNull String openedUrl) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.USER_TYPE, userType);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.COMPONENT_ID, componentId);\n+        aEvent.data.putValue(Keys.COMPONENT_TYPE, componentType);\n+        aEvent.data.putValue(Keys.OPENED_URL, openedUrl);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "23a7439ac2d99184e7e4eb2f56ce3fc4f8c1e1cb", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 8eb2b0fe..4467b4c0 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1064,4 +1082,19 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.data.putValue(Keys.OPENED_URL, openedUrl);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackScreenViewEvent(@NonNull String eventName, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        aEvent.properties.putValue(Keys.NAME, Values.SCREEN_NAVIGATION);\n+        trackSegmentEvent(Events.PROFILE_PAGE_VIEWED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "7c637bf7f262cb8a77cd5d5f479c57ee0c98a42c", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 4467b4c0..51992b8e 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1097,4 +1098,20 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n+        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "c2da86e14dd7c7a2e2148ed9e7b5c9d722d90cae", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 51992b8e..dfbd182f 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1093,25 +1098,18 @@ public class SegmentAnalytics implements Analytics {\n     }\n \n     @Override\n-    public void trackProfileScreenEvent(@NonNull String eventName, @NonNull String biValue) {\n+    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n         final SegmentEvent aEvent = new SegmentEvent();\n-        aEvent.properties.putValue(Keys.NAME, biValue);\n-        trackSegmentEvent(eventName, aEvent.properties);\n+        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n+        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n+        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n+        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n     }\n \n     @Override\n-    public void trackVideoDownloadQualityClicked(String eventName, String biValue) {\n+    public void trackEvent(@NonNull String eventName, @NonNull String biValue) {\n         final SegmentEvent aEvent = new SegmentEvent();\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n-\n-    @Override\n-    public void trackVideoDownloadQualityChanged(@NonNull VideoQuality selectedVideoQuality, @NonNull VideoQuality oldVideoQuality) {\n-        final SegmentEvent aEvent = new SegmentEvent();\n-        aEvent.properties.putValue(Keys.NAME, Analytics.Values.VIDEO_DOWNLOAD_QUALITY_CHANGED);\n-        aEvent.data.putValue(Keys.VALUE, selectedVideoQuality.getValue());\n-        aEvent.data.putValue(Keys.OLD_VALUE, oldVideoQuality.getValue());\n-        trackSegmentEvent(Analytics.Events.VIDEO_DOWNLOAD_QUALITY_CHANGED, aEvent.properties);\n-    }\n }\n", "next_change": {"commit": "3b1c4d947bc7c5ac362217a5b014e434a4761bed", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex dfbd182f..a68bc712 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1112,4 +1096,34 @@ public class SegmentAnalytics implements Analytics {\n         aEvent.properties.putValue(Keys.NAME, biValue);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackInAppPurchasesEvent(@NonNull String eventName, @NonNull String biValue,\n+                                         @NonNull String courseId, boolean isSelfPaced,\n+                                         @Nullable String price, @Nullable String componentId,\n+                                         long elapsedTime, @Nullable String error, @Nullable String errorAction,\n+                                         @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.IN_APP_PURCHASES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.PACING, isSelfPaced ? Keys.SELF : Keys.INSTRUCTOR);\n+        if (!TextUtils.isEmpty(price)) {\n+            aEvent.data.putValue(Keys.PRICE, price);\n+        }\n+        if (!TextUtils.isEmpty(componentId)) {\n+            aEvent.data.putValue(Keys.COMPONENT_ID, componentId);\n+        }\n+        if (elapsedTime > 0L) {\n+            aEvent.data.putValue(Keys.ELAPSED_TIME, elapsedTime);\n+        }\n+        if (!TextUtils.isEmpty(error)) {\n+            aEvent.data.putValue(Keys.ERROR, error);\n+        }\n+        if (!TextUtils.isEmpty(errorAction)) {\n+            aEvent.data.putValue(Keys.ERROR_ACTION, errorAction);\n+        }\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(eventName, aEvent.properties);\n+    }\n }\n", "next_change": {"commit": "0020318d26bf0444964c1159c58253fdb690af07", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex a68bc712..4eb5af55 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1120,8 +1129,12 @@ public class SegmentAnalytics implements Analytics {\n         if (!TextUtils.isEmpty(error)) {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n-        if (!TextUtils.isEmpty(errorAction)) {\n-            aEvent.data.putValue(Keys.ERROR_ACTION, errorAction);\n+        if (!TextUtils.isEmpty(actionTaken)) {\n+            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equals(biValue)) {\n+                aEvent.data.putValue(Keys.ACTION, actionTaken);\n+            } else {\n+                aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n+            }\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n", "next_change": {"commit": "46140549860c2863ca592abc0d0b5c10834d744a", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 4eb5af55..0a4b8baa 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1130,11 +1140,7 @@ public class SegmentAnalytics implements Analytics {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            if (Analytics.Values.IAP_SDN_PROMPT_ACTION.equals(biValue)) {\n-                aEvent.data.putValue(Keys.ACTION, actionTaken);\n-            } else {\n-                aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n-            }\n+            aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n         }\n         aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n", "next_change": {"commit": "5a07bb01ef2ebf3095010903814e9a81e88000f4", "changed_code": [{"header": "diff --git a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\nindex 0a4b8baa..96b73435 100644\n--- a/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n+++ b/OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java\n", "chunk": "@@ -1140,9 +1148,12 @@ public class SegmentAnalytics implements Analytics {\n             aEvent.data.putValue(Keys.ERROR, error);\n         }\n         if (!TextUtils.isEmpty(actionTaken)) {\n-            aEvent.data.putValue(Keys.ERROR_ACTION, actionTaken);\n+            boolean isErrorAlert = biValue.equalsIgnoreCase(Values.IAP_ERROR_ALERT_ACTION);\n+            aEvent.data.putValue(isErrorAlert ? Keys.ERROR_ACTION : Keys.ACTION, actionTaken);\n+        }\n+        if (!TextUtils.isEmpty(screenName)) {\n+            aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         }\n-        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n }\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}, {"oid": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "url": "https://github.com/edx/edx-app-android/commit/0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T15:47:27Z", "type": "commit"}, {"oid": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "url": "https://github.com/edx/edx-app-android/commit/0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T15:47:27Z", "type": "forcePushed"}]}