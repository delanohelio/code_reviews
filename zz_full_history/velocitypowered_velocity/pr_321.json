{"pr_number": 321, "pr_title": "adventure API integration into Velocity", "pr_author": "astei", "pr_createdAt": "2020-06-29T01:37:06Z", "pr_url": "https://github.com/PaperMC/Velocity/pull/321", "merge_commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "timeline": [{"oid": "2e7a598916c49917979feca7db7dece0c6abd84e", "url": "https://github.com/PaperMC/Velocity/commit/2e7a598916c49917979feca7db7dece0c6abd84e", "message": "Initial commit of adventure-adapted Velocity API.", "committedDate": "2020-06-29T01:23:01Z", "type": "commit"}, {"oid": "70a989e955babd427681465681fa66db60873d9d", "url": "https://github.com/PaperMC/Velocity/commit/70a989e955babd427681465681fa66db60873d9d", "message": "Minor cleanup and add some missing Deprecated tags", "committedDate": "2020-06-29T01:29:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMDM2MA==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446730360", "body": "Should be deprecated since it is going away.", "bodyText": "Should be deprecated since it is going away.", "bodyHTML": "<p dir=\"auto\">Should be deprecated since it is going away.</p>", "author": "kashike", "createdAt": "2020-06-29T01:41:44Z", "path": "api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java", "diffHunk": "@@ -0,0 +1,71 @@\n+package com.velocitypowered.api.proxy;\n+\n+import net.kyori.adventure.audience.Audience;\n+import net.kyori.adventure.bossbar.BossBar;\n+import net.kyori.adventure.inventory.Book;\n+import net.kyori.adventure.sound.Sound;\n+import net.kyori.adventure.sound.SoundStop;\n+import net.kyori.adventure.text.Component;\n+import net.kyori.adventure.title.Title;\n+import org.checkerframework.checker.nullness.qual.NonNull;\n+\n+/**\n+ * Indicates an {@link Audience} that is on the proxy. This interface contains no-op default methods\n+ * that are used to bridge compatibility issues with the new adventure API. This interface will go\n+ * away in Velocity 2.0.0.\n+ */\n+public interface ProxyAudience extends Audience {", "originalCommit": "70a989e955babd427681465681fa66db60873d9d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "8ef2835a47577c2ce7b0dfc61d0cbd835a99281f", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\nindex 6a64da88..36ff915a 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n", "chunk": "@@ -13,7 +13,10 @@ import org.checkerframework.checker.nullness.qual.NonNull;\n  * Indicates an {@link Audience} that is on the proxy. This interface contains no-op default methods\n  * that are used to bridge compatibility issues with the new adventure API. This interface will go\n  * away in Velocity 2.0.0.\n+ *\n+ * @deprecated Only used to handle compatibility problems, will go away in Velocity 2.0.0\n  */\n+@Deprecated\n public interface ProxyAudience extends Audience {\n \n   @Override\n", "next_change": null}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\nindex 6a64da88..36ff915a 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n", "chunk": "@@ -13,7 +13,10 @@ import org.checkerframework.checker.nullness.qual.NonNull;\n  * Indicates an {@link Audience} that is on the proxy. This interface contains no-op default methods\n  * that are used to bridge compatibility issues with the new adventure API. This interface will go\n  * away in Velocity 2.0.0.\n+ *\n+ * @deprecated Only used to handle compatibility problems, will go away in Velocity 2.0.0\n  */\n+@Deprecated\n public interface ProxyAudience extends Audience {\n \n   @Override\n", "next_change": {"commit": "26f3cb43c7c8b81d0b10c79dde6c308b34b280fb", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\nindex 36ff915a..0b06b8f9 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n", "chunk": "@@ -23,52 +19,7 @@ public interface ProxyAudience extends Audience {\n   void sendMessage(@NonNull Component message);\n \n   @Override\n-  default void sendActionBar(@NonNull Component message) {\n-\n-  }\n-\n-  @Override\n-  default void showTitle(@NonNull Title title) {\n-\n-  }\n-\n-  @Override\n-  default void clearTitle() {\n-\n-  }\n-\n-  @Override\n-  default void resetTitle() {\n-\n-  }\n-\n-  @Override\n-  default void showBossBar(@NonNull BossBar bar) {\n-\n-  }\n-\n-  @Override\n-  default void hideBossBar(@NonNull BossBar bar) {\n-\n-  }\n-\n-  @Override\n-  default void playSound(@NonNull Sound sound) {\n-\n-  }\n-\n-  @Override\n-  default void playSound(@NonNull Sound sound, double x, double y, double z) {\n-\n-  }\n-\n-  @Override\n-  default void stopSound(@NonNull SoundStop stop) {\n-\n-  }\n-\n-  @Override\n-  default void openBook(@NonNull Book book) {\n-\n+  default void sendMessage(@NonNull Component message, @NonNull MessageType type) {\n+    sendMessage(message);\n   }\n }\n", "next_change": {"commit": "60e917b4a104d02f9175013e3ce1a42c5daa4ae9", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\ndeleted file mode 100644\nindex 0b06b8f9..00000000\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyAudience.java\n+++ /dev/null\n", "chunk": "@@ -1,25 +0,0 @@\n-package com.velocitypowered.api.proxy;\n-\n-import net.kyori.adventure.audience.Audience;\n-import net.kyori.adventure.audience.MessageType;\n-import net.kyori.adventure.text.Component;\n-import org.checkerframework.checker.nullness.qual.NonNull;\n-\n-/**\n- * Indicates an {@link Audience} that is on the proxy. This interface contains no-op default methods\n- * that are used to bridge compatibility issues with the new adventure API. This interface will go\n- * away in Velocity 2.0.0.\n- *\n- * @deprecated Only used to handle compatibility problems, will go away in Velocity 2.0.0\n- */\n-@Deprecated\n-public interface ProxyAudience extends Audience {\n-\n-  @Override\n-  void sendMessage(@NonNull Component message);\n-\n-  @Override\n-  default void sendMessage(@NonNull Component message, @NonNull MessageType type) {\n-    sendMessage(message);\n-  }\n-}\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "26f3cb43c7c8b81d0b10c79dde6c308b34b280fb", "committedDate": "2020-08-16 14:02:04 -0400", "message": "Clean up some Adventure support code, implement another sendMessage overload"}, {"oid": "60e917b4a104d02f9175013e3ce1a42c5daa4ae9", "committedDate": "2020-10-13 22:36:51 -0700", "message": "Player has an identity"}]}, {"oid": "8ef2835a47577c2ce7b0dfc61d0cbd835a99281f", "url": "https://github.com/PaperMC/Velocity/commit/8ef2835a47577c2ce7b0dfc61d0cbd835a99281f", "message": "Fix API breaking change, deprecate ProxyAudience", "committedDate": "2020-06-29T01:44:44Z", "type": "commit"}, {"oid": "5c02d6b00764638516e9cc64ba6b0bb208ede886", "url": "https://github.com/PaperMC/Velocity/commit/5c02d6b00764638516e9cc64ba6b0bb208ede886", "message": "RegisteredServer and ProxyServer now implement MultiAudience", "committedDate": "2020-06-29T02:01:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njc0NDg4OQ==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446744889", "body": "Changes list says `ProxyServer` applies actions to all players including console, does this not just give the player audiences?", "bodyText": "Changes list says ProxyServer applies actions to all players including console, does this not just give the player audiences?", "bodyHTML": "<p dir=\"auto\">Changes list says <code>ProxyServer</code> applies actions to all players including console, does this not just give the player audiences?</p>", "author": "Crypnotic", "createdAt": "2020-06-29T02:52:13Z", "path": "proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java", "diffHunk": "@@ -605,11 +606,8 @@ public InetSocketAddress getBoundAddress() {\n   }\n \n   @Override\n-  public void sendMessage(net.kyori.adventure.text.@NonNull Component message) {\n-    Preconditions.checkNotNull(message, \"message\");\n-    for (ConnectedPlayer player : connectionsByUuid.values()) {\n-      player.sendMessage(message);\n-    }\n+  public @NonNull Iterable<? extends Audience> audiences() {\n+    return this.getAllPlayers();\n   }", "originalCommit": "5c02d6b00764638516e9cc64ba6b0bb208ede886", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njc0NjA2Mw==", "url": "https://github.com/VelocityPowered/Velocity/pull/321#discussion_r446746063", "bodyText": "Should be fixed now.", "author": "astei", "createdAt": "2020-06-29T02:57:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njc0NDg4OQ=="}], "type": "inlineReview", "revised_code": {"commit": "0c6039a773d3c7bf3c68e91ea4446483bda9dd83", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex 56815944..eb1ee2f6 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -607,7 +610,8 @@ public class VelocityServer implements ProxyServer {\n \n   @Override\n   public @NonNull Iterable<? extends Audience> audiences() {\n-    return this.getAllPlayers();\n+    return (Iterable<Audience>) () -> Iterators.concat(Iterators.singletonIterator(console),\n+        getAllPlayers().iterator());\n   }\n \n   public static Gson getGsonInstance(ProtocolVersion version) {\n", "next_change": {"commit": "c2edd82b16660ab75210fb5caabf09d56bd73b28", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex eb1ee2f6..336b4437 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -614,13 +615,8 @@ public class VelocityServer implements ProxyServer {\n         getAllPlayers().iterator());\n   }\n \n-  public static Gson getGsonInstance(ProtocolVersion version) {\n-    return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_COMPONENT_SERIALIZER\n-        : PRE_1_16_COMPONENT_SERIALIZER;\n-  }\n-\n-  private static GsonBuilder wrapAndAddTextSerializers(GsonComponentSerializer serializer) {\n-    return net.kyori.text.serializer.gson.GsonComponentSerializer\n-        .populate(serializer.serializer().newBuilder());\n+  public static Gson getPingGsonInstance(ProtocolVersion version) {\n+    return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n+        : PRE_1_16_PING_SERIALIZER;\n   }\n }\n", "next_change": {"commit": "1b8955a76bbdfc37c9b6509b8cd3193f0407e633", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex 336b4437..9ec4d0a1 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -615,6 +624,10 @@ public class VelocityServer implements ProxyServer {\n         getAllPlayers().iterator());\n   }\n \n+  public BossBarManager getBossBarManager() {\n+    return bossBarManager;\n+  }\n+\n   public static Gson getPingGsonInstance(ProtocolVersion version) {\n     return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n         : PRE_1_16_PING_SERIALIZER;\n", "next_change": null}]}}]}}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex 56815944..7a817089 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -607,16 +621,16 @@ public class VelocityServer implements ProxyServer {\n \n   @Override\n   public @NonNull Iterable<? extends Audience> audiences() {\n-    return this.getAllPlayers();\n+    return (Iterable<Audience>) () -> Iterators.concat(Iterators.singletonIterator(console),\n+        getAllPlayers().iterator());\n   }\n \n-  public static Gson getGsonInstance(ProtocolVersion version) {\n-    return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_COMPONENT_SERIALIZER\n-        : PRE_1_16_COMPONENT_SERIALIZER;\n+  public BossBarManager getBossBarManager() {\n+    return bossBarManager;\n   }\n \n-  private static GsonBuilder wrapAndAddTextSerializers(GsonComponentSerializer serializer) {\n-    return net.kyori.text.serializer.gson.GsonComponentSerializer\n-        .populate(serializer.serializer().newBuilder());\n+  public static Gson getPingGsonInstance(ProtocolVersion version) {\n+    return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n+        : PRE_1_16_PING_SERIALIZER;\n   }\n }\n", "next_change": {"commit": "8def411b2b99bf952d7f857196a4095c409ec9fd", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex 7a817089..725e8403 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -633,4 +684,9 @@ public class VelocityServer implements ProxyServer, ForwardingAudience {\n     return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n         : PRE_1_16_PING_SERIALIZER;\n   }\n+\n+  @Override\n+  public ResourcePackInfo.Builder createResourcePackBuilder(String url) {\n+    return new VelocityResourcePackInfo.BuilderImpl(url);\n+  }\n }\n", "next_change": {"commit": "977300cc66af91cdf88bff38f487a8e3207e33d7", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex 725e8403..b445932a 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -684,9 +659,4 @@ public class VelocityServer implements ProxyServer, ForwardingAudience {\n     return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n         : PRE_1_16_PING_SERIALIZER;\n   }\n-\n-  @Override\n-  public ResourcePackInfo.Builder createResourcePackBuilder(String url) {\n-    return new VelocityResourcePackInfo.BuilderImpl(url);\n-  }\n }\n", "next_change": {"commit": "b1b3882fab6bfbd5aa9f5557d5f60bdb1f35a14f", "changed_code": [{"header": "diff --git a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\nindex b445932a..1dd4e8a3 100644\n--- a/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n+++ b/proxy/src/main/java/com/velocitypowered/proxy/VelocityServer.java\n", "chunk": "@@ -659,4 +662,9 @@ public class VelocityServer implements ProxyServer, ForwardingAudience {\n     return version.compareTo(ProtocolVersion.MINECRAFT_1_16) >= 0 ? POST_1_16_PING_SERIALIZER\n         : PRE_1_16_PING_SERIALIZER;\n   }\n+\n+  @Override\n+  public ResourcePackInfo.Builder createResourcePackBuilder(String url) {\n+    return new VelocityResourcePackInfo.BuilderImpl(url);\n+  }\n }\n", "next_change": null}]}}]}}]}}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "ce74dcc483c420f26b8a97803456e5fefbeb7a63", "committedDate": "2020-07-15 16:33:42 -0400", "message": "Try not to be crafty here"}, {"oid": "6cc6e0f6414270feb79caf91240df813597dd92c", "committedDate": "2020-07-29 03:43:16 -0400", "message": "New command API (#330)"}, {"oid": "190bef375a9e1d28c9e793d6de528dc52a87a9fc", "committedDate": "2020-07-30 21:48:58 +0200", "message": "Add shutdown methods to ProxyServer"}, {"oid": "a6964bd31cb3a39d5578ed5f055e6b252b956fe5", "committedDate": "2020-07-30 20:16:20 -0400", "message": "Update for breaking Adventure boss bar changes"}, {"oid": "3beaeb2df76f726e006bf9e99fda0a624be69ae4", "committedDate": "2020-08-05 11:35:38 -0400", "message": "Merge pull request #341 from alexstaeding/feature/shutdown-api"}, {"oid": "46e34ddb7f4230c3212c547d2cc05fd860212f3e", "committedDate": "2020-08-06 20:53:19 -0400", "message": "Allow serializing legacy hover events"}, {"oid": "c47d25c88a87048d8ac651044f5c93780904e1b2", "committedDate": "2020-08-21 19:09:04 -0400", "message": "Upgrade to Gradle 6.6 and use SpotBugs."}, {"oid": "764c8ed3e5fb749b6443f2b96eee6933bf1fcb5f", "committedDate": "2020-08-30 07:09:52 -0400", "message": "Fix compile error"}, {"oid": "1dd900194d181fc771157d9b58015449d572158e", "committedDate": "2020-09-03 16:04:21 -0400", "message": "Share instances of the custom Gson type serializers"}, {"oid": "cc6546bea9783eb5a1672e2c936ccf6ab819e5d8", "committedDate": "2020-09-28 05:36:35 -0700", "message": "Update for Adventure changes"}, {"oid": "cb74210cd866574148b61485abdec8d4466f1da2", "committedDate": "2020-10-02 00:23:08 -0400", "message": "Ensure synchronous shutdown if the user kills the process."}, {"oid": "3bf252cf45f9581062d1f8adb6718051530cd4d6", "committedDate": "2020-10-04 15:30:28 -0400", "message": "Start optimizing server list ping."}, {"oid": "706fea8a3cf45d5e1836ee66df22c91e0b9a7252", "committedDate": "2020-10-04 15:31:59 -0400", "message": "Fix checkstyle error"}, {"oid": "5072e1085a764cd5f9ce6a6889497a04777d4ad9", "committedDate": "2020-10-06 11:05:36 -0400", "message": "Revert server list ping changes"}, {"oid": "278930a0083707de2b64080f2f9e252844de339a", "committedDate": "2020-10-26 13:52:04 -0400", "message": "Handle exceptions relating to CompletableFuture operations"}, {"oid": "7a713e937972852166468df2679f73f600e3d5f2", "committedDate": "2021-02-12 20:29:07 +0100", "message": "Update bStats and migrate to new config file"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "8def411b2b99bf952d7f857196a4095c409ec9fd", "committedDate": "2021-05-13 23:49:55 +0200", "message": "Snapshot 21w15a"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "821ca02ee71f75d122e565fc8a9119729440490d", "committedDate": "2021-05-23 15:39:06 -0400", "message": "Backport Velocity Polymer's async event API, with changes."}, {"oid": "150808b4b0772e4d41cd30c9abb69f54d98bf1bb", "committedDate": "2021-06-01 02:07:06 -0400", "message": "Initial implementation of raw registered server creation."}, {"oid": "b1b3882fab6bfbd5aa9f5557d5f60bdb1f35a14f", "committedDate": "2021-06-06 03:48:49 -0400", "message": "Merge branch 'Xernium-future/1.17' into dev/3.0.0"}, {"oid": "ef7aeae4ed0eadc9bdf23973ededc5111823811b", "committedDate": "2021-06-06 03:52:03 -0400", "message": "Merge remote-tracking branch 'origin/dev/3.0.0' into dev/3.0.0"}, {"oid": "3b6b73f216bd851c9ba16c5feffab41f2852ffe0", "committedDate": "2021-06-24 10:10:34 -0400", "message": "Make announce-player-commands not suggest aliases"}, {"oid": "c6ef84eb7f16d5cbab269d5d20cd90937791c0b3", "committedDate": "2021-06-27 20:04:43 -0400", "message": "Backport localization support to Velocity 3.0.0 from Polymer"}, {"oid": "254e8f1a1ec840c1d178d79331401c895e739fc8", "committedDate": "2021-06-27 21:15:17 -0400", "message": "Use the \"closest\" locale from Velocity"}, {"oid": "cb8781b3c937cdc81e571edf6ee5e26e7b67675c", "committedDate": "2021-10-31 16:27:03 -0400", "message": "Add support for sending and receiving login plugin messages from players and servers (#587)"}, {"oid": "6b2b28796bee203ebdfc7a05052ebb65a9823307", "committedDate": "2021-10-31 23:24:39 -0400", "message": "Clean up and clarify plugin loader logic."}, {"oid": "f0ea638fa1480875155dbd27c3b61246e95aa4e6", "committedDate": "2022-03-13 23:59:50 -0400", "message": "Disable Log4J's built-in shutdown hook, because it broke logging in the shutdown sequence when exiting by interrupting the process. This was caused by the Log4J's hook running before ours. (#637)"}, {"oid": "e2743ffa4e85ff1fa765fda4de58ea8ad81b0b53", "committedDate": "2022-03-19 18:54:24 -0400", "message": "Add proxy shutdown localization (#663)"}, {"oid": "9fc4341f40755a5649f276537897662d824bc292", "committedDate": "2022-03-31 22:09:44 -0400", "message": "Replacement of some deprecated method (#672)"}, {"oid": "2a39b2477030f725ce1571cefd96a71a4e9b5739", "committedDate": "2022-04-08 22:56:41 -0400", "message": "Shutdown command improvements (#680)"}, {"oid": "d59d4505cbd16759355c34bd8cb79354927de831", "committedDate": "2022-04-08 23:00:03 -0400", "message": "Add stop command alias for ShutdownCommand"}, {"oid": "acc407a6d5663eaeddf5051dbaaf1f0a30fa77f7", "committedDate": "2022-04-16 00:38:44 -0400", "message": "Added ability to customize translations (#692)"}, {"oid": "d97ed956a7be1411b192939abcab8412932230b8", "committedDate": "2022-06-07 21:00:24 -0400", "message": "Update/1.19 (#726)"}, {"oid": "35019699600e344526975345e08604cf486d53e2", "committedDate": "2022-06-09 12:07:24 +0100", "message": "move force key checking into a system property (#736)"}, {"oid": "662fbc4e3cc1ebbd817af6bb01a12cc46f479c2a", "committedDate": "2022-06-23 23:59:13 -0400", "message": "Implement the ServerData packet by firing ProxyPingEvent (#771)"}, {"oid": "1a3fba4250553702d9dcd05731d04347bfc24c9f", "committedDate": "2022-07-30 19:30:03 -0400", "message": "Update to 1.19.1 (#772)"}, {"oid": "ffa4c95435d1348d094d8a740ecae581c166f95b", "committedDate": "2023-01-01 13:07:31 -0500", "message": "Fix GS4 query reloading logic"}, {"oid": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "committedDate": "2023-01-01 17:53:37 -0500", "message": "Convert Velocity buildscripts to Kotlin DSL (#918)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"oid": "c4f143a2bc1d245b7a8d44a0630ac05e24520924", "url": "https://github.com/PaperMC/Velocity/commit/c4f143a2bc1d245b7a8d44a0630ac05e24520924", "message": "Implement adventure title APIs", "committedDate": "2020-06-29T02:52:46Z", "type": "commit"}, {"oid": "0c6039a773d3c7bf3c68e91ea4446483bda9dd83", "url": "https://github.com/PaperMC/Velocity/commit/0c6039a773d3c7bf3c68e91ea4446483bda9dd83", "message": "Make sure console is included in the ProxyServer audience", "committedDate": "2020-06-29T02:57:28Z", "type": "commit"}, {"oid": "c2edd82b16660ab75210fb5caabf09d56bd73b28", "url": "https://github.com/PaperMC/Velocity/commit/c2edd82b16660ab75210fb5caabf09d56bd73b28", "message": "Use more idiomatic adventure text serializer", "committedDate": "2020-06-29T03:13:57Z", "type": "commit"}, {"oid": "70698246bf20c669ed030d4d1a6e57cc9249d7a3", "url": "https://github.com/PaperMC/Velocity/commit/70698246bf20c669ed030d4d1a6e57cc9249d7a3", "message": "Get everything compiling and Checkstyle clean", "committedDate": "2020-06-29T03:20:46Z", "type": "commit"}, {"oid": "22afd1cf41b0249f842b890f07ad920fd152a719", "url": "https://github.com/PaperMC/Velocity/commit/22afd1cf41b0249f842b890f07ad920fd152a719", "message": "Since we're deprecating stuff, mark toml4j as deprecated", "committedDate": "2020-06-29T03:25:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg1MjAwMA==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446852000", "body": "This should be deprecated", "bodyText": "This should be deprecated", "bodyHTML": "<p dir=\"auto\">This should be deprecated</p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:19:44Z", "path": "api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java", "diffHunk": "@@ -92,7 +93,11 @@ public boolean isAllowed() {\n       return status;\n     }\n \n-    public Optional<Component> getReason() {\n+    public Optional<net.kyori.text.Component> getReason() {", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b9dbb74c9963a765f6963cfedc22104f1196909", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\nindex 22e6fc23..2785d3ee 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n", "chunk": "@@ -93,6 +93,7 @@ public interface ResultedEvent<R extends ResultedEvent.Result> {\n       return status;\n     }\n \n+    @Deprecated\n     public Optional<net.kyori.text.Component> getReason() {\n       return Optional.ofNullable(reason).map(AdventureCompat::asOriginalTextComponent);\n     }\n", "next_change": {"commit": "5285a3c155b3404a45e52a2d4d1ae88dcc0e2b3d", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\nindex 2785d3ee..66bd15a6 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n", "chunk": "@@ -95,7 +95,7 @@ public interface ResultedEvent<R extends ResultedEvent.Result> {\n \n     @Deprecated\n     public Optional<net.kyori.text.Component> getReason() {\n-      return Optional.ofNullable(reason).map(AdventureCompat::asOriginalTextComponent);\n+      return Optional.ofNullable(reason).map(LegacyText3ComponentSerializer.get()::serialize);\n     }\n \n     public Optional<Component> getReasonComponent() {\n", "next_change": null}]}}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\nindex 22e6fc23..66bd15a6 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n", "chunk": "@@ -93,8 +93,9 @@ public interface ResultedEvent<R extends ResultedEvent.Result> {\n       return status;\n     }\n \n+    @Deprecated\n     public Optional<net.kyori.text.Component> getReason() {\n-      return Optional.ofNullable(reason).map(AdventureCompat::asOriginalTextComponent);\n+      return Optional.ofNullable(reason).map(LegacyText3ComponentSerializer.get()::serialize);\n     }\n \n     public Optional<Component> getReasonComponent() {\n", "next_change": {"commit": "977300cc66af91cdf88bff38f487a8e3207e33d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\nindex 66bd15a6..f55296c3 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/ResultedEvent.java\n", "chunk": "@@ -93,11 +99,6 @@ public interface ResultedEvent<R extends ResultedEvent.Result> {\n       return status;\n     }\n \n-    @Deprecated\n-    public Optional<net.kyori.text.Component> getReason() {\n-      return Optional.ofNullable(reason).map(LegacyText3ComponentSerializer.get()::serialize);\n-    }\n-\n     public Optional<Component> getReasonComponent() {\n       return Optional.ofNullable(reason);\n     }\n", "next_change": null}]}}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "2296a9d8dd613c2c15a5acb50576549a46d77973", "committedDate": "2020-07-16 11:50:48 -0400", "message": "Fix compile error caused by adventure changes"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "9fc4341f40755a5649f276537897662d824bc292", "committedDate": "2022-03-31 22:09:44 -0400", "message": "Replacement of some deprecated method (#672)"}, {"oid": "1a3fba4250553702d9dcd05731d04347bfc24c9f", "committedDate": "2022-07-30 19:30:03 -0400", "message": "Update to 1.19.1 (#772)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg1Mjk4NQ==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446852985", "body": "Is the `@Nullable` annotation removal both here and in the new constructor intentional?\r\nIf so, the constructor is missing the non-null precondition.", "bodyText": "Is the @Nullable annotation removal both here and in the new constructor intentional?\nIf so, the constructor is missing the non-null precondition.", "bodyHTML": "<p dir=\"auto\">Is the <code>@Nullable</code> annotation removal both here and in the new constructor intentional?<br>\nIf so, the constructor is missing the non-null precondition.</p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:21:35Z", "path": "api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java", "diffHunk": "@@ -20,7 +21,7 @@\n \n   private final Player player;\n   private final RegisteredServer server;\n-  private final @Nullable Component originalReason;\n+  private final net.kyori.adventure.text.Component originalReason;", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b9dbb74c9963a765f6963cfedc22104f1196909", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..677848b7 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -21,7 +21,7 @@ public final class KickedFromServerEvent implements\n \n   private final Player player;\n   private final RegisteredServer server;\n-  private final net.kyori.adventure.text.Component originalReason;\n+  private final net.kyori.adventure.text.@Nullable Component originalReason;\n   private final boolean duringServerConnect;\n   private ServerKickResult result;\n \n", "next_change": null}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..597b017e 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -21,7 +21,7 @@ public final class KickedFromServerEvent implements\n \n   private final Player player;\n   private final RegisteredServer server;\n-  private final net.kyori.adventure.text.Component originalReason;\n+  private final net.kyori.adventure.text.@Nullable Component originalReason;\n   private final boolean duringServerConnect;\n   private ServerKickResult result;\n \n", "next_change": {"commit": "977300cc66af91cdf88bff38f487a8e3207e33d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 597b017e..ab0d912b 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -25,35 +30,6 @@ public final class KickedFromServerEvent implements\n   private final boolean duringServerConnect;\n   private ServerKickResult result;\n \n-  /**\n-   * Creates a {@code KickedFromServerEvent} instance.\n-   * @param player the player affected\n-   * @param server the server the player disconnected from\n-   * @param originalReason the reason for being kicked, optional\n-   * @param duringServerConnect whether or not the player was kicked during the connection process\n-   * @param fancyReason a fancy reason for being disconnected, used for the initial result\n-   */\n-  @Deprecated\n-  public KickedFromServerEvent(Player player, RegisteredServer server,\n-      @Nullable Component originalReason, boolean duringServerConnect, Component fancyReason) {\n-    this(player, server, originalReason, duringServerConnect, Notify.create(fancyReason));\n-  }\n-\n-  /**\n-   * Creates a {@code KickedFromServerEvent} instance.\n-   * @param player the player affected\n-   * @param server the server the player disconnected from\n-   * @param originalReason the reason for being kicked, optional\n-   * @param duringServerConnect whether or not the player was kicked during the connection process\n-   * @param result the initial result\n-   */\n-  @Deprecated\n-  public KickedFromServerEvent(Player player, RegisteredServer server,\n-      @Nullable Component originalReason, boolean duringServerConnect, ServerKickResult result) {\n-    this(player, server, originalReason == null ? null : LegacyText3ComponentSerializer.get()\n-            .deserialize(originalReason), duringServerConnect, result);\n-  }\n-\n   /**\n    * Creates a {@code KickedFromServerEvent} instance.\n    * @param player the player affected\n", "next_change": {"commit": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex ab0d912b..357f1f0a 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -32,6 +35,7 @@ public final class KickedFromServerEvent implements\n \n   /**\n    * Creates a {@code KickedFromServerEvent} instance.\n+   *\n    * @param player the player affected\n    * @param server the server the player disconnected from\n    * @param originalReason the reason for being kicked, optional\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "cb261c651338572bbba2568632fa96fcfeda5f89", "committedDate": "2020-07-20 21:55:33 -0400", "message": "Better handle not failing over on a read timeout"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "08f1b8726758e5459dff091884c8b99359d42869", "committedDate": "2021-10-09 20:32:04 -0400", "message": "Redirect player without message (#581)"}, {"oid": "8c39d9a1e44f5ae6be29d50cc826b9971bc60c8e", "committedDate": "2021-12-23 02:52:56 -0500", "message": "Document every event Velocity will await on."}, {"oid": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "committedDate": "2023-01-01 17:53:37 -0500", "message": "Convert Velocity buildscripts to Kotlin DSL (#918)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg1NTUwOQ==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446855509", "body": "Mark message as `@Nullable`", "bodyText": "Mark message as @Nullable", "bodyHTML": "<p dir=\"auto\">Mark message as <code>@Nullable</code></p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:25:56Z", "path": "api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java", "diffHunk": "@@ -147,10 +186,10 @@ public static DisconnectPlayer create(Component reason) {\n    */\n   public static final class RedirectPlayer implements ServerKickResult {\n \n-    private final Component message;\n+    private final net.kyori.adventure.text.Component message;\n     private final RegisteredServer server;\n \n-    private RedirectPlayer(RegisteredServer server, @Nullable Component message) {\n+    private RedirectPlayer(RegisteredServer server, net.kyori.adventure.text.Component message) {", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b9dbb74c9963a765f6963cfedc22104f1196909", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..677848b7 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -189,7 +189,8 @@ public final class KickedFromServerEvent implements\n     private final net.kyori.adventure.text.Component message;\n     private final RegisteredServer server;\n \n-    private RedirectPlayer(RegisteredServer server, net.kyori.adventure.text.Component message) {\n+    private RedirectPlayer(RegisteredServer server,\n+        net.kyori.adventure.text.@Nullable Component message) {\n       this.server = Preconditions.checkNotNull(server, \"server\");\n       this.message = message;\n     }\n", "next_change": null}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..597b017e 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -189,7 +189,8 @@ public final class KickedFromServerEvent implements\n     private final net.kyori.adventure.text.Component message;\n     private final RegisteredServer server;\n \n-    private RedirectPlayer(RegisteredServer server, net.kyori.adventure.text.Component message) {\n+    private RedirectPlayer(RegisteredServer server,\n+        net.kyori.adventure.text.@Nullable Component message) {\n       this.server = Preconditions.checkNotNull(server, \"server\");\n       this.message = message;\n     }\n", "next_change": null}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "cb261c651338572bbba2568632fa96fcfeda5f89", "committedDate": "2020-07-20 21:55:33 -0400", "message": "Better handle not failing over on a read timeout"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "08f1b8726758e5459dff091884c8b99359d42869", "committedDate": "2021-10-09 20:32:04 -0400", "message": "Redirect player without message (#581)"}, {"oid": "8c39d9a1e44f5ae6be29d50cc826b9971bc60c8e", "committedDate": "2021-12-23 02:52:56 -0500", "message": "Document every event Velocity will await on."}, {"oid": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "committedDate": "2023-01-01 17:53:37 -0500", "message": "Convert Velocity buildscripts to Kotlin DSL (#918)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg1Njc4Nw==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446856787", "body": "This is using the new Component and is private, shouldn't be deprecated", "bodyText": "This is using the new Component and is private, shouldn't be deprecated", "bodyHTML": "<p dir=\"auto\">This is using the new Component and is private, shouldn't be deprecated</p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:27:54Z", "path": "api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java", "diffHunk": "@@ -191,9 +250,10 @@ public static ServerKickResult create(RegisteredServer server) {\n    */\n   public static final class Notify implements ServerKickResult {\n \n-    private final Component message;\n+    private final net.kyori.adventure.text.Component message;\n \n-    private Notify(Component message) {\n+    @Deprecated\n+    private Notify(net.kyori.adventure.text.Component message) {", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "5b9dbb74c9963a765f6963cfedc22104f1196909", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..677848b7 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -252,7 +253,6 @@ public final class KickedFromServerEvent implements\n \n     private final net.kyori.adventure.text.Component message;\n \n-    @Deprecated\n     private Notify(net.kyori.adventure.text.Component message) {\n       this.message = Preconditions.checkNotNull(message, \"message\");\n     }\n", "next_change": null}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\nindex 7f4a1208..597b017e 100644\n--- a/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n+++ b/api/src/main/java/com/velocitypowered/api/event/player/KickedFromServerEvent.java\n", "chunk": "@@ -252,7 +253,6 @@ public final class KickedFromServerEvent implements\n \n     private final net.kyori.adventure.text.Component message;\n \n-    @Deprecated\n     private Notify(net.kyori.adventure.text.Component message) {\n       this.message = Preconditions.checkNotNull(message, \"message\");\n     }\n", "next_change": null}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "cb261c651338572bbba2568632fa96fcfeda5f89", "committedDate": "2020-07-20 21:55:33 -0400", "message": "Better handle not failing over on a read timeout"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "08f1b8726758e5459dff091884c8b99359d42869", "committedDate": "2021-10-09 20:32:04 -0400", "message": "Redirect player without message (#581)"}, {"oid": "8c39d9a1e44f5ae6be29d50cc826b9971bc60c8e", "committedDate": "2021-12-23 02:52:56 -0500", "message": "Document every event Velocity will await on."}, {"oid": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "committedDate": "2023-01-01 17:53:37 -0500", "message": "Convert Velocity buildscripts to Kotlin DSL (#918)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg2MzIwMg==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446863202", "body": "Minor nit: It's a shame this method cannot be named consistently. Open to change in 2.0 once the other gets removed?", "bodyText": "Minor nit: It's a shame this method cannot be named consistently. Open to change in 2.0 once the other gets removed?", "bodyHTML": "<p dir=\"auto\">Minor nit: It's a shame this method cannot be named consistently. Open to change in 2.0 once the other gets removed?</p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:39:01Z", "path": "api/src/main/java/com/velocitypowered/api/proxy/config/ProxyConfig.java", "diffHunk": "@@ -44,8 +43,17 @@\n    * Get the MOTD component shown in the tab list.\n    *\n    * @return the motd component\n+   * @deprecated Use {@link #getMotd()} instead\n    */\n-  Component getMotdComponent();\n+  @Deprecated\n+  net.kyori.text.Component getMotdComponent();\n+\n+  /**\n+   * Get the MOTD component shown in the tab list.\n+   *\n+   * @return the motd component\n+   */\n+  net.kyori.adventure.text.Component getMotd();", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5OTYzOQ==", "url": "https://github.com/VelocityPowered/Velocity/pull/321#discussion_r447099639", "bodyText": "Yes, as with everything else. (ProxyConfig was basically created with the \"Extract Interface\" refactoring in IntelliJ IDEA, and hasn't really evolved past that. It's a leaky abstraction.)", "author": "astei", "createdAt": "2020-06-29T16:28:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg2MzIwMg=="}], "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "977300cc66af91cdf88bff38f487a8e3207e33d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/config/ProxyConfig.java b/api/src/main/java/com/velocitypowered/api/proxy/config/ProxyConfig.java\nindex 3efa22c7..360d2ba5 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/config/ProxyConfig.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/config/ProxyConfig.java\n", "chunk": "@@ -39,15 +46,6 @@ public interface ProxyConfig {\n    */\n   boolean shouldQueryShowPlugins();\n \n-  /**\n-   * Get the MOTD component shown in the tab list.\n-   *\n-   * @return the motd component\n-   * @deprecated Use {@link #getMotd()} instead\n-   */\n-  @Deprecated\n-  net.kyori.text.Component getMotdComponent();\n-\n   /**\n    * Get the MOTD component shown in the tab list.\n    *\n", "next_change": null}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "b79f6ad827628e0c4af494aebd31e7579bd7aee2", "committedDate": "2020-07-29 16:59:39 +0300", "message": "Make initial read timeout configurable"}, {"oid": "e94778c149626e3a3c2b3fad8b3c67ad1b6093f5", "committedDate": "2020-08-05 21:31:51 +0300", "message": "Resolve code style issue"}, {"oid": "1f621300f6f38f2ad71cffd5cd0f46fd92b6b2c8", "committedDate": "2020-08-22 02:40:35 -0400", "message": "Revert #338"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg2NTQ1MQ==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r446865451", "body": "~~Superfluous `@NonNull` annotation~~", "bodyText": "Superfluous @NonNull annotation", "bodyHTML": "<p dir=\"auto\"><del>Superfluous <code>@NonNull</code> annotation</del></p>", "author": "hugmanrique", "createdAt": "2020-06-29T08:42:44Z", "path": "proxy/src/main/java/com/velocitypowered/proxy/server/VelocityRegisteredServer.java", "diffHunk": "@@ -145,4 +148,9 @@ public boolean sendPluginMessage(ChannelIdentifier identifier, ByteBuf data) {\n   public String toString() {\n     return \"registered server: \" + serverInfo;\n   }\n+\n+  @Override\n+  public @NonNull Iterable<? extends Audience> audiences() {", "originalCommit": "22afd1cf41b0249f842b890f07ad920fd152a719", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": null, "revised_code_in_main": null, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "5d287306c2458ccaad40621e3d7418215b764c62", "committedDate": "2020-09-01 03:25:15 -0400", "message": "Small code cleanups"}, {"oid": "fb888c3b8aaa7863625f9bdb950ed86fa9166a58", "committedDate": "2020-11-06 09:38:26 -0500", "message": "Store players in VelocityRegisteredServer by UUID instead."}, {"oid": "f6078e9b74fac3f7fabf5060e4303143b08da59b", "committedDate": "2020-12-26 20:52:12 -0500", "message": "Fix several problems and clean up the BungeeCord plugin messaging support."}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "f1cb3eb1a28bc5003d8dd844b5cdf990970ab89d", "committedDate": "2021-04-15 22:56:37 -0400", "message": "Move timeout handler to after frame decoder"}, {"oid": "d72d707b1c0dd6215a4984956faf4b2ec4bdbd97", "committedDate": "2023-01-01 17:53:37 -0500", "message": "Convert Velocity buildscripts to Kotlin DSL (#918)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}, {"oid": "8a048f0505b0034e848b2995192f1dd4695b0857", "committedDate": "2023-01-13 17:43:50 -0500", "message": "Fix sendPluginMessage (#926)"}, {"oid": "8761d02def69d9c2ed8e026ba348a7468a4c6d7b", "committedDate": "2023-01-26 00:33:07 -0500", "message": "feat: Implement RegisteredServer#ping(PingOptions) (#938)"}]}, {"oid": "5b9dbb74c9963a765f6963cfedc22104f1196909", "url": "https://github.com/PaperMC/Velocity/commit/5b9dbb74c9963a765f6963cfedc22104f1196909", "message": "Fix up some annotations", "committedDate": "2020-06-29T14:42:01Z", "type": "commit"}, {"oid": "5285a3c155b3404a45e52a2d4d1ae88dcc0e2b3d", "url": "https://github.com/PaperMC/Velocity/commit/5285a3c155b3404a45e52a2d4d1ae88dcc0e2b3d", "message": "Remove AdventureCompact in favor of the text 3.x serializer added in KyoriPowered/adventure-platform#23", "committedDate": "2020-06-30T03:34:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQzMzE5MQ==", "url": "https://github.com/PaperMC/Velocity/pull/321#discussion_r447433191", "body": "I would recommend extending the more generic `Audience` in the `api` interfaces, then using `MultiAudience` in the implementation (for `ProxyServer` and co.) That way you don't expose `audiences()` in the spec.", "bodyText": "I would recommend extending the more generic Audience in the api interfaces, then using MultiAudience in the implementation (for ProxyServer and co.) That way you don't expose audiences() in the spec.", "bodyHTML": "<p dir=\"auto\">I would recommend extending the more generic <code>Audience</code> in the <code>api</code> interfaces, then using <code>MultiAudience</code> in the implementation (for <code>ProxyServer</code> and co.) That way you don't expose <code>audiences()</code> in the spec.</p>", "author": "Electroid", "createdAt": "2020-06-30T06:12:58Z", "path": "api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java", "diffHunk": "@@ -17,13 +17,14 @@\n import java.util.Collection;\n import java.util.Optional;\n import java.util.UUID;\n-import net.kyori.text.Component;\n+import net.kyori.adventure.audience.MultiAudience;\n+import net.kyori.adventure.text.Component;\n import org.checkerframework.checker.nullness.qual.NonNull;\n \n /**\n  * Provides an interface to a Minecraft server proxy.\n  */\n-public interface ProxyServer {\n+public interface ProxyServer extends MultiAudience {", "originalCommit": "5285a3c155b3404a45e52a2d4d1ae88dcc0e2b3d", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "86259f788fce7dfe9dfa9044640006e9d70f5c89", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\nindex 188592f2..995900c8 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n", "chunk": "@@ -17,14 +17,14 @@ import java.net.InetSocketAddress;\n import java.util.Collection;\n import java.util.Optional;\n import java.util.UUID;\n-import net.kyori.adventure.audience.MultiAudience;\n+import net.kyori.adventure.audience.Audience;\n import net.kyori.adventure.text.Component;\n import org.checkerframework.checker.nullness.qual.NonNull;\n \n /**\n  * Provides an interface to a Minecraft server proxy.\n  */\n-public interface ProxyServer extends MultiAudience {\n+public interface ProxyServer extends Audience {\n \n   /**\n    * Retrieves the player currently connected to this proxy by their Minecraft username. The search\n", "next_change": null}]}, "revised_code_in_main": {"commit": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\nindex 188592f2..995900c8 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n", "chunk": "@@ -17,14 +17,14 @@ import java.net.InetSocketAddress;\n import java.util.Collection;\n import java.util.Optional;\n import java.util.UUID;\n-import net.kyori.adventure.audience.MultiAudience;\n+import net.kyori.adventure.audience.Audience;\n import net.kyori.adventure.text.Component;\n import org.checkerframework.checker.nullness.qual.NonNull;\n \n /**\n  * Provides an interface to a Minecraft server proxy.\n  */\n-public interface ProxyServer extends MultiAudience {\n+public interface ProxyServer extends Audience {\n \n   /**\n    * Retrieves the player currently connected to this proxy by their Minecraft username. The search\n", "next_change": {"commit": "190bef375a9e1d28c9e793d6de528dc52a87a9fc", "changed_code": [{"header": "diff --git a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\nindex 995900c8..7e2e570c 100644\n--- a/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n+++ b/api/src/main/java/com/velocitypowered/api/proxy/ProxyServer.java\n", "chunk": "@@ -26,6 +27,18 @@ import org.checkerframework.checker.nullness.qual.NonNull;\n  */\n public interface ProxyServer extends Audience {\n \n+  /**\n+   * Shuts down the proxy, kicking players with the specified {@param reason}.\n+   *\n+   * @param reason message to kick online players with\n+   */\n+  void shutdown(TextComponent reason);\n+\n+  /**\n+   * Shuts down the proxy, kicking players with the default reason.\n+   */\n+  void shutdown();\n+\n   /**\n    * Retrieves the player currently connected to this proxy by their Minecraft username. The search\n    * is case-insensitive.\n", "next_change": null}]}}]}, "commits_in_main": [{"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Merge commit", "committedDate": null}, {"oid": "190bef375a9e1d28c9e793d6de528dc52a87a9fc", "committedDate": "2020-07-30 21:48:58 +0200", "message": "Add shutdown methods to ProxyServer"}, {"oid": "764c8ed3e5fb749b6443f2b96eee6933bf1fcb5f", "committedDate": "2020-08-30 07:09:52 -0400", "message": "Fix compile error"}, {"oid": "5d287306c2458ccaad40621e3d7418215b764c62", "committedDate": "2020-09-01 03:25:15 -0400", "message": "Small code cleanups"}, {"oid": "a76c01df4bba843efbf01e7985e7f51972fb573b", "committedDate": "2020-10-15 08:24:41 -0700", "message": "Fix a few javadoc-related problems"}, {"oid": "c747120b20be1853ee02e7b2b67871249a88aa6d", "committedDate": "2021-03-31 16:04:06 -0400", "message": "Relicense the Velocity proxy under the terms of GPLv3 (#448)"}, {"oid": "8def411b2b99bf952d7f857196a4095c409ec9fd", "committedDate": "2021-05-13 23:49:55 +0200", "message": "Snapshot 21w15a"}, {"oid": "977300cc66af91cdf88bff38f487a8e3207e33d7", "committedDate": "2021-05-23 14:13:51 -0400", "message": "Remove text 3.x API and associated deprecated APIs"}, {"oid": "150808b4b0772e4d41cd30c9abb69f54d98bf1bb", "committedDate": "2021-06-01 02:07:06 -0400", "message": "Initial implementation of raw registered server creation."}, {"oid": "59b29a075e0abe4e9aeca393975a1cfbead35ee9", "committedDate": "2021-06-05 16:07:24 +0200", "message": "Improve new Resource-pack API"}, {"oid": "b1b3882fab6bfbd5aa9f5557d5f60bdb1f35a14f", "committedDate": "2021-06-06 03:48:49 -0400", "message": "Merge branch 'Xernium-future/1.17' into dev/3.0.0"}, {"oid": "ef7aeae4ed0eadc9bdf23973ededc5111823811b", "committedDate": "2021-06-06 03:52:03 -0400", "message": "Merge remote-tracking branch 'origin/dev/3.0.0' into dev/3.0.0"}, {"oid": "e45ca5f357d3b7b4a40a3c3ac883071f64e1d0b7", "committedDate": "2022-06-09 03:27:06 -0400", "message": "Improved Scheduler API (#696)"}, {"oid": "b0862d2d16c4ba7560d3f24c824d78793ac3d9e0", "committedDate": "2023-01-01 18:46:33 -0500", "message": "Use Spotless for license formatting"}]}, {"oid": "1b8955a76bbdfc37c9b6509b8cd3193f0407e633", "url": "https://github.com/PaperMC/Velocity/commit/1b8955a76bbdfc37c9b6509b8cd3193f0407e633", "message": "Add initial adventure boss bar support", "committedDate": "2020-07-01T02:33:07Z", "type": "commit"}, {"oid": "47560442cae41e35076904ec667f55caa9681d32", "url": "https://github.com/PaperMC/Velocity/commit/47560442cae41e35076904ec667f55caa9681d32", "message": "Remove SyncMap for now, use more obvious and correct MapMaker", "committedDate": "2020-07-01T02:46:21Z", "type": "commit"}, {"oid": "07da606abd4e45a6ba552c522818b24c53043343", "url": "https://github.com/PaperMC/Velocity/commit/07da606abd4e45a6ba552c522818b24c53043343", "message": "Add OnceTest", "committedDate": "2020-07-01T02:54:49Z", "type": "commit"}, {"oid": "209291e702c483892280ec4e066e9b5592c584e8", "url": "https://github.com/PaperMC/Velocity/commit/209291e702c483892280ec4e066e9b5592c584e8", "message": "Improve the test a little", "committedDate": "2020-07-01T04:36:12Z", "type": "commit"}, {"oid": "86259f788fce7dfe9dfa9044640006e9d70f5c89", "url": "https://github.com/PaperMC/Velocity/commit/86259f788fce7dfe9dfa9044640006e9d70f5c89", "message": "Adjust for recent adventure API changes.", "committedDate": "2020-07-11T16:00:54Z", "type": "commit"}, {"oid": "6e84261166e0c7976d149368e109b0c6fc04d096", "url": "https://github.com/PaperMC/Velocity/commit/6e84261166e0c7976d149368e109b0c6fc04d096", "message": "Merge branch 'dev/1.1.0' into adventure-api", "committedDate": "2020-07-12T05:49:08Z", "type": "commit"}, {"oid": "d47462c60691654910f165ef1810240bac5adc97", "url": "https://github.com/PaperMC/Velocity/commit/d47462c60691654910f165ef1810240bac5adc97", "message": "Fix accidential deprecation", "committedDate": "2020-07-12T15:42:44Z", "type": "commit"}, {"oid": "21bc050f9cdc0263e0cc14b0672b83dff432f4bd", "url": "https://github.com/PaperMC/Velocity/commit/21bc050f9cdc0263e0cc14b0672b83dff432f4bd", "message": "Fix Checkstyle issues again", "committedDate": "2020-07-12T15:56:50Z", "type": "commit"}, {"oid": "f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "url": "https://github.com/PaperMC/Velocity/commit/f841d7590a17ae5236da1fc30ad8ee6b2a0b54d7", "message": "Remove unused parameter", "committedDate": "2020-07-12T15:57:07Z", "type": "commit"}]}