{"pr_number": 258, "pr_title": "[MOB-1894] - In App Locks", "pr_author": "Ayyanchira", "pr_createdAt": "2020-08-03T16:46:43Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/258", "merge_commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "timeline": [{"oid": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "url": "https://github.com/Iterable/iterable-android-sdk/commit/725fa472457c9ffefa4eeefeaf7df0237560b25e", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-03T20:22:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTAzOA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599038", "body": "```suggestion\r\n    private boolean displayPaused = false;\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean inAppDisplayhold = false;\n          \n          \n            \n                private boolean displayPaused = false;", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">inAppDisplayhold</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">displayPaused</span> <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T18:15:41Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -46,6 +46,7 @@\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n+    private boolean inAppDisplayhold = false;", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ecc366a2012815d6e091032a3626a3d65f4a3150", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..4b6c7d47 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -46,7 +46,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n-    private boolean inAppDisplayhold = false;\n+    private boolean displayPaused = false;\n \n     IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval) {\n         this(iterableApi,\n", "next_change": {"commit": "e3424bf21ed2d5787147d70160810ecc552fce8e", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 4b6c7d47..c1ee5a51 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -46,7 +46,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n-    private boolean displayPaused = false;\n+    private boolean autoDisplayPaused = false;\n \n     IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval) {\n         this(iterableApi,\n", "next_change": null}]}}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -46,7 +46,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n-    private boolean inAppDisplayhold = false;\n+    private boolean autoDisplayPaused = false;\n \n     IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval) {\n         this(iterableApi,\n", "next_change": {"commit": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 1a75ff4b..7f5337ac 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -48,13 +51,14 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     private long lastInAppShown = 0;\n     private boolean autoDisplayPaused = false;\n \n-    IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval) {\n+    IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval, String[] allowedProtocols) {\n         this(iterableApi,\n                 handler,\n                 inAppDisplayInterval,\n                 new IterableInAppFileStorage(iterableApi.getMainActivityContext()),\n                 IterableActivityMonitor.getInstance(),\n-                new IterableInAppDisplayer(IterableActivityMonitor.getInstance()));\n+                new IterableInAppDisplayer(IterableActivityMonitor.getInstance()),\n+                allowedProtocols);\n     }\n \n     @VisibleForTesting\n", "next_change": {"commit": "00446867595361e4c3787247761bf5806acbdefe", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 7f5337ac..942cdd4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -51,14 +50,13 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     private long lastInAppShown = 0;\n     private boolean autoDisplayPaused = false;\n \n-    IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval, String[] allowedProtocols) {\n+    IterableInAppManager(IterableApi iterableApi, IterableInAppHandler handler, double inAppDisplayInterval) {\n         this(iterableApi,\n                 handler,\n                 inAppDisplayInterval,\n                 new IterableInAppFileStorage(iterableApi.getMainActivityContext()),\n                 IterableActivityMonitor.getInstance(),\n-                new IterableInAppDisplayer(IterableActivityMonitor.getInstance()),\n-                allowedProtocols);\n+                new IterableInAppDisplayer(IterableActivityMonitor.getInstance()));\n     }\n \n     @VisibleForTesting\n", "next_change": null}, {"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 7f5337ac..942cdd4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -67,8 +65,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n                          double inAppDisplayInterval,\n                          IterableInAppStorage storage,\n                          IterableActivityMonitor activityMonitor,\n-                         IterableInAppDisplayer displayer,\n-                         String[] allowedProtocols) {\n+                         IterableInAppDisplayer displayer) {\n         this.api = iterableApi;\n         this.context = iterableApi.getMainActivityContext();\n         this.handler = handler;\n", "next_change": null}]}}]}}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTQ4Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599483", "body": "```suggestion\r\n    public boolean isDisplayPaused() {\r\n        return displayPaused;\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean isInAppDisplayhold() {\n          \n          \n            \n                    return inAppDisplayhold;\n          \n          \n            \n                public boolean isDisplayPaused() {\n          \n          \n            \n                    return displayPaused;", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">isInAppDisplayhold</span>() {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">return</span> <span class=\"x x-first x-last\">inAppDisplayhold</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">isDisplayPaused</span>() {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">return</span> <span class=\"x x-first x-last\">displayPaused</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T18:16:30Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    public boolean isInAppDisplayhold() {\n+        return inAppDisplayhold;", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ecc366a2012815d6e091032a3626a3d65f4a3150", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..4b6c7d47 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,17 +135,17 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isInAppDisplayhold() {\n-        return inAppDisplayhold;\n+    public boolean isDisplayPaused() {\n+        return displayPaused;\n     }\n \n     /**\n-    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param hold Whether or not to hold showing an in-app.\n+    * Set a pause on InApp Display to prevent showing an inapp. By default the value is set to false.\n+    * @param paused Whether or not to pause showing an in-app.\n     */\n-    public void setInAppDisplayhold(boolean hold) {\n-        this.inAppDisplayhold = hold;\n-        if (!hold) {\n+    public void setDisplayPaused(boolean paused) {\n+        this.displayPaused = paused;\n+        if (!paused) {\n             scheduleProcessing();\n         }\n     }\n", "next_change": {"commit": "3401498fa437bee8c94d01d1cd5f468891ddef8f", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 4b6c7d47..079e0c55 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-    * Set a pause on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param paused Whether or not to pause showing an in-app.\n+    * Set a pause on in-app Display to prevent showing an in-app. By default the value is set to false.\n+    * @param paused Whether to pause showing an in-app.\n     */\n     public void setDisplayPaused(boolean paused) {\n         this.displayPaused = paused;\n", "next_change": {"commit": "30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 079e0c55..d55d6deb 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,7 +140,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-    * Set a pause on in-app Display to prevent showing an in-app. By default the value is set to false.\n+    * Set a pause to prevent showing an in-app. By default the value is set to false.\n     * @param paused Whether to pause showing an in-app.\n     */\n     public void setDisplayPaused(boolean paused) {\n", "next_change": {"commit": "e3424bf21ed2d5787147d70160810ecc552fce8e", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex d55d6deb..c1ee5a51 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,16 +135,16 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isDisplayPaused() {\n-        return displayPaused;\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n     }\n \n     /**\n-    * Set a pause to prevent showing an in-app. By default the value is set to false.\n-    * @param paused Whether to pause showing an in-app.\n-    */\n-    public void setDisplayPaused(boolean paused) {\n-        this.displayPaused = paused;\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing an in-app.\n+     */\n+    public void setAutoDisplayPaused(boolean paused) {\n+        this.autoDisplayPaused = paused;\n         if (!paused) {\n             scheduleProcessing();\n         }\n", "next_change": {"commit": "f99dec98d4d498619f2d21df872524270618e897", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}}]}}]}}]}}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,17 +135,17 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isInAppDisplayhold() {\n-        return inAppDisplayhold;\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n     }\n \n     /**\n-    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param hold Whether or not to hold showing an in-app.\n-    */\n-    public void setInAppDisplayhold(boolean hold) {\n-        this.inAppDisplayhold = hold;\n-        if (!hold) {\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n+     */\n+    public void setAutoDisplayPaused(boolean paused) {\n+        this.autoDisplayPaused = paused;\n+        if (!paused) {\n             scheduleProcessing();\n         }\n     }\n", "next_change": null}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTg0Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599843", "body": "```suggestion\r\n    public void setDisplayPaused(boolean paused) {\r\n        this.displayPaused = paused;\r\n        if (!paused) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setInAppDisplayhold(boolean hold) {\n          \n          \n            \n                    this.inAppDisplayhold = hold;\n          \n          \n            \n                    if (!hold) {\n          \n          \n            \n                public void setDisplayPaused(boolean paused) {\n          \n          \n            \n                    this.displayPaused = paused;\n          \n          \n            \n                    if (!paused) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">setInAppDisplayhold</span>(<span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">hold</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c1\">this</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">inAppDisplayhold</span> <span class=\"pl-k\">=</span> <span class=\"x x-first x-last\">hold</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"x x-first x-last\">hold</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">void</span> <span class=\"x x-first x-last\">setDisplayPaused</span>(<span class=\"pl-k\">boolean</span> <span class=\"x x-first x-last\">paused</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-c1\">this</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">displayPaused</span> <span class=\"pl-k\">=</span> <span class=\"x x-first x-last\">paused</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span><span class=\"x x-first x-last\">paused</span>) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T18:17:10Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    public boolean isInAppDisplayhold() {\n+        return inAppDisplayhold;\n+    }\n+\n+    /**\n+    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n+    * @param hold Whether or not to hold showing an in-app.\n+    */\n+    public void setInAppDisplayhold(boolean hold) {\n+        this.inAppDisplayhold = hold;\n+        if (!hold) {", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ecc366a2012815d6e091032a3626a3d65f4a3150", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..4b6c7d47 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,17 +135,17 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isInAppDisplayhold() {\n-        return inAppDisplayhold;\n+    public boolean isDisplayPaused() {\n+        return displayPaused;\n     }\n \n     /**\n-    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param hold Whether or not to hold showing an in-app.\n+    * Set a pause on InApp Display to prevent showing an inapp. By default the value is set to false.\n+    * @param paused Whether or not to pause showing an in-app.\n     */\n-    public void setInAppDisplayhold(boolean hold) {\n-        this.inAppDisplayhold = hold;\n-        if (!hold) {\n+    public void setDisplayPaused(boolean paused) {\n+        this.displayPaused = paused;\n+        if (!paused) {\n             scheduleProcessing();\n         }\n     }\n", "next_change": {"commit": "3401498fa437bee8c94d01d1cd5f468891ddef8f", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 4b6c7d47..079e0c55 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-    * Set a pause on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param paused Whether or not to pause showing an in-app.\n+    * Set a pause on in-app Display to prevent showing an in-app. By default the value is set to false.\n+    * @param paused Whether to pause showing an in-app.\n     */\n     public void setDisplayPaused(boolean paused) {\n         this.displayPaused = paused;\n", "next_change": {"commit": "30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 079e0c55..d55d6deb 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,7 +140,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-    * Set a pause on in-app Display to prevent showing an in-app. By default the value is set to false.\n+    * Set a pause to prevent showing an in-app. By default the value is set to false.\n     * @param paused Whether to pause showing an in-app.\n     */\n     public void setDisplayPaused(boolean paused) {\n", "next_change": {"commit": "e3424bf21ed2d5787147d70160810ecc552fce8e", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex d55d6deb..c1ee5a51 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,16 +135,16 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isDisplayPaused() {\n-        return displayPaused;\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n     }\n \n     /**\n-    * Set a pause to prevent showing an in-app. By default the value is set to false.\n-    * @param paused Whether to pause showing an in-app.\n-    */\n-    public void setDisplayPaused(boolean paused) {\n-        this.displayPaused = paused;\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing an in-app.\n+     */\n+    public void setAutoDisplayPaused(boolean paused) {\n+        this.autoDisplayPaused = paused;\n         if (!paused) {\n             scheduleProcessing();\n         }\n", "next_change": {"commit": "f99dec98d4d498619f2d21df872524270618e897", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}}]}}]}}]}}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -135,17 +135,17 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n \n-    public boolean isInAppDisplayhold() {\n-        return inAppDisplayhold;\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n     }\n \n     /**\n-    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n-    * @param hold Whether or not to hold showing an in-app.\n-    */\n-    public void setInAppDisplayhold(boolean hold) {\n-        this.inAppDisplayhold = hold;\n-        if (!hold) {\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n+     */\n+    public void setAutoDisplayPaused(boolean paused) {\n+        this.autoDisplayPaused = paused;\n+        if (!paused) {\n             scheduleProcessing();\n         }\n     }\n", "next_change": null}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTkzOA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599938", "body": "```suggestion\r\n        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isDisplayPaused()) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {\n          \n          \n            \n                    if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isDisplayPaused()) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>activityMonitor<span class=\"pl-k\">.</span>isInForeground() <span class=\"pl-k\">||</span> isShowingInApp() <span class=\"pl-k\">||</span> <span class=\"pl-k\">!</span>canShowInAppAfterPrevious() <span class=\"pl-k\">||</span> <span class=\"x x-first x-last\">isInAppDisplayhold</span>()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>activityMonitor<span class=\"pl-k\">.</span>isInForeground() <span class=\"pl-k\">||</span> isShowingInApp() <span class=\"pl-k\">||</span> <span class=\"pl-k\">!</span>canShowInAppAfterPrevious() <span class=\"pl-k\">||</span> <span class=\"x x-first x-last\">isDisplayPaused</span>()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T18:17:22Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -310,7 +327,7 @@ private void syncWithRemoteQueue(List<IterableInAppMessage> remoteQueue) {\n     }\n \n     private void processMessages() {\n-        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious()) {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "ecc366a2012815d6e091032a3626a3d65f4a3150", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..4b6c7d47 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -327,7 +327,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     private void processMessages() {\n-        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isDisplayPaused()) {\n             return;\n         }\n \n", "next_change": {"commit": "e3424bf21ed2d5787147d70160810ecc552fce8e", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 4b6c7d47..c1ee5a51 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -327,7 +327,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     private void processMessages() {\n-        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isDisplayPaused()) {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isAutoDisplayPaused()) {\n             return;\n         }\n \n", "next_change": null}]}}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 23e2811c..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -327,7 +327,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     private void processMessages() {\n-        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isAutoDisplayPaused()) {\n             return;\n         }\n \n", "next_change": {"commit": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 1a75ff4b..a7d07386 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -334,7 +336,22 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n         IterableLogger.printInfo();\n \n         List<IterableInAppMessage> messages = getMessages();\n-        for (IterableInAppMessage message : messages) {\n+        List<IterableInAppMessage> messagesByPriorityLevel = messages;\n+\n+        Collections.sort(messagesByPriorityLevel, new Comparator<IterableInAppMessage>() {\n+            @Override\n+            public int compare(IterableInAppMessage message1, IterableInAppMessage message2) {\n+                if (message1.getPriorityLevel() < message2.getPriorityLevel()) {\n+                    return -1;\n+                } else if (message1.getPriorityLevel() == message2.getPriorityLevel()) {\n+                    return 0;\n+                } else {\n+                    return 1;\n+                }\n+            }\n+        });\n+\n+        for (IterableInAppMessage message : messagesByPriorityLevel) {\n             if (!message.isProcessed() && !message.isConsumed() && message.getTriggerType() == TriggerType.IMMEDIATE) {\n                 IterableLogger.d(TAG, \"Calling onNewInApp on \" + message.getMessageId());\n                 InAppResponse response = handler.onNewInApp(message);\n", "next_change": {"commit": "661de76f8f14011ba2a6c919021246390569f8c1", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex a7d07386..988789ca 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -351,6 +343,20 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n             }\n         });\n \n+        return messagesByPriorityLevel;\n+    }\n+\n+    private void processMessages() {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isAutoDisplayPaused()) {\n+            return;\n+        }\n+\n+        IterableLogger.printInfo();\n+\n+        List<IterableInAppMessage> messages = getMessages();\n+\n+        List<IterableInAppMessage> messagesByPriorityLevel = getMessagesSortedByPriorityLevel(messages);\n+\n         for (IterableInAppMessage message : messagesByPriorityLevel) {\n             if (!message.isProcessed() && !message.isConsumed() && message.getTriggerType() == TriggerType.IMMEDIATE) {\n                 IterableLogger.d(TAG, \"Calling onNewInApp on \" + message.getMessageId());\n", "next_change": {"commit": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex 988789ca..74a19e34 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -358,7 +358,7 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n         List<IterableInAppMessage> messagesByPriorityLevel = getMessagesSortedByPriorityLevel(messages);\n \n         for (IterableInAppMessage message : messagesByPriorityLevel) {\n-            if (!message.isProcessed() && !message.isConsumed() && message.getTriggerType() == TriggerType.IMMEDIATE) {\n+            if (!message.isProcessed() && !message.isConsumed() && message.getTriggerType() == TriggerType.IMMEDIATE && !message.isRead()) {\n                 IterableLogger.d(TAG, \"Calling onNewInApp on \" + message.getMessageId());\n                 InAppResponse response = handler.onNewInApp(message);\n                 IterableLogger.d(TAG, \"Response: \" + response);\n", "next_change": null}]}}]}}]}}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"oid": "ecc366a2012815d6e091032a3626a3d65f4a3150", "url": "https://github.com/Iterable/iterable-android-sdk/commit/ecc366a2012815d6e091032a3626a3d65f4a3150", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:26:44Z", "type": "forcePushed"}, {"oid": "656eea6f555f72fc9af34ce8fb523f37470f1781", "url": "https://github.com/Iterable/iterable-android-sdk/commit/656eea6f555f72fc9af34ce8fb523f37470f1781", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:32:42Z", "type": "forcePushed"}, {"oid": "3401498fa437bee8c94d01d1cd5f468891ddef8f", "url": "https://github.com/Iterable/iterable-android-sdk/commit/3401498fa437bee8c94d01d1cd5f468891ddef8f", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:33:42Z", "type": "forcePushed"}, {"oid": "30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "url": "https://github.com/Iterable/iterable-android-sdk/commit/30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:34:40Z", "type": "forcePushed"}, {"oid": "e3424bf21ed2d5787147d70160810ecc552fce8e", "url": "https://github.com/Iterable/iterable-android-sdk/commit/e3424bf21ed2d5787147d70160810ecc552fce8e", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:50:07Z", "type": "forcePushed"}, {"oid": "5f2e1853ec35634943dfe83b072e42a6528755e3", "url": "https://github.com/Iterable/iterable-android-sdk/commit/5f2e1853ec35634943dfe83b072e42a6528755e3", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:51:57Z", "type": "commit"}, {"oid": "5f2e1853ec35634943dfe83b072e42a6528755e3", "url": "https://github.com/Iterable/iterable-android-sdk/commit/5f2e1853ec35634943dfe83b072e42a6528755e3", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:51:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYyNzk3NA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466627974", "body": "```suggestion\r\n     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n          \n          \n            \n                 * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Set</span> a pause to prevent showing <span class=\"x x-first x-last\">an </span>in<span class=\"pl-k\">-</span>app automatically. <span class=\"pl-smi\">By</span> <span class=\"pl-k\">default</span> the value is set to <span class=\"pl-c1\">false</span>.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Set</span> a pause to prevent showing in<span class=\"pl-k\">-</span>app<span class=\"x x-first x-last\"> messages</span> automatically. <span class=\"pl-smi\">By</span> <span class=\"pl-k\">default</span> the value is set to <span class=\"pl-c1\">false</span>.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T19:10:01Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n+    }\n+\n+    /**\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.", "originalCommit": "5f2e1853ec35634943dfe83b072e42a6528755e3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f99dec98d4d498619f2d21df872524270618e897", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYyODA4Mg==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466628082", "body": "```suggestion\r\n     * @param paused Whether to pause showing in-app messages.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param paused Whether to pause showing an in-app.\n          \n          \n            \n                 * @param paused Whether to pause showing in-app messages.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@param</span> paused <span class=\"pl-smi\">Whether</span> to pause showing <span class=\"x x-first x-last\">an </span>in<span class=\"pl-k\">-</span>app.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@param</span> paused <span class=\"pl-smi\">Whether</span> to pause showing in<span class=\"pl-k\">-</span>app<span class=\"x x-first x-last\"> messages</span>.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "vbabenkoru", "createdAt": "2020-08-06T19:10:13Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n+    }\n+\n+    /**\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing an in-app.", "originalCommit": "5f2e1853ec35634943dfe83b072e42a6528755e3", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f99dec98d4d498619f2d21df872524270618e897", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}, "revised_code_in_main": {"commit": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "changed_code": [{"header": "diff --git a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\nindex c1ee5a51..1a75ff4b 100644\n--- a/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n+++ b/iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java\n", "chunk": "@@ -140,8 +140,8 @@ public class IterableInAppManager implements IterableActivityMonitor.AppStateCal\n     }\n \n     /**\n-     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n-     * @param paused Whether to pause showing an in-app.\n+     * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing in-app messages.\n      */\n     public void setAutoDisplayPaused(boolean paused) {\n         this.autoDisplayPaused = paused;\n", "next_change": null}]}, "commits_in_main": [{"oid": "5df6344c62cec7dabd19e648528792b1f63bc3e8", "message": "Merge commit", "committedDate": null}, {"oid": "9efeae88082a0ea155d6be80c1f47ff4aa8d19a7", "committedDate": "2020-08-27 16:42:35 -0700", "message": "[MOB-1876] - Consume a message after click/back"}, {"oid": "81d4befe983b639f1c8b3646bd0a9c3eae9d6bc3", "committedDate": "2021-01-22 16:39:18 -0800", "message": "implement in-app priority"}, {"oid": "fb92092f31c3e3d7ce5d0e45be00a50f469174f1", "committedDate": "2021-01-25 10:47:09 -0800", "message": "remove unused import"}, {"oid": "661de76f8f14011ba2a6c919021246390569f8c1", "committedDate": "2021-01-25 11:08:28 -0800", "message": "extract message priority sorting into function"}, {"oid": "d27fe13aa1e6836d88dcf6a0407490da5273f060", "committedDate": "2021-02-25 16:46:35 -0800", "message": "add check to skip over messages with read = true"}, {"oid": "20327c2d5db68319b595acfb15d87ca6784f991e", "committedDate": "2021-03-01 17:19:09 -0800", "message": "update in-app read state if needed"}, {"oid": "afc88040339bc3767ac862cfef67cc920bc8142b", "committedDate": "2021-03-03 17:04:29 -0800", "message": "fix read state difference check"}, {"oid": "c515ec2ef074740d35c462e6193ca744c7d4bae4", "committedDate": "2021-03-04 17:38:08 -0800", "message": "add test for synchronizing read state"}, {"oid": "b866950ba812e03bf25b544e0713d9e574dccf3f", "committedDate": "2021-03-10 12:26:21 -0800", "message": "refactor to functions for clarity"}, {"oid": "8c88077e4fa4e9e9c4e8064d9e44f2a7079882ca", "committedDate": "2021-03-11 10:39:41 -0800", "message": "simplify checks"}, {"oid": "6f7f2613f0a001fa09b5bc45e929266031551759", "committedDate": "2021-03-28 14:19:17 -0700", "message": "[MOB-2762] - Bug fix - In App read state"}, {"oid": "9bc7533e6035e049b6227ff4c1fb7fce386ec88d", "committedDate": "2021-03-29 10:36:04 -0700", "message": "Revision 1"}, {"oid": "bf48b2e37a2843c1634547432f239316a9cd0a2b", "committedDate": "2021-08-13 23:59:26 +0530", "message": "[MOB-3091] - Sync In App after initialization"}, {"oid": "8303ff28582b7d943322b1cd8c97f6bad86da9f7", "committedDate": "2021-10-20 13:14:38 -0700", "message": "ignore messages that are already read for delivery"}, {"oid": "3733809ee492f6fb45717a36df5ed6ec0e33a160", "committedDate": "2021-10-20 14:00:39 -0700", "message": "fix lint check"}, {"oid": "d2ec0735f16292d4c6a2510eb819613dc274c5e4", "committedDate": "2021-12-16 17:55:22 -0800", "message": "implement protocol blocking"}, {"oid": "00446867595361e4c3787247761bf5806acbdefe", "committedDate": "2021-12-22 13:37:09 -0800", "message": "Suggested modifications"}, {"oid": "2bfb786453bdc527544450f336e5a12990a98169", "committedDate": "2021-12-22 14:40:04 -0800", "message": "Remove allowedProtocols passing between modules"}]}, {"oid": "f99dec98d4d498619f2d21df872524270618e897", "url": "https://github.com/Iterable/iterable-android-sdk/commit/f99dec98d4d498619f2d21df872524270618e897", "message": "Apply suggestions from code review\n\nCo-authored-by: Victor Babenko <victor@iterable.com>", "committedDate": "2020-08-06T19:11:16Z", "type": "commit"}]}