{"pr_number": 265, "pr_title": "Test if services recognizes their own items urls", "pr_author": "mauriciocolli", "pr_createdAt": "2020-02-27T03:43:23Z", "pr_url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/265", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY5NDUzOQ==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/265#discussion_r385694539", "body": "Shouldn'y the thumbnail url be tested here, too? I'd suggest creating a function in test utils that does this, so that it can be re-used anywhere:\r\n```java\r\nvoid assertThumbnailUrlOk(@Nullable String thumbnailUrl) {\r\n    if (thumbnailUrl != null && !thumbnailUrl.isEmpty()) {\r\n        assertIsSecureUrl(thumbnailUrl);\r\n    }\r\n}\r\n```", "bodyText": "Shouldn'y the thumbnail url be tested here, too? I'd suggest creating a function in test utils that does this, so that it can be re-used anywhere:\nvoid assertThumbnailUrlOk(@Nullable String thumbnailUrl) {\n    if (thumbnailUrl != null && !thumbnailUrl.isEmpty()) {\n        assertIsSecureUrl(thumbnailUrl);\n    }\n}", "bodyHTML": "<p dir=\"auto\">Shouldn'y the thumbnail url be tested here, too? I'd suggest creating a function in test utils that does this, so that it can be re-used anywhere:</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"void assertThumbnailUrlOk(@Nullable String thumbnailUrl) {\n    if (thumbnailUrl != null &amp;&amp; !thumbnailUrl.isEmpty()) {\n        assertIsSecureUrl(thumbnailUrl);\n    }\n}\"><pre><span class=\"pl-k\">void</span> assertThumbnailUrlOk(<span class=\"pl-k\">@Nullable</span> <span class=\"pl-smi\">String</span> thumbnailUrl) {\n    <span class=\"pl-k\">if</span> (thumbnailUrl <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span> <span class=\"pl-k\">&amp;&amp;</span> <span class=\"pl-k\">!</span>thumbnailUrl<span class=\"pl-k\">.</span>isEmpty()) {\n        assertIsSecureUrl(thumbnailUrl);\n    }\n}</pre></div>", "author": "Stypox", "createdAt": "2020-02-28T13:28:21Z", "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/DefaultTests.java", "diffHunk": "@@ -37,34 +51,56 @@ public static void defaultTestListOfItems(int expectedServiceId, List<? extends\n                     assertTrue(\"Upload date not in the past\", uploadDate.date().before(Calendar.getInstance()));\n                 }\n \n+            } else if (item instanceof ChannelInfoItem) {\n+                final ChannelInfoItem channelInfoItem = (ChannelInfoItem) item;\n+                assertExpectedLinkType(expectedService, channelInfoItem.getUrl(), LinkType.CHANNEL);\n+\n+            } else if (item instanceof PlaylistInfoItem) {\n+                final PlaylistInfoItem playlistInfoItem = (PlaylistInfoItem) item;\n+                assertExpectedLinkType(expectedService, playlistInfoItem.getUrl(), LinkType.PLAYLIST);", "originalCommit": "f51da738370954d5e925adaa7192bdf18568fd61", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA1NDcyNg==", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/265#discussion_r386054726", "bodyText": "They are already being tested, look at this check above.", "author": "mauriciocolli", "createdAt": "2020-02-29T20:48:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY5NDUzOQ=="}], "type": "inlineReview"}, {"oid": "e590417cc442041941d23005d74496c0e48a539d", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/e590417cc442041941d23005d74496c0e48a539d", "message": "Test if services recognizes their own items urls", "committedDate": "2020-03-01T11:57:18Z", "type": "commit"}, {"oid": "90ae5fbea2d610075a33b16199cc867d5e1190cb", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/90ae5fbea2d610075a33b16199cc867d5e1190cb", "message": "Improve kiosk tests across services", "committedDate": "2020-03-01T11:57:18Z", "type": "commit"}, {"oid": "90ae5fbea2d610075a33b16199cc867d5e1190cb", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/90ae5fbea2d610075a33b16199cc867d5e1190cb", "message": "Improve kiosk tests across services", "committedDate": "2020-03-01T11:57:18Z", "type": "forcePushed"}]}