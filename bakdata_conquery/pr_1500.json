{"pr_number": 1500, "pr_title": "sets the shared groups wenn a specific form config is requested", "pr_author": "thoniTUB", "pr_createdAt": "2020-12-14T11:47:01Z", "pr_url": "https://github.com/bakdata/conquery/pull/1500", "timeline": [{"oid": "83e9e0f791f7ed6a9cd0aae6c426bef63905496a", "url": "https://github.com/bakdata/conquery/commit/83e9e0f791f7ed6a9cd0aae6c426bef63905496a", "message": "sets the shared groups wenn a specific form config is requested", "committedDate": "2020-12-14T11:46:28Z", "type": "commit"}, {"oid": "47acbad4894605392493cb7604c7077579a9dfdd", "url": "https://github.com/bakdata/conquery/commit/47acbad4894605392493cb7604c7077579a9dfdd", "message": "automatic update to docs", "committedDate": "2020-12-14T11:49:14Z", "type": "commit"}, {"oid": "6d1767354cfae36f3143bea12051fe8ef96b90c4", "url": "https://github.com/bakdata/conquery/commit/6d1767354cfae36f3143bea12051fe8ef96b90c4", "message": "fixes share logic to be more RESTful like", "committedDate": "2020-12-14T13:29:27Z", "type": "commit"}, {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19", "url": "https://github.com/bakdata/conquery/commit/a77caceca4f5685cdfe4e1347a9e52f0639c3a19", "message": "automatic update to docs", "committedDate": "2020-12-14T13:32:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4NzkzNg==", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542387936", "body": "Die Semantik ist, `wenn Gruppen, dann Shared`?", "bodyText": "Die Semantik ist, wenn Gruppen, dann Shared?", "bodyHTML": "<p dir=\"auto\">Die Semantik ist, <code>wenn Gruppen, dann Shared</code>?</p>", "author": "awildturtok", "createdAt": "2020-12-14T13:36:32Z", "path": "backend/src/main/java/com/bakdata/conquery/models/execution/Shareable.java", "diffHunk": "@@ -44,74 +42,32 @@\n \t\t\treturn QueryUtils.getNoOpEntryPoint();\n \t\t}\n \t\treturn (patch) -> {\n-\t\t\tif(patch != null && patch.getShared() != null) {\n-\t\t\t\tList<Group> groups;\n-\t\t\t\tif(patch.getGroups() != null && !patch.getGroups().isEmpty()) {\n+\t\t\tif(patch != null && patch.getGroups() != null) {", "originalCommit": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM5MzA3Ng==", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542393076", "bodyText": "Jop genau, das shared flag ist jetzt raus geflogen um die API mehr RESTful zu gestallten und es hat auch die Logik im Backend vereinfacht.\nDas Frontend holt sich erstmal die Gruppen f\u00fcr eine bestimmt Anfrage, bearbeitet diese Liste und schickt sie wieder ans Backend", "author": "thoniTUB", "createdAt": "2020-12-14T13:43:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4NzkzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA==", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542388258", "body": "```suggestion\r\n\t\t * This is usually not done very often and should be reasonable fast, so don't cache this.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.\n          \n          \n            \n            \t\t * This is usually not done very often and should be reasonable fast, so don't cache this.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">\t\t <span class=\"pl-k\">*</span> <span class=\"pl-smi\">This</span> <span class=\"x x-first x-last\">usually </span>is usually not done very often and should be reasonable fast, so don<span class=\"pl-s\"><span class=\"pl-pds\">'</span>t cache this.</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">\t\t <span class=\"pl-k\">*</span> <span class=\"pl-smi\">This</span> is usually not done very often and should be reasonable fast, so don<span class=\"pl-s\"><span class=\"pl-pds\">'</span>t cache this.</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "awildturtok", "createdAt": "2020-12-14T13:36:58Z", "path": "backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java", "diffHunk": "@@ -140,6 +146,20 @@ public FormConfigOverviewRepresentation overview(MetaStorage storage, User user)\n \t */\n \tpublic FormConfigFullRepresentation fullRepresentation(MetaStorage storage, User requestingUser){\n \t\tString ownerName = Optional.ofNullable(storage.getUser(owner)).map(User::getLabel).orElse(null);\n+\n+\t\t/* Calculate which groups can see this query.\n+\t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.", "originalCommit": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODUwNQ==", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542388505", "bodyText": "Hatten wir nicht mit genau so permission abfragen echte performance Probleme?", "author": "awildturtok", "createdAt": "2020-12-14T13:37:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM5MTIxMA==", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542391210", "bodyText": "Die Probleme gibt es bei dem Endpunkt, der alle Queries auflistet. Dieser ziehlt nur auf eine bestimmt Query ab und daher f\u00e4llt es kaum ins Gewicht.", "author": "thoniTUB", "createdAt": "2020-12-14T13:41:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA=="}], "type": "inlineReview"}, {"oid": "f080799593601dba16251b4434bcc9c9e55dc09a", "url": "https://github.com/bakdata/conquery/commit/f080799593601dba16251b4434bcc9c9e55dc09a", "message": "Update backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java\n\nCo-authored-by: awildturtok <1553491+awildturtok@users.noreply.github.com>", "committedDate": "2020-12-14T13:44:00Z", "type": "commit"}]}