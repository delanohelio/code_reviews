{"pr_number": 7587, "pr_title": "CB-5992 Restore disabled test cases for SDX Repair E2E", "pr_author": "aszegedi", "pr_createdAt": "2020-03-14T16:24:29Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7587", "timeline": [{"oid": "21b87df3501c5f540ca47ca40eaa4afe8c7701a3", "url": "https://github.com/hortonworks/cloudbreak/commit/21b87df3501c5f540ca47ca40eaa4afe8c7701a3", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T10:13:49Z", "type": "forcePushed"}, {"oid": "f1a6c0a7958f0f9bbf4a999c8ee7ec839e3d931b", "url": "https://github.com/hortonworks/cloudbreak/commit/f1a6c0a7958f0f9bbf4a999c8ee7ec839e3d931b", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T10:15:49Z", "type": "forcePushed"}, {"oid": "b9e36039ef285a02578caa8dc885db9421053d91", "url": "https://github.com/hortonworks/cloudbreak/commit/b9e36039ef285a02578caa8dc885db9421053d91", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T11:11:05Z", "type": "forcePushed"}, {"oid": "d766744543544e78e610a483cd199b3d719f1ed4", "url": "https://github.com/hortonworks/cloudbreak/commit/d766744543544e78e610a483cd199b3d719f1ed4", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T15:37:15Z", "type": "forcePushed"}, {"oid": "f36858b3f57073f78f66cf33cbfefefceb1aa43b", "url": "https://github.com/hortonworks/cloudbreak/commit/f36858b3f57073f78f66cf33cbfefefceb1aa43b", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T15:49:26Z", "type": "forcePushed"}, {"oid": "7ef9171017917eb52ac22d8ed5d5c5c2788eeaec", "url": "https://github.com/hortonworks/cloudbreak/commit/7ef9171017917eb52ac22d8ed5d5c5c2788eeaec", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-16T15:50:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5MTA3Mw==", "url": "https://github.com/hortonworks/cloudbreak/pull/7587#discussion_r393491073", "body": "This will break other testcases and limit the configurability within the DTO.\r\nWhat if I don't want to use the DEFAULT_SDX_BLUEPRINT for my InternalSdxDto?\r\n\r\nIn a builder, for e.g. withStackRequets you should only change the object in the parameter.\r\nIt's also quite strange to have such a method where we pass both of these other testDto's\r\n\r\nI've already did a similar refactor for this:\r\nhttps://github.com/hortonworks/cloudbreak/blob/60cb3499c5b82b4f5ed39b50c28ce3dc35fd87b3/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/sdx/SdxInternalTestDto.java#L89", "bodyText": "This will break other testcases and limit the configurability within the DTO.\nWhat if I don't want to use the DEFAULT_SDX_BLUEPRINT for my InternalSdxDto?\nIn a builder, for e.g. withStackRequets you should only change the object in the parameter.\nIt's also quite strange to have such a method where we pass both of these other testDto's\nI've already did a similar refactor for this:\n\n  \n    \n      cloudbreak/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/sdx/SdxInternalTestDto.java\n    \n    \n         Line 89\n      in\n      60cb349\n    \n    \n    \n    \n\n        \n          \n           .withLightDutySettings()", "bodyHTML": "<p dir=\"auto\">This will break other testcases and limit the configurability within the DTO.<br>\nWhat if I don't want to use the DEFAULT_SDX_BLUEPRINT for my InternalSdxDto?</p>\n<p dir=\"auto\">In a builder, for e.g. withStackRequets you should only change the object in the parameter.<br>\nIt's also quite strange to have such a method where we pass both of these other testDto's</p>\n<p dir=\"auto\">I've already did a similar refactor for this:<br>\n<div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom color-bg-subtle\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/hortonworks/cloudbreak/blob/60cb3499c5b82b4f5ed39b50c28ce3dc35fd87b3/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/sdx/SdxInternalTestDto.java#L89\">cloudbreak/integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/sdx/SdxInternalTestDto.java</a>\n    </p>\n    <p class=\"mb-0 color-fg-muted\">\n         Line 89\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/hortonworks/cloudbreak/commit/60cb3499c5b82b4f5ed39b50c28ce3dc35fd87b3\">60cb349</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L89\" class=\"blob-num border-0 px-3 py-0 color-bg-default js-line-number\" data-line-number=\"89\"></td>\n          <td id=\"LC89\" class=\"blob-code border-0 px-3 py-0 color-bg-default blob-code-inner js-file-line\"> .withLightDutySettings() </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>", "author": "lnardai", "createdAt": "2020-03-17T07:42:04Z", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/dto/sdx/SdxInternalTestDto.java", "diffHunk": "@@ -172,6 +172,19 @@ private SdxInternalTestDto withLightDutySettings() {\n     }\n \n     private SdxInternalTestDto withStackRequest(StackTestDto stack, ClusterTestDto cluster) {\n+        if (getTestContext().given(InstanceGroupTestDto.class).getResponse() == null) {", "originalCommit": "7ef9171017917eb52ac22d8ed5d5c5c2788eeaec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7860fba3a77574e465723a7492be9c8aab7b9f35", "url": "https://github.com/hortonworks/cloudbreak/commit/7860fba3a77574e465723a7492be9c8aab7b9f35", "message": "CB-6103 Fix Default SDX Internal Stack Request", "committedDate": "2020-03-17T22:36:58Z", "type": "forcePushed"}, {"oid": "4f1340e49606db78b76e2d64a04649c7a8a17aac", "url": "https://github.com/hortonworks/cloudbreak/commit/4f1340e49606db78b76e2d64a04649c7a8a17aac", "message": "CB-6103 Fix Default SDX Internal Stack Request", "committedDate": "2020-03-17T22:43:27Z", "type": "forcePushed"}, {"oid": "d4f9b29c5a5dca0d36aac7da75584d6278b57a41", "url": "https://github.com/hortonworks/cloudbreak/commit/d4f9b29c5a5dca0d36aac7da75584d6278b57a41", "message": "CB-5992 Restore disabled test cases for SDX Repair E2E", "committedDate": "2020-03-17T22:49:20Z", "type": "commit"}, {"oid": "15979a62e0e02356a288f034636c26448669599a", "url": "https://github.com/hortonworks/cloudbreak/commit/15979a62e0e02356a288f034636c26448669599a", "message": "CB-6103 Fix Default SDX Internal Stack Request", "committedDate": "2020-03-17T22:49:20Z", "type": "commit"}, {"oid": "15979a62e0e02356a288f034636c26448669599a", "url": "https://github.com/hortonworks/cloudbreak/commit/15979a62e0e02356a288f034636c26448669599a", "message": "CB-6103 Fix Default SDX Internal Stack Request", "committedDate": "2020-03-17T22:49:20Z", "type": "forcePushed"}]}