{"pr_number": 5122, "pr_title": "show first run again", "pr_author": "tobiasKaminsky", "pr_createdAt": "2020-01-08T10:28:24Z", "pr_url": "https://github.com/nextcloud/android/pull/5122", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk1MzM5Ng==", "url": "https://github.com/nextcloud/android/pull/5122#discussion_r364953396", "body": "This part was moved in this commit:\r\n\r\nhttps://github.com/nextcloud/android/commit/d7d1c475aebb7b7e92b98c3d36dbf66c7a244d86\r\n\r\nIf you loot at it, you'll see that this code was previously in a wrong `onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState)` method.\r\n\r\nIt was a bug that I introduced while refactoring `Account`-related code in `BaseActivity`, caused by IDE autocompletion - I simply typed wrong method signature while overriding `onCreate`. We didn't notice this as it works by accident simply becuase numerious calls to `setAccount` in derived activities.", "bodyText": "This part was moved in this commit:\nd7d1c47\nIf you loot at it, you'll see that this code was previously in a wrong onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState) method.\nIt was a bug that I introduced while refactoring Account-related code in BaseActivity, caused by IDE autocompletion - I simply typed wrong method signature while overriding onCreate. We didn't notice this as it works by accident simply becuase numerious calls to setAccount in derived activities.", "bodyHTML": "<p dir=\"auto\">This part was moved in this commit:</p>\n<p dir=\"auto\"><a class=\"commit-link\" data-hovercard-type=\"commit\" data-hovercard-url=\"https://github.com/nextcloud/android/commit/d7d1c475aebb7b7e92b98c3d36dbf66c7a244d86/hovercard\" href=\"https://github.com/nextcloud/android/commit/d7d1c475aebb7b7e92b98c3d36dbf66c7a244d86\"><tt>d7d1c47</tt></a></p>\n<p dir=\"auto\">If you loot at it, you'll see that this code was previously in a wrong <code>onCreate(@Nullable Bundle savedInstanceState, @Nullable PersistableBundle persistentState)</code> method.</p>\n<p dir=\"auto\">It was a bug that I introduced while refactoring <code>Account</code>-related code in <code>BaseActivity</code>, caused by IDE autocompletion - I simply typed wrong method signature while overriding <code>onCreate</code>. We didn't notice this as it works by accident simply becuase numerious calls to <code>setAccount</code> in derived activities.</p>", "author": "ezaquarii", "createdAt": "2020-01-09T20:50:07Z", "path": "src/main/java/com/owncloud/android/ui/activity/BaseActivity.java", "diffHunk": "@@ -69,13 +68,6 @@ public UserAccountManager getUserAccountManager() {\n         return accountManager;\n     }\n \n-    @Override\n-    protected void onCreate(@Nullable Bundle savedInstanceState) {", "originalCommit": "a4832ca8156e414fe30ba28c1feb8019b04f84a0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk1NDUxNA==", "url": "https://github.com/nextcloud/android/pull/5122#discussion_r364954514", "body": "This is what closes the `FirstRunActivity`. \r\n\r\nRemoving it wil break `FileListActivity`, causing empty file list after creating new account:\r\nhttps://github.com/nextcloud/android/pull/5031#discussion_r359570614", "bodyText": "This is what closes the FirstRunActivity.\nRemoving it wil break FileListActivity, causing empty file list after creating new account:\n#5031 (comment)", "bodyHTML": "<p dir=\"auto\">This is what closes the <code>FirstRunActivity</code>.</p>\n<p dir=\"auto\">Removing it wil break <code>FileListActivity</code>, causing empty file list after creating new account:<br>\n<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"539713632\" data-permission-text=\"Title is private\" data-url=\"https://github.com/nextcloud/android/issues/5031\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/nextcloud/android/pull/5031/hovercard?comment_id=359570614&amp;comment_type=review_comment\" href=\"https://github.com/nextcloud/android/pull/5031#discussion_r359570614\">#5031 (comment)</a></p>", "author": "ezaquarii", "createdAt": "2020-01-09T20:53:00Z", "path": "src/main/java/com/owncloud/android/ui/activity/BaseActivity.java", "diffHunk": "@@ -178,7 +170,6 @@ protected void swapToDefaultAccount() {\n         if (newAccount == null) {\n             /// no account available: force account creation\n             createAccount(true);\n-            finish();", "originalCommit": "a4832ca8156e414fe30ba28c1feb8019b04f84a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc2ODE1NQ==", "url": "https://github.com/nextcloud/android/pull/5122#discussion_r367768155", "bodyText": "Yup, that's indeed what happens :-/  @tobiasKaminsky ?", "author": "mario", "createdAt": "2020-01-17T04:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk1NDUxNA=="}], "type": "inlineReview"}, {"oid": "87dae2ef041a0dd3912c8dd1b8cb4747fb099f28", "url": "https://github.com/nextcloud/android/commit/87dae2ef041a0dd3912c8dd1b8cb4747fb099f28", "message": "show first run again\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-01-10T08:47:15Z", "type": "commit"}, {"oid": "87dae2ef041a0dd3912c8dd1b8cb4747fb099f28", "url": "https://github.com/nextcloud/android/commit/87dae2ef041a0dd3912c8dd1b8cb4747fb099f28", "message": "show first run again\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-01-10T08:47:15Z", "type": "forcePushed"}]}