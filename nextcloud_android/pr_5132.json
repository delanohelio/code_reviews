{"pr_number": 5132, "pr_title": "[stable-3.10] Retrieve parent folder before removing document", "pr_author": "backportbot-nextcloud", "pr_createdAt": "2020-01-09T13:50:03Z", "pr_url": "https://github.com/nextcloud/android/pull/5132", "timeline": [{"oid": "c9ddcd1c297be64377064c4c9951158b45b6c645", "url": "https://github.com/nextcloud/android/commit/c9ddcd1c297be64377064c4c9951158b45b6c645", "message": "Retrieve parent folder before removing document\n\nOtherwise trying to get the parent folder will cause a NPE\n\nFixes #5015\n\nSigned-off-by: Torsten Grote <t@grobox.de>", "committedDate": "2020-01-09T13:49:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc0OTY1Ng==", "url": "https://github.com/nextcloud/android/pull/5132#discussion_r364749656", "body": "![Codacy](https://app.codacy.com/assets/images/favicon.png) Issue found: [Avoid declaring a variable if it is unreferenced before a possible exit point.](https://app.codacy.com/manual/Nextcloud/android/pullRequest?prid=4791320)", "bodyText": "Issue found: Avoid declaring a variable if it is unreferenced before a possible exit point.", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\"><img src=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\" alt=\"Codacy\" data-canonical-src=\"https://app.codacy.com/assets/images/favicon.png\" style=\"max-width: 100%;\"></a> Issue found: <a href=\"https://app.codacy.com/manual/Nextcloud/android/pullRequest?prid=4791320\" rel=\"nofollow\">Avoid declaring a variable if it is unreferenced before a possible exit point.</a></p>", "author": "nextcloud-android-bot", "createdAt": "2020-01-09T13:54:38Z", "path": "src/main/java/com/owncloud/android/providers/DocumentsStorageProvider.java", "diffHunk": "@@ -573,6 +573,8 @@ public void deleteDocument(String documentId) throws FileNotFoundException {\n         }\n \n         Document document = toDocument(documentId);\n+        // get parent here, because it is not available anymore after the document was deleted\n+        Document parentFolder = document.getParent();", "originalCommit": "c9ddcd1c297be64377064c4c9951158b45b6c645", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}