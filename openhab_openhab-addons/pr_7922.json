{"pr_number": 7922, "pr_title": "[danfossairunit] Fixed null warnings and errors", "pr_author": "kaikreuzer", "pr_createdAt": "2020-06-14T19:45:18Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7922", "timeline": [{"oid": "d90d9c16683ef71af65f4748c7b4f1130f451371", "url": "https://github.com/openhab/openhab-addons/commit/d90d9c16683ef71af65f4748c7b4f1130f451371", "message": "fixed null warnings and errors\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-06-14T19:43:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440371578", "body": "I don't think this really fixes the null warning.\r\nYou would need to do your null check with a local variable instead of the field.\r\nAlso to reduce indentation changes I prefer the way it was written earlier, if only corrected slightly. \r\n```suggestion\r\n        DanfossAirUnit danfossAirUnit = hrv;\r\n        if (hrv == null) {\r\n            return;\r\n        }\r\n```", "bodyText": "I don't think this really fixes the null warning.\nYou would need to do your null check with a local variable instead of the field.\nAlso to reduce indentation changes I prefer the way it was written earlier, if only corrected slightly.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (hrv != null) {\n          \n          \n            \n                        DanfossAirUnit danfossAirUnit = hrv;\n          \n          \n            \n                    DanfossAirUnit danfossAirUnit = hrv;\n          \n          \n            \n                    if (hrv == null) {\n          \n          \n            \n                        return;\n          \n          \n            \n                    }", "bodyHTML": "<p dir=\"auto\">I don't think this really fixes the null warning.<br>\nYou would need to do your null check with a local variable instead of the field.<br>\nAlso to reduce indentation changes I prefer the way it was written earlier, if only corrected slightly.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (hrv <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">DanfossAirUnit</span> danfossAirUnit <span class=\"pl-k\">=</span> hrv;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-smi\">DanfossAirUnit</span> danfossAirUnit <span class=\"pl-k\">=</span> hrv;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (hrv <span class=\"pl-k\">==</span> <span class=\"pl-c1\">null</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-k\">return</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "cpmeister", "createdAt": "2020-06-15T18:39:05Z", "path": "bundles/org.openhab.binding.danfossairunit/src/main/java/org/openhab/binding/danfossairunit/internal/DanfossAirUnitHandler.java", "diffHunk": "@@ -86,56 +87,55 @@ public void initialize() {\n         valueCache = new ValueCache(config.updateUnchangedValuesEveryMillis);\n         try {\n             hrv = new DanfossAirUnit(InetAddress.getByName(config.host), 30046);\n+            DanfossAirUnit danfossAirUnit = hrv;\n+            scheduler.execute(() -> {\n+                try {\n+                    thing.setProperty(PROPERTY_UNIT_NAME, danfossAirUnit.getUnitName());\n+                    thing.setProperty(PROPERTY_SERIAL, danfossAirUnit.getUnitSerialNumber());\n+                    pollingJob = scheduler.scheduleWithFixedDelay(this::updateAllChannels, 5, config.refreshInterval,\n+                            TimeUnit.SECONDS);\n+                    updateStatus(ThingStatus.ONLINE);\n+\n+                } catch (IOException e) {\n+                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.OFFLINE.COMMUNICATION_ERROR, e.getMessage());\n+                }\n+            });\n         } catch (UnknownHostException e) {\n             updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.OFFLINE.COMMUNICATION_ERROR,\n                     \"Unknown host: \" + config.host);\n             return;\n         }\n-\n-        scheduler.execute(() -> {\n-            try {\n-                thing.setProperty(PROPERTY_UNIT_NAME, hrv.getUnitName());\n-                thing.setProperty(PROPERTY_SERIAL, hrv.getUnitSerialNumber());\n-                pollingJob = scheduler.scheduleWithFixedDelay(this::updateAllChannels, 5, config.refreshInterval,\n-                        TimeUnit.SECONDS);\n-                updateStatus(ThingStatus.ONLINE);\n-\n-            } catch (IOException e) {\n-                updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.OFFLINE.COMMUNICATION_ERROR, e.getMessage());\n-            }\n-        });\n     }\n \n     private void updateAllChannels() {\n-        if (hrv == null) {\n-            return;\n-        }\n-        DanfossAirUnit danfossAirUnit = hrv;\n-        logger.debug(\"Updating DanfossHRV data '{}'\", getThing().getUID());\n+        if (hrv != null) {\n+            DanfossAirUnit danfossAirUnit = hrv;", "originalCommit": "d90d9c16683ef71af65f4748c7b4f1130f451371", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4MTk4NA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440381984", "bodyText": "Try it and you will see that it fixes the null warning. If you do a not-null check and then assign the value you have checked to a local var, it will treat the local var as NonNull. It cannot treat hrv as nnNonNull, since it is a field that could potentially change its value to null at any time.", "author": "kaikreuzer", "createdAt": "2020-06-15T18:58:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4ODkwNQ==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440388905", "bodyText": "I must say that it also surprises me. Are both maven and Eclipse fine now? Technically that is not correct because a lot can change between checking and assigning given no locking or synchronization seems to be applied.", "author": "martinvw", "createdAt": "2020-06-15T19:11:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4OTMzMA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440389330", "bodyText": "I'm confused, are you agreeing with me or not?", "author": "cpmeister", "createdAt": "2020-06-15T19:12:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDYxOQ==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440390619", "bodyText": "@martinvw Afaik the compiler makes sure that this is the way to make sure that you can safely access a field as nonnull after an if - it only works if it is the very next line after the if.", "author": "kaikreuzer", "createdAt": "2020-06-15T19:14:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MzE5Ng==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440393196", "bodyText": "I'm confused, are you agreeing with me or not?\n\nIf you are talking to me, yes @cpmeister I agree with you.", "author": "martinvw", "createdAt": "2020-06-15T19:19:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5OTczMw==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440399733", "bodyText": "@martinvw Afaik the compiler makes sure that this is the way to make sure that you can safely access a field as nonnull after an if - it only works if it is the very next line after the if.\n\nWhat a feature, I can imagine that it fixes a lot of broken code, but is it part of the JDK/JRE specs or an implementation detail for specific JDK/JRE's?\nAnd yes I tested it. Even adding a System.out.print() above it breaks it \ud83d\ude04", "author": "martinvw", "createdAt": "2020-06-15T19:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQwMDQ5OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440400499", "bodyText": "I must say that given someone can break if by adding any statement above I would say its still best practice to do it really local so that it does not depend on this corner case :-)", "author": "martinvw", "createdAt": "2020-06-15T19:33:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQwNzUzMw==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440407533", "bodyText": "@kaikreuzer I did some more tests it's not true, my first tests give false positives because of context switching, but technically this should be the scenario you describe:\nclass Scratch {\n    private static String field = null;\n    public static void main(String[] args) {\n        for (int i = 0; i < 10_002; i++) {\n            new Thread(new Test()).start();\n        }\n    }\n\n    static class Test implements Runnable {\n        @Override\n        public void run() {\n            while (true) {\n                field = \"\";\n\n                try {\n                    Thread.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                if (field != null) {\n                    System.out.print(\"- \" + field.length());\n                }\n\n                field = null;\n            }\n        }\n    }\n}\nWithout the Thread.sleep it does not give any NPE's but with it does most likely because it causes more context switches.", "author": "martinvw", "createdAt": "2020-06-15T19:47:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQwOTczNg==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440409736", "bodyText": "The correct code would be\n                if (field != null) {\n                    String localField = field;\n                    System.out.print(\"- \" + localField.length());\n                }\n\nCan you try this?", "author": "kaikreuzer", "createdAt": "2020-06-15T19:51:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQxNDE3NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440414175", "bodyText": "Updated code:\nclass Scratch {\n    private static String field = null;\n    public static void main(String[] args) {\n        for (int i = 0; i < 10_002; i++) {\n            new Thread(new Test()).start();\n        }\n    }\n\n    static class Test implements Runnable {\n        @Override\n        public void run() {\n            while (true) {\n                field = \"\";\n\n                try {\n                    Thread.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                if (field != null) {\n                    var local = field;\n                    System.out.print(\"- \" + local.length());\n                }\n\n                field = null;\n            }\n        }\n    }\n}\nOutput still contains NPE's", "author": "martinvw", "createdAt": "2020-06-15T20:00:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUxNDE4OA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440514188", "bodyText": "oof, I just realized my original suggestion was bogus due to my oversight. whoops. Sorry for the confusion.", "author": "cpmeister", "createdAt": "2020-06-16T00:12:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MTU3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MjgyOQ==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440372829", "body": "```suggestion\r\n                DanfossAirUnit danfossAirUnit = hrv;\r\n                if (danfossAirUnit != null) {\r\n                    \r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (hrv != null) {\n          \n          \n            \n                                DanfossAirUnit danfossAirUnit = hrv;\n          \n          \n            \n                            DanfossAirUnit danfossAirUnit = hrv;\n          \n          \n            \n                            if (danfossAirUnit != null) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-k\">if</span> (hrv <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-smi\">DanfossAirUnit</span> danfossAirUnit <span class=\"pl-k\">=</span> hrv;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-smi\">DanfossAirUnit</span> danfossAirUnit <span class=\"pl-k\">=</span> hrv;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-k\">if</span> (danfossAirUnit <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span>) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    </td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "cpmeister", "createdAt": "2020-06-15T18:41:21Z", "path": "bundles/org.openhab.binding.danfossairunit/src/main/java/org/openhab/binding/danfossairunit/internal/DanfossAirUnitHandler.java", "diffHunk": "@@ -62,15 +60,18 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n             updateAllChannels();\n         } else {\n             try {\n-                if (hrv == null) {\n+                if (hrv != null) {\n+                    DanfossAirUnit danfossAirUnit = hrv;", "originalCommit": "d90d9c16683ef71af65f4748c7b4f1130f451371", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3NDM3OA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440374378", "body": "By assigning the non-null value the local variable first it will make the null checker happy.\r\n```suggestion\r\n            DanfossAirUnit danfossAirUnit = new DanfossAirUnit(InetAddress.getByName(config.host), 30046);\r\n            hrv = danfossAirUnit;\r\n```", "bodyText": "By assigning the non-null value the local variable first it will make the null checker happy.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        hrv = new DanfossAirUnit(InetAddress.getByName(config.host), 30046);\n          \n          \n            \n                        DanfossAirUnit danfossAirUnit = hrv;\n          \n          \n            \n                        DanfossAirUnit danfossAirUnit = new DanfossAirUnit(InetAddress.getByName(config.host), 30046);\n          \n          \n            \n                        hrv = danfossAirUnit;", "bodyHTML": "<p dir=\"auto\">By assigning the non-null value the local variable first it will make the null checker happy.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"89\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"x x-first x-last\">hrv</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">DanfossAirUnit</span>(<span class=\"pl-smi\">InetAddress</span><span class=\"pl-k\">.</span>getByName(config<span class=\"pl-k\">.</span>host), <span class=\"pl-c1\">30046</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"90\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi x x-first\">DanfossAirUnit</span><span class=\"x\"> danfossAirUnit </span><span class=\"pl-k x\">=</span><span class=\"x x-last\"> hrv</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"89\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi x x-first\">DanfossAirUnit</span><span class=\"x x-last\"> danfossAirUnit</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">DanfossAirUnit</span>(<span class=\"pl-smi\">InetAddress</span><span class=\"pl-k\">.</span>getByName(config<span class=\"pl-k\">.</span>host), <span class=\"pl-c1\">30046</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"90\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"x x-first\">hrv </span><span class=\"pl-k x\">=</span><span class=\"x x-last\"> danfossAirUnit</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "cpmeister", "createdAt": "2020-06-15T18:44:19Z", "path": "bundles/org.openhab.binding.danfossairunit/src/main/java/org/openhab/binding/danfossairunit/internal/DanfossAirUnitHandler.java", "diffHunk": "@@ -86,56 +87,55 @@ public void initialize() {\n         valueCache = new ValueCache(config.updateUnchangedValuesEveryMillis);\n         try {\n             hrv = new DanfossAirUnit(InetAddress.getByName(config.host), 30046);\n+            DanfossAirUnit danfossAirUnit = hrv;", "originalCommit": "d90d9c16683ef71af65f4748c7b4f1130f451371", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM4MjM3NA==", "url": "https://github.com/openhab/openhab-addons/pull/7922#discussion_r440382374", "bodyText": "I did the changes after seeing that the null checker was happy, trust me.", "author": "kaikreuzer", "createdAt": "2020-06-15T18:59:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3NDM3OA=="}], "type": "inlineReview"}, {"oid": "f42409f41dbd0d0c723f73a524d750196fb48e61", "url": "https://github.com/openhab/openhab-addons/commit/f42409f41dbd0d0c723f73a524d750196fb48e61", "message": "addressed review comments\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-06-15T19:57:11Z", "type": "commit"}]}