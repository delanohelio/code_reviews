{"pr_number": 1341, "pr_title": "added hashCode and equals method to StringListType to fix object comparison", "pr_author": "kaikreuzer", "pr_createdAt": "2020-01-25T15:16:13Z", "pr_url": "https://github.com/openhab/openhab-core/pull/1341", "timeline": [{"oid": "696a316287ef9ef307c5b581abd9c58ebd80055e", "url": "https://github.com/openhab/openhab-core/commit/696a316287ef9ef307c5b581abd9c58ebd80055e", "message": "added hashCode and equals method to StringListType to fix object comparison\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-01-25T15:14:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0Mzk3Mw==", "url": "https://github.com/openhab/openhab-core/pull/1341#discussion_r370943973", "body": "We can return the result of the comparison directly:\r\n\r\n```suggestion\r\n        return typeDetails.equals(other.typeDetails);\r\n```", "bodyText": "We can return the result of the comparison directly:\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!typeDetails.equals(other.typeDetails)) {\n          \n          \n            \n                        return false;\n          \n          \n            \n                    }\n          \n          \n            \n                    return true;\n          \n          \n            \n                    return typeDetails.equals(other.typeDetails);", "bodyHTML": "<p dir=\"auto\">We can return the result of the comparison directly:</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (<span class=\"pl-k\">!</span>typeDetails<span class=\"pl-k\">.</span>equals(other<span class=\"pl-k\">.</span>typeDetails)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-k\">return</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        }</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">return</span> <span class=\"pl-c1\">true</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">return</span> typeDetails<span class=\"pl-k\">.</span>equals(other<span class=\"pl-k\">.</span>typeDetails);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "cweitkamp", "createdAt": "2020-01-25T17:01:32Z", "path": "bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java", "diffHunk": "@@ -100,4 +101,30 @@ public static StringListType valueOf(String value) {\n         return new StringListType(value);\n     }\n \n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());\n+        return result;\n+    }\n+\n+    @Override\n+    public boolean equals(@Nullable Object obj) {\n+        if (this == obj) {\n+            return true;\n+        }\n+        if (obj == null) {\n+            return false;\n+        }\n+        if (getClass() != obj.getClass()) {\n+            return false;\n+        }\n+        StringListType other = (StringListType) obj;\n+        if (!typeDetails.equals(other.typeDetails)) {\n+            return false;\n+        }\n+        return true;", "originalCommit": "696a316287ef9ef307c5b581abd9c58ebd80055e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0NDExMQ==", "url": "https://github.com/openhab/openhab-core/pull/1341#discussion_r370944111", "body": "I think the property `typeDetails` never will be `null` as every constructor assigns some value to it. Furthermore it would be possible to add the `final` keyword to the `typeDetails` definition in [line 36](https://github.com/openhab/openhab-core/pull/1341/files#diff-4bad14d81fc15d69e4381ecc79c0f340R36).", "bodyText": "I think the property typeDetails never will be null as every constructor assigns some value to it. Furthermore it would be possible to add the final keyword to the typeDetails definition in line 36.", "bodyHTML": "<p dir=\"auto\">I think the property <code>typeDetails</code> never will be <code>null</code> as every constructor assigns some value to it. Furthermore it would be possible to add the <code>final</code> keyword to the <code>typeDetails</code> definition in <a href=\"https://github.com/openhab/openhab-core/pull/1341/files#diff-4bad14d81fc15d69e4381ecc79c0f340R36\">line 36</a>.</p>", "author": "cweitkamp", "createdAt": "2020-01-25T17:04:35Z", "path": "bundles/org.openhab.core/src/main/java/org/openhab/core/library/types/StringListType.java", "diffHunk": "@@ -100,4 +101,30 @@ public static StringListType valueOf(String value) {\n         return new StringListType(value);\n     }\n \n+    @Override\n+    public int hashCode() {\n+        final int prime = 31;\n+        int result = 1;\n+        result = prime * result + ((typeDetails == null) ? 0 : typeDetails.hashCode());", "originalCommit": "696a316287ef9ef307c5b581abd9c58ebd80055e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8d0f64026290b9b897ce85d82c320a245f50b738", "url": "https://github.com/openhab/openhab-core/commit/8d0f64026290b9b897ce85d82c320a245f50b738", "message": "addressed review comments\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-01-25T18:58:24Z", "type": "commit"}]}