{"pr_number": 3768, "pr_title": "NXP-27209: Sonar cleanup", "pr_author": "efge", "pr_createdAt": "2020-02-20T00:02:41Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/3768", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwODkyOA==", "url": "https://github.com/nuxeo/nuxeo/pull/3768#discussion_r382008928", "body": "Why not using `Duration` as well?", "bodyText": "Why not using Duration as well?", "bodyHTML": "<p dir=\"auto\">Why not using <code>Duration</code> as well?</p>", "author": "troger", "createdAt": "2020-02-20T13:49:38Z", "path": "nuxeo-services/nuxeo-platform-actions-core/src/main/java/org/nuxeo/ecm/platform/actions/ActionService.java", "diffHunk": "@@ -56,7 +56,7 @@\n \n     private static final String LOG_MIN_DURATION_KEY = \"nuxeo.actions.debug.log_min_duration_ms\";\n \n-    private long LOG_MIN_DURATION_NS = -1 * 1000000;\n+    private long LOG_MIN_DURATION_NS = -1_000_000;", "originalCommit": "4b8780ee1b52fb8518b03abd32c45c71ca5fccce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjEyNDYzNQ==", "url": "https://github.com/nuxeo/nuxeo/pull/3768#discussion_r382124635", "bodyText": "Indeed.", "author": "efge", "createdAt": "2020-02-20T16:47:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwODkyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkzMDkxNA==", "url": "https://github.com/nuxeo/nuxeo/pull/3768#discussion_r381930914", "body": "Why not keeping `\"asc\"` as the object onto we call equals method?", "bodyText": "Why not keeping \"asc\" as the object onto we call equals method?", "bodyHTML": "<p dir=\"auto\">Why not keeping <code>\"asc\"</code> as the object onto we call equals method?</p>", "author": "kevinleturc", "createdAt": "2020-02-20T11:05:09Z", "path": "nuxeo-features/nuxeo-search/nuxeo-search-rest-api/src/main/java/org/nuxeo/ecm/restapi/server/jaxrs/search/QueryExecutor.java", "diffHunk": "@@ -178,8 +178,8 @@ protected Long getMaxResults(MultivaluedMap<String, String> queryParams) {\n             }\n             for (int i = 0; i < sorts.length; i++) {\n                 String sort = sorts[i];\n-                boolean sortAscending = (orders != null && orders.length > i && \"asc\".equals(orders[i].toLowerCase()));\n-                sortInfoList.add(new SortInfo(sort, sortAscending));\n+                boolean sortAscending = (orders != null && orders.length > i && orders[i].equalsIgnoreCase(\"asc\"));", "originalCommit": "4b8780ee1b52fb8518b03abd32c45c71ca5fccce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkzMTg2Mw==", "url": "https://github.com/nuxeo/nuxeo/pull/3768#discussion_r381931863", "body": "What about using Duration like other classes?\r\n```suggestion\r\n    private long LOG_MIN_DURATION_NS = - Duration.ofMillis(1).toNanos();\r\n```", "bodyText": "What about using Duration like other classes?\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private long LOG_MIN_DURATION_NS = -1_000_000;\n          \n          \n            \n                private long LOG_MIN_DURATION_NS = - Duration.ofMillis(1).toNanos();", "bodyHTML": "<p dir=\"auto\">What about using Duration like other classes?</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">long</span> <span class=\"pl-c1\">LOG_MIN_DURATION_NS</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">-</span><span class=\"pl-c1 x x-first x-last\">1_000_000</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">long</span> <span class=\"pl-c1\">LOG_MIN_DURATION_NS</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">-</span><span class=\"x x-first\"> </span><span class=\"pl-smi x\">Duration</span><span class=\"pl-k x\">.</span><span class=\"x\">ofMillis(</span><span class=\"pl-c1 x\">1</span><span class=\"x\">)</span><span class=\"pl-k x\">.</span><span class=\"x x-last\">toNanos()</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "kevinleturc", "createdAt": "2020-02-20T11:07:12Z", "path": "nuxeo-services/nuxeo-platform-actions-core/src/main/java/org/nuxeo/ecm/platform/actions/ActionService.java", "diffHunk": "@@ -56,7 +56,7 @@\n \n     private static final String LOG_MIN_DURATION_KEY = \"nuxeo.actions.debug.log_min_duration_ms\";\n \n-    private long LOG_MIN_DURATION_NS = -1 * 1000000;\n+    private long LOG_MIN_DURATION_NS = -1_000_000;", "originalCommit": "4b8780ee1b52fb8518b03abd32c45c71ca5fccce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjEyMzAyOA==", "url": "https://github.com/nuxeo/nuxeo/pull/3768#discussion_r382123028", "bodyText": "Indeed, and I did other cleanups related to that in this class.", "author": "efge", "createdAt": "2020-02-20T16:44:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkzMTg2Mw=="}], "type": "inlineReview"}, {"oid": "154ea142b84fb9923943f801f9eee05674182890", "url": "https://github.com/nuxeo/nuxeo/commit/154ea142b84fb9923943f801f9eee05674182890", "message": "NXP-27209: Sonar cleanup", "committedDate": "2020-02-20T16:46:29Z", "type": "commit"}, {"oid": "154ea142b84fb9923943f801f9eee05674182890", "url": "https://github.com/nuxeo/nuxeo/commit/154ea142b84fb9923943f801f9eee05674182890", "message": "NXP-27209: Sonar cleanup", "committedDate": "2020-02-20T16:46:29Z", "type": "forcePushed"}]}