{"pr_number": 3675, "pr_title": "Fix-NXP-28527-Fix-TestMongoDBIndices.shouldFailWhenCreatingExistingChildNameDocument", "pr_author": "nuxeojenkins", "pr_createdAt": "2020-01-17T12:32:57Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/3675", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkyMzQ4MA==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367923480", "body": "This is too complex, we don't care about the detailed format of the human-readable message that MongoDB returns. Just check for presence of `\"E11000 duplicate key error\"` and the folder id, and avoid all this complexity (which looks way too much like white-box testing).", "bodyText": "This is too complex, we don't care about the detailed format of the human-readable message that MongoDB returns. Just check for presence of \"E11000 duplicate key error\" and the folder id, and avoid all this complexity (which looks way too much like white-box testing).", "bodyHTML": "<p dir=\"auto\">This is too complex, we don't care about the detailed format of the human-readable message that MongoDB returns. Just check for presence of <code>\"E11000 duplicate key error\"</code> and the folder id, and avoid all this complexity (which looks way too much like white-box testing).</p>", "author": "efge", "createdAt": "2020-01-17T13:00:16Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +84,13 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n+            String mongoDBName = Framework.getProperties().getProperty(MONGODB_DBNAME_PROPERTY);\n             assertTrue(\n                     cue.getMessage()\n                        .contains(String.format(\n                                \"E11000 duplicate key error collection: %s.test index: ecm:parentId_1_ecm:name_1 dup key: { : \\\"%s\\\", : \\\"%s\\\" }\",\n-                               DEFAULT_MONGODB_DBNAME, folder.getId(), DOCUMENT_NAME)));\n+                               mongoDBName, folder.getId(), DOCUMENT_NAME)));\n+", "originalCommit": "2635f1ad7c3810adba803f3a620b831825e40fd5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1MTk1MA==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367951950", "bodyText": "this is  what i did on the first dev, but i changed because most of times on our tests we check the whole message. but i will change  it to keep it more simple and readable :)", "author": "RSalem07", "createdAt": "2020-01-17T14:08:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkyMzQ4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MTUyMw==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367941523", "body": "```suggestion\r\n            String mongoDBName = Framework.getProperty(MONGODB_DBNAME_PROPERTY);\r\n```\r\nno?", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        String mongoDBName = Framework.getProperties().getProperty(MONGODB_DBNAME_PROPERTY);\n          \n          \n            \n                        String mongoDBName = Framework.getProperty(MONGODB_DBNAME_PROPERTY);\n          \n      \n    \n    \n  \n\nno?", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">String</span> mongoDBName <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Framework</span><span class=\"pl-k\">.</span><span class=\"x x-first\">getProperties()</span><span class=\"pl-k x x-last\">.</span>getProperty(<span class=\"pl-c1\">MONGODB_DBNAME_PROPERTY</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">String</span> mongoDBName <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Framework</span><span class=\"pl-k\">.</span>getProperty(<span class=\"pl-c1\">MONGODB_DBNAME_PROPERTY</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">no?</p>", "author": "ataillefer", "createdAt": "2020-01-17T13:45:16Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +84,13 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n+            String mongoDBName = Framework.getProperties().getProperty(MONGODB_DBNAME_PROPERTY);", "originalCommit": "2635f1ad7c3810adba803f3a620b831825e40fd5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1MTI4NQ==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367951285", "bodyText": "yep i just copied/past the code that was on MongoDBFeature", "author": "RSalem07", "createdAt": "2020-01-17T14:06:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MTUyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1NjUwNg==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367956506", "bodyText": "to keep the things simple/more readable i took #3675 (comment) into account which removes the dependency to Framework.getProp...", "author": "RSalem07", "createdAt": "2020-01-17T14:17:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MTUyMw=="}], "type": "inlineReview"}, {"oid": "8b1ce84c5e599875b866e8d0ae374816d32dccb3", "url": "https://github.com/nuxeo/nuxeo/commit/8b1ce84c5e599875b866e8d0ae374816d32dccb3", "message": "NXP-28527: Fix TestMongoDBIndices.shouldFailWhenCreatingExistingChildNameDocument", "committedDate": "2020-01-17T14:16:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1NzQxNg==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367957416", "body": "```suggestion\r\n            assertTrue(cue.getMessage().contains(DOCUMENT_NAME));\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        assertTrue(cue.getMessage().contains(String.format(\"%s\", DOCUMENT_NAME)));\n          \n          \n            \n                        assertTrue(cue.getMessage().contains(DOCUMENT_NAME));", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            assertTrue(cue<span class=\"pl-k\">.</span>getMessage()<span class=\"pl-k\">.</span>contains(<span class=\"pl-smi x x-first\">String</span><span class=\"pl-k x\">.</span><span class=\"x\">format(</span><span class=\"pl-s\"><span class=\"pl-pds x\">\"</span><span class=\"x\">%s</span><span class=\"pl-pds x\">\"</span></span><span class=\"x x-last\">, </span><span class=\"pl-c1\">DOCUMENT_NAME</span><span class=\"x x-first x-last\">)</span>));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            assertTrue(cue<span class=\"pl-k\">.</span>getMessage()<span class=\"pl-k\">.</span>contains(<span class=\"pl-c1\">DOCUMENT_NAME</span>));</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "ataillefer", "createdAt": "2020-01-17T14:19:13Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +82,9 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n-            assertTrue(\n-                    cue.getMessage()\n-                       .contains(String.format(\n-                               \"E11000 duplicate key error collection: %s.test index: ecm:parentId_1_ecm:name_1 dup key: { : \\\"%s\\\", : \\\"%s\\\" }\",\n-                               DEFAULT_MONGODB_DBNAME, folder.getId(), DOCUMENT_NAME)));\n+            assertTrue(cue.getMessage().contains(\"E11000 duplicate key error collection\"));\n+            assertTrue(cue.getMessage().contains(String.format(\"%s\", DOCUMENT_NAME)));", "originalCommit": "8b1ce84c5e599875b866e8d0ae374816d32dccb3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1Njg5OA==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367956898", "body": "Just `contains(DOCUMENT_NAME)` and `contains(folder.getId())`\r\nAlso you could put `cue.getMessage()` in a local variable.", "bodyText": "Just contains(DOCUMENT_NAME) and contains(folder.getId())\nAlso you could put cue.getMessage() in a local variable.", "bodyHTML": "<p dir=\"auto\">Just <code>contains(DOCUMENT_NAME)</code> and <code>contains(folder.getId())</code><br>\nAlso you could put <code>cue.getMessage()</code> in a local variable.</p>", "author": "efge", "createdAt": "2020-01-17T14:18:19Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +82,9 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n-            assertTrue(\n-                    cue.getMessage()\n-                       .contains(String.format(\n-                               \"E11000 duplicate key error collection: %s.test index: ecm:parentId_1_ecm:name_1 dup key: { : \\\"%s\\\", : \\\"%s\\\" }\",\n-                               DEFAULT_MONGODB_DBNAME, folder.getId(), DOCUMENT_NAME)));\n+            assertTrue(cue.getMessage().contains(\"E11000 duplicate key error collection\"));\n+            assertTrue(cue.getMessage().contains(String.format(\"%s\", DOCUMENT_NAME)));\n+            assertTrue(cue.getMessage().contains(String.format(\"%s\", folder.getId())));", "originalCommit": "8b1ce84c5e599875b866e8d0ae374816d32dccb3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1ODU5OQ==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367958599", "bodyText": "sorry i didn't know why i did it with String.format :(", "author": "RSalem07", "createdAt": "2020-01-17T14:21:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1Njg5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1NzU1Nw==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367957557", "body": "```suggestion\r\n            assertTrue(cue.getMessage().contains(folder.getId()));\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        assertTrue(cue.getMessage().contains(String.format(\"%s\", folder.getId())));\n          \n          \n            \n                        assertTrue(cue.getMessage().contains(folder.getId()));", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            assertTrue(cue<span class=\"pl-k\">.</span>getMessage()<span class=\"pl-k\">.</span>contains(<span class=\"pl-smi x x-first\">String</span><span class=\"pl-k x\">.</span><span class=\"x\">format(</span><span class=\"pl-s\"><span class=\"pl-pds x\">\"</span><span class=\"x\">%s</span><span class=\"pl-pds x\">\"</span></span><span class=\"x x-last\">, </span>folder<span class=\"pl-k\">.</span>getId(<span class=\"x x-first x-last\">)</span>)));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            assertTrue(cue<span class=\"pl-k\">.</span>getMessage()<span class=\"pl-k\">.</span>contains(folder<span class=\"pl-k\">.</span>getId()));</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "ataillefer", "createdAt": "2020-01-17T14:19:32Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +82,9 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n-            assertTrue(\n-                    cue.getMessage()\n-                       .contains(String.format(\n-                               \"E11000 duplicate key error collection: %s.test index: ecm:parentId_1_ecm:name_1 dup key: { : \\\"%s\\\", : \\\"%s\\\" }\",\n-                               DEFAULT_MONGODB_DBNAME, folder.getId(), DOCUMENT_NAME)));\n+            assertTrue(cue.getMessage().contains(\"E11000 duplicate key error collection\"));\n+            assertTrue(cue.getMessage().contains(String.format(\"%s\", DOCUMENT_NAME)));\n+            assertTrue(cue.getMessage().contains(String.format(\"%s\", folder.getId())));", "originalCommit": "8b1ce84c5e599875b866e8d0ae374816d32dccb3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "137540b70c4968a65fd55f8eb1ed8c57959a6707", "url": "https://github.com/nuxeo/nuxeo/commit/137540b70c4968a65fd55f8eb1ed8c57959a6707", "message": "NXP-28527: Fix TestMongoDBIndices.shouldFailWhenCreatingExistingChildNameDocument", "committedDate": "2020-01-17T14:21:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk2NzQzMg==", "url": "https://github.com/nuxeo/nuxeo/pull/3675#discussion_r367967432", "body": "Sorry, one last change: please put `message` as the first argument to `assertTrue`, so that if there's a mismatch we have the full message in the logs.\r\n\r\n    assertTrue(message, message.contains(\"E11000 duplicate key error collection\"));\r\n    assertTrue(message, message.contains(DOCUMENT_NAME));\r\n    assertTrue(message, message.contains(folder.getId()));\r\n", "bodyText": "Sorry, one last change: please put message as the first argument to assertTrue, so that if there's a mismatch we have the full message in the logs.\nassertTrue(message, message.contains(\"E11000 duplicate key error collection\"));\nassertTrue(message, message.contains(DOCUMENT_NAME));\nassertTrue(message, message.contains(folder.getId()));", "bodyHTML": "<p dir=\"auto\">Sorry, one last change: please put <code>message</code> as the first argument to <code>assertTrue</code>, so that if there's a mismatch we have the full message in the logs.</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"assertTrue(message, message.contains(&quot;E11000 duplicate key error collection&quot;));\nassertTrue(message, message.contains(DOCUMENT_NAME));\nassertTrue(message, message.contains(folder.getId()));\"><pre><code>assertTrue(message, message.contains(\"E11000 duplicate key error collection\"));\nassertTrue(message, message.contains(DOCUMENT_NAME));\nassertTrue(message, message.contains(folder.getId()));\n</code></pre></div>", "author": "efge", "createdAt": "2020-01-17T14:39:02Z", "path": "nuxeo-core/nuxeo-core-mongodb/src/test/java/org/nuxeo/ecm/core/mongodb/TestMongoDBIndices.java", "diffHunk": "@@ -83,11 +82,10 @@ public void shouldFailWhenCreatingExistingChildNameDocument() {\n             fail(\"should throw a ConcurrentUpdateException\");\n         } catch (ConcurrentUpdateException cue) {\n             assertEquals(SC_CONFLICT, cue.getStatusCode());\n-            assertTrue(\n-                    cue.getMessage()\n-                       .contains(String.format(\n-                               \"E11000 duplicate key error collection: %s.test index: ecm:parentId_1_ecm:name_1 dup key: { : \\\"%s\\\", : \\\"%s\\\" }\",\n-                               DEFAULT_MONGODB_DBNAME, folder.getId(), DOCUMENT_NAME)));\n+            String message = cue.getMessage();\n+            assertTrue(message.contains(\"E11000 duplicate key error collection\"));\n+            assertTrue(message.contains(DOCUMENT_NAME));\n+            assertTrue(message.contains(folder.getId()));", "originalCommit": "137540b70c4968a65fd55f8eb1ed8c57959a6707", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1bd45d1e49dd49b22188de0b52b7b523c41c8d06", "url": "https://github.com/nuxeo/nuxeo/commit/1bd45d1e49dd49b22188de0b52b7b523c41c8d06", "message": "NXP-28527: Fix TestMongoDBIndices.shouldFailWhenCreatingExistingChildNameDocument", "committedDate": "2020-01-17T14:43:33Z", "type": "commit"}, {"oid": "1bd45d1e49dd49b22188de0b52b7b523c41c8d06", "url": "https://github.com/nuxeo/nuxeo/commit/1bd45d1e49dd49b22188de0b52b7b523c41c8d06", "message": "NXP-28527: Fix TestMongoDBIndices.shouldFailWhenCreatingExistingChildNameDocument", "committedDate": "2020-01-17T14:43:33Z", "type": "forcePushed"}]}