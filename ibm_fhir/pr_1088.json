{"pr_number": 1088, "pr_title": "Issue 1053 - execute all fhir-server-test tests by default", "pr_author": "prb112", "pr_createdAt": "2020-05-13T20:36:49Z", "pr_url": "https://github.com/IBM/FHIR/pull/1088", "timeline": [{"oid": "2789ca86f34fb1fc2227ff5107f5e6f7c7ccc425", "url": "https://github.com/IBM/FHIR/commit/2789ca86f34fb1fc2227ff5107f5e6f7c7ccc425", "message": "Update fhir-server-test #1053\n\n- Remove unused LOINC.java\n- Refactor the testng.xml (package,classes) usage\n- Fix $apply operation issue where detail was not set\n- Move tests with special considerations to their own packages\n\t- bulkdata, db2, kafka\n\t- introduced controls in test.properties to disable or enable tests\n- Enabled all Tests\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:06:16Z", "type": "commit"}, {"oid": "c8d6ab693b68499ead5704613c94b7e94be4ca24", "url": "https://github.com/IBM/FHIR/commit/c8d6ab693b68499ead5704613c94b7e94be4ca24", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:13:26Z", "type": "commit"}, {"oid": "9cd60d3842a085c5dd5f13e3ac76e8b1e83bf1f8", "url": "https://github.com/IBM/FHIR/commit/9cd60d3842a085c5dd5f13e3ac76e8b1e83bf1f8", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:52:10Z", "type": "commit"}, {"oid": "19b30c4d98f25b6e9a4910a04763fc5424413834", "url": "https://github.com/IBM/FHIR/commit/19b30c4d98f25b6e9a4910a04763fc5424413834", "message": "Update fhir-server-test #1053\n\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:58:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424819650", "body": "what are we missing by skipping this step by default?", "bodyText": "what are we missing by skipping this step by default?", "bodyHTML": "<p dir=\"auto\">what are we missing by skipping this step by default?</p>", "author": "lmsurpre", "createdAt": "2020-05-14T01:24:32Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/BundleTest.java", "diffHunk": "@@ -156,7 +156,9 @@ public Bundle getEntityWithExtraWork(Response response, String method) throws Ex\n     public void commonWork(Bundle responseBundle, String method) throws Exception{\n         assertNotNull(responseBundle);\n         printBundle(method, \"response\", responseBundle);\n-        checkForIssuesWithValidation(responseBundle, true, false);\n+        if(DEBUG) {\n+            checkForIssuesWithValidation(responseBundle, true, false);\n+        }", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4MjM1NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425082355", "bodyText": "in this case, it's just outputing the bundle report and was driving a lot of logging.\nMainly missing narrative statements.", "author": "prb112", "createdAt": "2020-05-14T12:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4ODc0NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425088745", "bodyText": "Clarified (added a comment)", "author": "prb112", "createdAt": "2020-05-14T12:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MTUxNg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425091516", "bodyText": "refactored slightly... pushed the debugging to checkForIssuesWithValidation (I pass DEBUG down to it, so we can see/not see non-fatal/warning errors. )", "author": "prb112", "createdAt": "2020-05-14T12:18:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}], "type": "inlineReview"}, {"oid": "30425525f086342fe9431d361993c51f28d6bc44", "url": "https://github.com/IBM/FHIR/commit/30425525f086342fe9431d361993c51f28d6bc44", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-14T12:21:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUxOTQzNw==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425519437", "body": "Just a minor style comment, but I'd prefer to see this line indented one more level so that its clear that its a continuation of the method declaration and make it stand out from the first line in the method impl.\r\n```suggestion\r\n            MultivaluedMap<String, String> queryParameters, Parameters parameters)\r\n            throws FHIROperationException {\r\n```", "bodyText": "Just a minor style comment, but I'd prefer to see this line indented one more level so that its clear that its a continuation of the method declaration and make it stand out from the first line in the method impl.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    MultivaluedMap<String, String> queryParameters, Parameters parameters) throws FHIROperationException {\n          \n          \n            \n                        MultivaluedMap<String, String> queryParameters, Parameters parameters)\n          \n          \n            \n                        throws FHIROperationException {", "bodyHTML": "<p dir=\"auto\">Just a minor style comment, but I'd prefer to see this line indented one more level so that its clear that its a continuation of the method declaration and make it stand out from the first line in the method impl.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">MultivaluedMap&lt;<span class=\"pl-smi\">String</span>, <span class=\"pl-smi\">String</span>&gt;</span> queryParameters, <span class=\"pl-smi\">Parameters</span> parameters)<span class=\"x x-first\"> throws </span><span class=\"pl-smi x\">FHIROperationException</span><span class=\"x x-last\"> {</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">    </span><span class=\"pl-k\">MultivaluedMap&lt;<span class=\"pl-smi\">String</span>, <span class=\"pl-smi\">String</span>&gt;</span> queryParameters, <span class=\"pl-smi\">Parameters</span> parameters)</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            throws <span class=\"pl-smi\">FHIROperationException</span> {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:39:22Z", "path": "fhir-operation-apply/src/main/java/com/ibm/fhir/operation/apply/ApplyOperation.java", "diffHunk": "@@ -138,8 +136,7 @@ protected Parameters doInvoke(FHIROperationContext operationContext,\n \n     // Process the Parameters bodies for the contents\n     private CodeableConcept checkAndProcessSettingContext(FHIROperationContext operationContext,\n-        MultivaluedMap<String, String> queryParameters, Parameters parameters)\n-        throws FHIROperationException {\n+        MultivaluedMap<String, String> queryParameters, Parameters parameters) throws FHIROperationException {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMDU4NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425520585", "body": "style-only comment\r\n```suggestion\r\n            CodeableConcept cc = CodeableConcept.builder()\r\n                    .text(string(\"userTaskContext\"))\r\n                    .coding(Coding.builder().code(Code.of(userTaskContext)).build())\r\n                    .build();\r\n```", "bodyText": "style-only comment\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        CodeableConcept cc =\n          \n          \n            \n                                CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();\n          \n          \n            \n                        CodeableConcept cc = CodeableConcept.builder()\n          \n          \n            \n                                .text(string(\"userTaskContext\"))\n          \n          \n            \n                                .coding(Coding.builder().code(Code.of(userTaskContext)).build())\n          \n          \n            \n                                .build();", "bodyHTML": "<p dir=\"auto\">style-only comment</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">CodeableConcept</span> cc <span class=\"pl-k\">=</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-smi\">CodeableConcept</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>text(string(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userTaskContext<span class=\"pl-pds\">\"</span></span>))<span class=\"pl-k\">.</span>coding(<span class=\"pl-smi\">Coding</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>code(<span class=\"pl-smi\">Code</span><span class=\"pl-k\">.</span>of(userTaskContext))<span class=\"pl-k\">.</span>build())<span class=\"pl-k\">.</span>build();</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">CodeableConcept</span> cc <span class=\"pl-k\">=</span> <span class=\"pl-smi\">CodeableConcept</span><span class=\"pl-k\">.</span>builder()</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .text(string(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>userTaskContext<span class=\"pl-pds\">\"</span></span>))</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .coding(<span class=\"pl-smi\">Coding</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>code(<span class=\"pl-smi\">Code</span><span class=\"pl-k\">.</span>of(userTaskContext))<span class=\"pl-k\">.</span>build())</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .build();</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:43:47Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -295,7 +299,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n             parameters.add(Parameter.builder().name(string(\"userLanguage\")).value(cc).build());\n         }\n         if (userTaskContext != null) {\n-            CodeableConcept cc = CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();\n+            CodeableConcept cc =\n+                    CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMDgwNA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425520804", "body": "style-only comment\r\n```suggestion\r\n            CodeableConcept cc = CodeableConcept.builder()\r\n                    .text(string(\"settingContext\"))\r\n                    .coding(Coding.builder().code(Code.of(settingContext)).build())\r\n                    .build();\r\n```", "bodyText": "style-only comment\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        CodeableConcept cc =\n          \n          \n            \n                                CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();\n          \n          \n            \n                        CodeableConcept cc = CodeableConcept.builder()\n          \n          \n            \n                                .text(string(\"settingContext\"))\n          \n          \n            \n                                .coding(Coding.builder().code(Code.of(settingContext)).build())\n          \n          \n            \n                                .build();", "bodyHTML": "<p dir=\"auto\">style-only comment</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">CodeableConcept</span> cc <span class=\"pl-k\">=</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-smi\">CodeableConcept</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>text(string(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>settingContext<span class=\"pl-pds\">\"</span></span>))<span class=\"pl-k\">.</span>coding(<span class=\"pl-smi\">Coding</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>code(<span class=\"pl-smi\">Code</span><span class=\"pl-k\">.</span>of(settingContext))<span class=\"pl-k\">.</span>build())<span class=\"pl-k\">.</span>build();</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">CodeableConcept</span> cc <span class=\"pl-k\">=</span> <span class=\"pl-smi\">CodeableConcept</span><span class=\"pl-k\">.</span>builder()</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .text(string(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>settingContext<span class=\"pl-pds\">\"</span></span>))</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .coding(<span class=\"pl-smi\">Coding</span><span class=\"pl-k\">.</span>builder()<span class=\"pl-k\">.</span>code(<span class=\"pl-smi\">Code</span><span class=\"pl-k\">.</span>of(settingContext))<span class=\"pl-k\">.</span>build())</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    .build();</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:44:46Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -305,7 +310,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n         }\n \n         if (settingContext != null) {\n-            CodeableConcept cc = CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();\n+            CodeableConcept cc =\n+                    CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTAyNg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521026", "body": "same as earlier comment\r\n```suggestion\r\n    public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\r\n            String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\r\n```", "bodyText": "same as earlier comment\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                    String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\n          \n          \n            \n                public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "bodyHTML": "<p dir=\"auto\">same as earlier comment</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">ApplyOperationResult</span>&gt;</span> runValidTest(<span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject, <span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting, <span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">ApplyOperationResult</span>&gt;</span> runValidTest(<span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject, <span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">    </span><span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting, <span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:45:31Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -330,10 +336,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject,\n-        String encounter, String practitioner,\n-        String organization, String userType, String userLanguage, String userTaskContext,\n-        String setting, String settingContext) {\n+    public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n+        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTEzMw==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521133", "body": "```suggestion\r\n    public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\r\n            String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                    String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\n          \n          \n            \n                public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">ApplyOperationResult</span>&gt;</span> runInvalidTest(<span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject, <span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting, <span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">ApplyOperationResult</span>&gt;</span> runInvalidTest(<span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject, <span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">    </span><span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting, <span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:45:54Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -368,9 +372,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject,\n-        String encounter, String practitioner, String organization, String userType,\n-        String userLanguage, String userTaskContext, String setting, String settingContext) {\n+    public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n+        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTIyMg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521222", "body": "```suggestion\r\n    public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\r\n            String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\r\n            String settingContext) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n          \n          \n            \n                    String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n          \n          \n            \n                    String settingContext) {\n          \n          \n            \n                public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n          \n          \n            \n                        String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n          \n          \n            \n                        String settingContext) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">public</span> <span class=\"pl-smi\">ApplyOperationResult</span> runIndividualPlanDefinition(<span class=\"pl-smi\">String</span> mimeType, <span class=\"pl-k\">boolean</span> root, <span class=\"pl-k\">boolean</span> invalid, <span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization, <span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-smi\">ApplyOperationResult</span> runIndividualPlanDefinition(<span class=\"pl-smi\">String</span> mimeType, <span class=\"pl-k\">boolean</span> root, <span class=\"pl-k\">boolean</span> invalid, <span class=\"pl-smi\">String</span> planDefinition, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> subject,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">    </span><span class=\"pl-smi\">String</span> encounter, <span class=\"pl-smi\">String</span> practitioner, <span class=\"pl-smi\">String</span> organization, <span class=\"pl-smi\">String</span> userType, <span class=\"pl-smi\">String</span> userLanguage, <span class=\"pl-smi\">String</span> userTaskContext, <span class=\"pl-smi\">String</span> setting,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"x x-first x-last\">    </span><span class=\"pl-smi\">String</span> settingContext) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "lmsurpre", "createdAt": "2020-05-15T01:46:17Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -404,10 +407,9 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root,\n-        boolean invalid, String planDefinition, List<String> subject, String encounter,\n-        String practitioner, String organization, String userType, String userLanguage,\n-        String userTaskContext, String setting, String settingContext) {\n+    public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n+        String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n+        String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3bcb505d31615d82e66080581bb4c736a694a7f2", "url": "https://github.com/IBM/FHIR/commit/3bcb505d31615d82e66080581bb4c736a694a7f2", "message": "Apply suggestions from code review\r\n\r\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>\n\nCo-authored-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-05-15T10:36:06Z", "type": "commit"}]}