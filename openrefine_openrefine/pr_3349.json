{"pr_number": 3349, "pr_title": "Add Wynn to fingerprint to support Old English texts", "pr_author": "thadguidry", "pr_createdAt": "2020-11-22T20:36:48Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/3349", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzY5NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532123694", "body": "Is case folding not working correctly? We shouldn't need two entries.\r\n\r\nAs long as we're doing this, should we map the rest of the wynn forms? http://www.fileformat.info/info/unicode/char/search.htm?q=wynn&preview=entity\r\nAll runes? http://www.fileformat.info/info/unicode/char/search.htm?q=runic&preview=entity", "bodyText": "Is case folding not working correctly? We shouldn't need two entries.\nAs long as we're doing this, should we map the rest of the wynn forms? http://www.fileformat.info/info/unicode/char/search.htm?q=wynn&preview=entity\nAll runes? http://www.fileformat.info/info/unicode/char/search.htm?q=runic&preview=entity", "bodyHTML": "<p dir=\"auto\">Is case folding not working correctly? We shouldn't need two entries.</p>\n<p dir=\"auto\">As long as we're doing this, should we map the rest of the wynn forms? <a href=\"http://www.fileformat.info/info/unicode/char/search.htm?q=wynn&amp;preview=entity\" rel=\"nofollow\">http://www.fileformat.info/info/unicode/char/search.htm?q=wynn&amp;preview=entity</a><br>\nAll runes? <a href=\"http://www.fileformat.info/info/unicode/char/search.htm?q=runic&amp;preview=entity\" rel=\"nofollow\">http://www.fileformat.info/info/unicode/char/search.htm?q=runic&amp;preview=entity</a></p>", "author": "tfmorris", "createdAt": "2020-11-29T00:32:39Z", "path": "main/src/com/google/refine/clustering/binning/FingerprintKeyer.java", "diffHunk": "@@ -85,6 +85,8 @@\n             .put(\"\u0153\", \"oe\")\n             .put(\"\u1e9c\", \"s\") // more long S forms\n             .put(\"\u1e9d\", \"s\")\n+            .put(\"\u01f7\",\"w\") // Wynn from Old English modernly transliterated to w", "originalCommit": "f9e1fc3de1843b2c1b46e9fc1cb8a41b9416c151", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyNjAxNA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532126014", "bodyText": "You can take this PR over Tom.  I've got what I needed out of of it to unblock me.  If it's useful for others or needs more work to be more useful...have at it.\nSorry I don't understand what you mean about the case folding.  I didn't see case (capitals) applied if that's what you mean, but I do have them in the examples in the issue.", "author": "thadguidry", "createdAt": "2020-11-29T01:03:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzY5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyNjkyOA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532126928", "bodyText": "The mapping that I was following was from the Unicode spec itself.  In particular the scf and slc, which I still find a bit weird on some glyphs.  http://www.unicode.org/reports/tr44/tr44-14.html#Regular_Expressions_Table", "author": "thadguidry", "createdAt": "2020-11-29T01:15:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzY5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyNzM1MA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532127350", "bodyText": "and where I was trying to get fingerprint and ngramFingerprint to follow the rules of scf and slc by default.  If that's reading too much into it, then I goofed and sorry, but felt they were sensible most of the time for Old English texts.", "author": "thadguidry", "createdAt": "2020-11-29T01:20:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzY5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEzMzc3OA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532133778", "bodyText": "The string is lowercased before it gets to this point, so only the lowercase substitution is needed.", "author": "tfmorris", "createdAt": "2020-11-29T02:45:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzY5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjEyMzgyMw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3349#discussion_r532123823", "body": "```suggestion\r\n        {\"\u01f7\u01bf\", \"ww\"}, // Old English letter wynn\r\n```\r\nLet's also relocate this up below the test for eth and thorn since they're similar.", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // WIP: These we know should be folded based on research (Wikipedia,etc.), and modern expectations (transliterations) by researchers (philologists)\n          \n          \n            \n                    {\"\u01f7\u01bf\",\n          \n          \n            \n                     \"ww\"},\n          \n          \n            \n                    {\"\u01f7\u01bf\", \"ww\"}, // Old English letter wynn\n          \n      \n    \n    \n  \n\nLet's also relocate this up below the test for eth and thorn since they're similar.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-c\"><span class=\"pl-c\">//</span> WIP: These we know should be folded based on research (Wikipedia,etc.), and modern expectations (transliterations) by researchers (philologists)</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        {<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>\u01f7\u01bf<span class=\"pl-pds\">\"</span></span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">         <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ww<span class=\"pl-pds\">\"</span></span>},</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        {<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>\u01f7\u01bf<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>ww<span class=\"pl-pds\">\"</span></span>}, <span class=\"pl-c\"><span class=\"pl-c\">//</span> Old English letter wynn</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">Let's also relocate this up below the test for eth and thorn since they're similar.</p>", "author": "tfmorris", "createdAt": "2020-11-29T00:34:37Z", "path": "main/tests/server/src/com/google/refine/clustering/binning/KeyerTests.java", "diffHunk": "@@ -100,6 +100,9 @@\n //         \"bbddddhiikkllmnnooooopprssssttttuuuuyyzz                      aaiioouuuuuuuuuux\"},\n //        {\"\u01de\u01df\u01e0\u01e1\u01e2\u01e3\u01e4\u01e5\u01e6\u01e7\u01e8\u01e9\u01ea\u01eb\u01ec\u01ed\u01ee\u01ef\u01f0\u01f1\u01f2\u01f3\u01f4\u01f5\u01f6\u01f7\u01f8\u01f9\u01fa\u01fb\u01fc\u01fd\u01fe\u01ff\u0200\u0201\u0202\u0203\u0204\u0205\u0206\u0207\u0208\u0209\u020a\u020b\u020c\u020d\u020e\u020f\u0210\u0211\u0212\u0213\u0214\u0215\u0216\u0217\u0218\u0219\u021a\u021b\u021c\u021d\u021e\u021f\u0220\u0221\u0222\u0223\u0224\u0225\u0226\u0227\u0228\u0229\u022a\u022b\u022c\u022d\u022e\u022f\u0230\u0231\u0232\u0233\u0234\u0235\u0236\u0237\u0238\u0239\u023a\u023b\u023c\u023d\u023e\u023f\u0240\u0241\u0242\u0243\u0244\u0245\u0246\u0247\u0248\u0249\u024a\u024b\u024c\u024d\u024e\u024f\",\n //         \"aaaaaeaeggggkkqqqqqssjdzdzggpnnaaaeaeooaaaeeeeeiiiioooorrrruuuusstt    zzaaeeooooooooyy\"},\n+        // WIP: These we know should be folded based on research (Wikipedia,etc.), and modern expectations (transliterations) by researchers (philologists)\n+        {\"\u01f7\u01bf\",\n+         \"ww\"},", "originalCommit": "f9e1fc3de1843b2c1b46e9fc1cb8a41b9416c151", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3d30897b3b5b28541582f527d20ef6f648c65377", "url": "https://github.com/OpenRefine/OpenRefine/commit/3d30897b3b5b28541582f527d20ef6f648c65377", "message": "Add Wynn to fingerprint to support Old English texts", "committedDate": "2020-11-29T02:40:49Z", "type": "commit"}]}