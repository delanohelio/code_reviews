{"pr_number": 607, "pr_title": "remove fastjson", "pr_author": "ywy2090", "pr_createdAt": "2020-06-11T07:12:10Z", "pr_url": "https://github.com/FISCO-BCOS/web3sdk/pull/607", "timeline": [{"oid": "ac72a2e398aee68ecf395d30008729d8497b91ad", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/ac72a2e398aee68ecf395d30008729d8497b91ad", "message": "remove fastjson", "committedDate": "2020-06-11T07:00:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAxMw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587013", "body": "__[PMD Java]__ This for loop can be replaced by a foreach loop ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964235))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `ForLoopCanBeForeach` | Best Practices | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964235) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] This for loop can be replaced by a foreach loop (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nForLoopCanBeForeach\nBest Practices\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> This for loop can be replaced by a foreach loop (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964235\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>ForLoopCanBeForeach</code></td>\n<td>Best Practices</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964235\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:52Z", "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -112,16 +111,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAxNQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587015", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964236))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964236) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964236\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964236\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -112,16 +111,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {\n+\t\t\t\tif (abiDefinition[i].getType().equals(\"function\") && abiDefinition[i].getName().equals(\"getVersion\")) {", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAxOA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587018", "body": "__[PMD Java]__ The class 'Account' is suspected to be a Data Class (WOC=0.000%, NOPA=0, NOAM=6, WMC=6) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964237))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `DataClass` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#dataclass>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964237) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] The class 'Account' is suspected to be a Data Class (WOC=0.000%, NOPA=0, NOAM=6, WMC=6) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataClass\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#dataclass\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> The class 'Account' is suspected to be a Data Class (WOC=0.000%, NOPA=0, NOAM=6, WMC=6) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964237\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>DataClass</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#dataclass\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#dataclass</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964237\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -37,6 +28,36 @@\n \t\r\n \tKeyInfo() {}\r\n \r\n+    private static class Account {\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyMA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587020", "body": "__[PMD Java]__ It is somewhat confusing to have a field name matching the declaring class name ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964238))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `AvoidFieldNameMatchingTypeName` | Error Prone | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#avoidfieldnamematchingtypename>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964238) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] It is somewhat confusing to have a field name matching the declaring class name (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidFieldNameMatchingTypeName\nError Prone\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#avoidfieldnamematchingtypename\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> It is somewhat confusing to have a field name matching the declaring class name (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964238\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>AvoidFieldNameMatchingTypeName</code></td>\n<td>Error Prone</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#avoidfieldnamematchingtypename\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#avoidfieldnamematchingtypename</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964238\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -37,6 +28,36 @@\n \t\r\n \tKeyInfo() {}\r\n \r\n+    private static class Account {\r\n+        private String privateKey;\r\n+        private String publicKey;\r\n+        private String account;\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyMw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587023", "body": "__[PMD Java]__ System.out.println is used ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964239))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `SystemPrintln` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964239) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> System.out.println is used (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964239\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SystemPrintln</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964239\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -123,20 +144,15 @@ public int loadKeyInfo(String keyFile) {\n \t\t\treturn RetCode.openFileFailed;\r\n \t\t}\r\n         System.out.println(\"\");\r\n-\t\tSystem.out.println(\"===key info:\" + keyInfoJsonStr);\r\n-\t\ttry {\r\n-\t\t\tJSONObject keyInfoJsonObj = JSONObject.parseObject(keyInfoJsonStr);\r\n-\t\t\tif (keyInfoJsonObj == null) {\r\n-\t\t\t\tSystem.out.println(\"load json str from key info failed\");\r\n-\t\t\t\tlogger.error(\"load json str from key info failed\");\r\n-\t\t\t\treturn RetCode.parseJsonFailed;\r\n-\t\t\t}\r\n-\t\t\tif (keyInfoJsonObj.containsKey(privJsonKey))\r\n-\t\t\t\tprivateKey = keyInfoJsonObj.getString(privJsonKey);\r\n-\t\t\tif (keyInfoJsonObj.containsKey(pubJsonKey))\r\n-\t\t\t\tpublicKey = keyInfoJsonObj.getString(pubJsonKey);\r\n-\t\t\tif (keyInfoJsonObj.containsKey(accountJsonKey))\r\n-\t\t\t\taccount = keyInfoJsonObj.getString(accountJsonKey);\r\n+        System.out.println(\"===key info:\" + keyInfoJsonStr);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyNQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587025", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964240))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964240) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964240\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964240\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -123,20 +144,15 @@ public int loadKeyInfo(String keyFile) {\n \t\t\treturn RetCode.openFileFailed;\r\n \t\t}\r\n         System.out.println(\"\");\r\n-\t\tSystem.out.println(\"===key info:\" + keyInfoJsonStr);\r\n-\t\ttry {\r\n-\t\t\tJSONObject keyInfoJsonObj = JSONObject.parseObject(keyInfoJsonStr);\r\n-\t\t\tif (keyInfoJsonObj == null) {\r\n-\t\t\t\tSystem.out.println(\"load json str from key info failed\");\r\n-\t\t\t\tlogger.error(\"load json str from key info failed\");\r\n-\t\t\t\treturn RetCode.parseJsonFailed;\r\n-\t\t\t}\r\n-\t\t\tif (keyInfoJsonObj.containsKey(privJsonKey))\r\n-\t\t\t\tprivateKey = keyInfoJsonObj.getString(privJsonKey);\r\n-\t\t\tif (keyInfoJsonObj.containsKey(pubJsonKey))\r\n-\t\t\t\tpublicKey = keyInfoJsonObj.getString(pubJsonKey);\r\n-\t\t\tif (keyInfoJsonObj.containsKey(accountJsonKey))\r\n-\t\t\t\taccount = keyInfoJsonObj.getString(accountJsonKey);\r\n+        System.out.println(\"===key info:\" + keyInfoJsonStr);\r\n+        try {\r\n+            Account key =\r\n+                    ObjectMapperFactory.getObjectMapper().readValue(keyInfoJsonStr, Account.class);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyNg==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587026", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964241))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964241) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964241\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964241\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:53Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -178,21 +194,20 @@ private static int writeFile(String keyFile, String content){\n \t */\r\n     @Override\r\n     public int storeKeyInfo(String keyFile) {\r\n-\t\ttry {\r\n-\t\t\t//Map<String, String> keyMap = new HashMap<String, String>();\r\n-            JSONObject keyMapJson = new JSONObject();\r\n-\t\t\tkeyMapJson.put(privJsonKey, privateKey);\r\n-\t\t\tkeyMapJson.put(pubJsonKey, publicKey);\r\n-\t\t\tkeyMapJson.put(accountJsonKey, account);\r\n-            \r\n-            String keyJsonInfo = keyMapJson.toString();\r\n-\t\t\tSystem.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n-\t\t\treturn writeFile(keyFile, keyJsonInfo);\r\n-\t\t} catch (Exception e) {\r\n-\t\t\tSystem.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\tlogger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\treturn RetCode.storeKeyInfoFailed;\r\n-\t\t}\r\n-\t}\r\n+    \ttry {\r\n+            Account key = new Account();\r\n+            key.setPrivateKey(getPrivateKey());\r\n+            key.setPublicKey(getPublicKey());\r\n+            key.setAccount(getAccount());\r\n+\r\n+            String keyJsonInfo = ObjectMapperFactory.getObjectMapper().writeValueAsString(key);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyOA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587028", "body": "__[PMD Java]__ System.out.println is used ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964242))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `SystemPrintln` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964242) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> System.out.println is used (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964242\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SystemPrintln</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964242\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -178,21 +194,20 @@ private static int writeFile(String keyFile, String content){\n \t */\r\n     @Override\r\n     public int storeKeyInfo(String keyFile) {\r\n-\t\ttry {\r\n-\t\t\t//Map<String, String> keyMap = new HashMap<String, String>();\r\n-            JSONObject keyMapJson = new JSONObject();\r\n-\t\t\tkeyMapJson.put(privJsonKey, privateKey);\r\n-\t\t\tkeyMapJson.put(pubJsonKey, publicKey);\r\n-\t\t\tkeyMapJson.put(accountJsonKey, account);\r\n-            \r\n-            String keyJsonInfo = keyMapJson.toString();\r\n-\t\t\tSystem.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n-\t\t\treturn writeFile(keyFile, keyJsonInfo);\r\n-\t\t} catch (Exception e) {\r\n-\t\t\tSystem.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\tlogger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\treturn RetCode.storeKeyInfoFailed;\r\n-\t\t}\r\n-\t}\r\n+    \ttry {\r\n+            Account key = new Account();\r\n+            key.setPrivateKey(getPrivateKey());\r\n+            key.setPublicKey(getPublicKey());\r\n+            key.setAccount(getAccount());\r\n+\r\n+            String keyJsonInfo = ObjectMapperFactory.getObjectMapper().writeValueAsString(key);\r\n+            System.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAyOQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587029", "body": "__[PMD Java]__ Avoid catching generic exceptions such as NullPointerException, RuntimeException, Exception in try-catch block ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964243))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `AvoidCatchingGenericException` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#avoidcatchinggenericexception>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964243) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Avoid catching generic exceptions such as NullPointerException, RuntimeException, Exception in try-catch block (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidCatchingGenericException\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#avoidcatchinggenericexception\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Avoid catching generic exceptions such as NullPointerException, RuntimeException, Exception in try-catch block (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964243\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>AvoidCatchingGenericException</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#avoidcatchinggenericexception\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#avoidcatchinggenericexception</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964243\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -178,21 +194,20 @@ private static int writeFile(String keyFile, String content){\n \t */\r\n     @Override\r\n     public int storeKeyInfo(String keyFile) {\r\n-\t\ttry {\r\n-\t\t\t//Map<String, String> keyMap = new HashMap<String, String>();\r\n-            JSONObject keyMapJson = new JSONObject();\r\n-\t\t\tkeyMapJson.put(privJsonKey, privateKey);\r\n-\t\t\tkeyMapJson.put(pubJsonKey, publicKey);\r\n-\t\t\tkeyMapJson.put(accountJsonKey, account);\r\n-            \r\n-            String keyJsonInfo = keyMapJson.toString();\r\n-\t\t\tSystem.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n-\t\t\treturn writeFile(keyFile, keyJsonInfo);\r\n-\t\t} catch (Exception e) {\r\n-\t\t\tSystem.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\tlogger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\treturn RetCode.storeKeyInfoFailed;\r\n-\t\t}\r\n-\t}\r\n+    \ttry {\r\n+            Account key = new Account();\r\n+            key.setPrivateKey(getPrivateKey());\r\n+            key.setPublicKey(getPublicKey());\r\n+            key.setAccount(getAccount());\r\n+\r\n+            String keyJsonInfo = ObjectMapperFactory.getObjectMapper().writeValueAsString(key);\r\n+            System.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n+            return writeFile(keyFile, keyJsonInfo);\r\n+        } catch (Exception e) {\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAzMg==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587032", "body": "__[PMD Java]__ System.out.println is used ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964244))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `SystemPrintln` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964244) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> System.out.println is used (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964244\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SystemPrintln</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964244\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -178,21 +194,20 @@ private static int writeFile(String keyFile, String content){\n \t */\r\n     @Override\r\n     public int storeKeyInfo(String keyFile) {\r\n-\t\ttry {\r\n-\t\t\t//Map<String, String> keyMap = new HashMap<String, String>();\r\n-            JSONObject keyMapJson = new JSONObject();\r\n-\t\t\tkeyMapJson.put(privJsonKey, privateKey);\r\n-\t\t\tkeyMapJson.put(pubJsonKey, publicKey);\r\n-\t\t\tkeyMapJson.put(accountJsonKey, account);\r\n-            \r\n-            String keyJsonInfo = keyMapJson.toString();\r\n-\t\t\tSystem.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n-\t\t\treturn writeFile(keyFile, keyJsonInfo);\r\n-\t\t} catch (Exception e) {\r\n-\t\t\tSystem.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\tlogger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\treturn RetCode.storeKeyInfoFailed;\r\n-\t\t}\r\n-\t}\r\n+    \ttry {\r\n+            Account key = new Account();\r\n+            key.setPrivateKey(getPrivateKey());\r\n+            key.setPublicKey(getPublicKey());\r\n+            key.setAccount(getAccount());\r\n+\r\n+            String keyJsonInfo = ObjectMapperFactory.getObjectMapper().writeValueAsString(key);\r\n+            System.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n+            return writeFile(keyFile, keyJsonInfo);\r\n+        } catch (Exception e) {\r\n+            System.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAzNA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587034", "body": "__[PMD Java]__ Logger calls should be surrounded by log level guards. ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964245))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `GuardLogStatement` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#guardlogstatement>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964245) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Logger calls should be surrounded by log level guards. (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nGuardLogStatement\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#guardlogstatement\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Logger calls should be surrounded by log level guards. (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964245\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>GuardLogStatement</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#guardlogstatement\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#guardlogstatement</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964245\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/contract/tools/KeyInfo.java", "diffHunk": "@@ -178,21 +194,20 @@ private static int writeFile(String keyFile, String content){\n \t */\r\n     @Override\r\n     public int storeKeyInfo(String keyFile) {\r\n-\t\ttry {\r\n-\t\t\t//Map<String, String> keyMap = new HashMap<String, String>();\r\n-            JSONObject keyMapJson = new JSONObject();\r\n-\t\t\tkeyMapJson.put(privJsonKey, privateKey);\r\n-\t\t\tkeyMapJson.put(pubJsonKey, publicKey);\r\n-\t\t\tkeyMapJson.put(accountJsonKey, account);\r\n-            \r\n-            String keyJsonInfo = keyMapJson.toString();\r\n-\t\t\tSystem.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n-\t\t\treturn writeFile(keyFile, keyJsonInfo);\r\n-\t\t} catch (Exception e) {\r\n-\t\t\tSystem.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\tlogger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n-\t\t\treturn RetCode.storeKeyInfoFailed;\r\n-\t\t}\r\n-\t}\r\n+    \ttry {\r\n+            Account key = new Account();\r\n+            key.setPrivateKey(getPrivateKey());\r\n+            key.setPublicKey(getPublicKey());\r\n+            key.setAccount(getAccount());\r\n+\r\n+            String keyJsonInfo = ObjectMapperFactory.getObjectMapper().writeValueAsString(key);\r\n+            System.out.println(\"== SAVED KEY INFO: \" + keyJsonInfo);\r\n+            return writeFile(keyFile, keyJsonInfo);\r\n+        } catch (Exception e) {\r\n+            System.out.println(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r\n+            logger.error(\"store keyInfo to \" + keyFile + \" failed, error message: \" + e.getMessage());\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzAzNw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587037", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964246))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964246) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964246\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964246\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +130,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzA0MQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587041", "body": "__[PMD Java]__ System.out.println is used ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964247))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `SystemPrintln` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964247) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> System.out.println is used (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964247\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SystemPrintln</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964247\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:54Z", "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +130,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzA0Mw==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587043", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964248))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964248) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964248\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964248\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:55Z", "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzA0NQ==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587045", "body": "__[PMD Java]__ System.out.println is used ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964249))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `SystemPrintln` | Best Practices | 2 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964249) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> System.out.println is used (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964249\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SystemPrintln</code></td>\n<td>Best Practices</td>\n<td>2</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964249\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:55Z", "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU4NzA0Ng==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/607#discussion_r438587046", "body": "__[PMD Java]__ Potential violation of Law of Demeter (method chain calls) ([view](https://sider.review/gh/repos/113938008/pulls/607#issue-3964250))\n\n<details>\n\n| Rule | Ruleset | Priority |\n| ---- | ------- | -------- |\n| `LawOfDemeter` | Design | 3 |\n\nReferences:\n- <https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter>\n\nYou can [close this issue](https://sider.review/gh/repos/113938008/pulls/607#issue-3964250) if no need to fix it. [Learn more](https://help.sider.review/getting-started/working-with-issues).\n\n</details>", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "bodyHTML": "<p dir=\"auto\"><strong>[PMD Java]</strong> Potential violation of Law of Demeter (method chain calls) (<a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964250\" rel=\"nofollow\">view</a>)</p>\n<details>\n<table role=\"table\">\n<thead>\n<tr>\n<th>Rule</th>\n<th>Ruleset</th>\n<th>Priority</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>LawOfDemeter</code></td>\n<td>Design</td>\n<td>3</td>\n</tr>\n</tbody>\n</table>\n<p dir=\"auto\">References:</p>\n<ul dir=\"auto\">\n<li><a href=\"https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\" rel=\"nofollow\">https://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter</a></li>\n</ul>\n<p dir=\"auto\">You can <a href=\"https://sider.review/gh/repos/113938008/pulls/607#issue-3964250\" rel=\"nofollow\">close this issue</a> if no need to fix it. <a href=\"https://help.sider.review/getting-started/working-with-issues\" rel=\"nofollow\">Learn more</a>.</p>\n</details>", "author": "sider", "createdAt": "2020-06-11T07:12:55Z", "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r\n \t\t\t\tbreak;\r\n \t\t\t\t\r\n \t\t\tcase \"eth_getTransactionReceipt\":\t\r\n \t\t\t\t\r\n \t\t\t\tTransactionReceipt receipt = web3j.ethGetTransactionReceipt(args[1]).send().getResult();\r\n-\t\t\t\tString receiptJson=JSONObject.toJSONString(receipt);\r\n+\t\t\t\tString receiptJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(receipt);\r", "originalCommit": "ac72a2e398aee68ecf395d30008729d8497b91ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}