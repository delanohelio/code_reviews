{"pr_number": 11533, "pr_title": "KeyRemapping: Add space as an option to remap.", "pr_author": "Tinusf", "pr_createdAt": "2020-05-10T15:33:41Z", "pr_url": "https://github.com/runelite/runelite/pull/11533", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3ODA3MA==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r424878070", "body": "Your indents here are one level too far.\r\n```suggestion\r\n\t\tposition = 20,\r\n\t\tkeyName = \"space\",\r\n\t\tname = \"Space\",\r\n\t\tdescription = \"The key which will replace {Space}.\"\r\n```", "bodyText": "Your indents here are one level too far.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tposition = 20,\n          \n          \n            \n            \t\t\tkeyName = \"space\",\n          \n          \n            \n            \t\t\tname = \"Space\",\n          \n          \n            \n            \t\t\tdescription = \"The key which will replace {Space}.\"\n          \n          \n            \n            \t\tposition = 20,\n          \n          \n            \n            \t\tkeyName = \"space\",\n          \n          \n            \n            \t\tname = \"Space\",\n          \n          \n            \n            \t\tdescription = \"The key which will replace {Space}.\"", "bodyHTML": "<p dir=\"auto\">Your indents here are one level too far.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">\t\t<span class=\"x x-first x-last\">\t</span>position <span class=\"pl-k\">=</span> <span class=\"pl-c1\">20</span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">\t\t<span class=\"x x-first x-last\">\t</span>keyName <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>space<span class=\"pl-pds\">\"</span></span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">\t\t<span class=\"x x-first x-last\">\t</span>name <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Space<span class=\"pl-pds\">\"</span></span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">\t\t<span class=\"x x-first x-last\">\t</span>description <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>The key which will replace {Space}.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">\t\tposition <span class=\"pl-k\">=</span> <span class=\"pl-c1\">20</span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">\t\tkeyName <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>space<span class=\"pl-pds\">\"</span></span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">\t\tname <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Space<span class=\"pl-pds\">\"</span></span>,</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">\t\tdescription <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>The key which will replace {Space}.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Nightfirecat", "createdAt": "2020-05-14T05:25:48Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingConfig.java", "diffHunk": "@@ -241,4 +241,15 @@ default ModifierlessKeybind esc()\n \t{\n \t\treturn new ModifierlessKeybind(KeyEvent.VK_ESCAPE, 0);\n \t}\n+\n+\t@ConfigItem(\n+\t\t\tposition = 20,\n+\t\t\tkeyName = \"space\",\n+\t\t\tname = \"Space\",\n+\t\t\tdescription = \"The key which will replace {Space}.\"", "originalCommit": "74796042658de46dafbc0e73f5c9863f2e080668", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzNDMzNA==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428234334", "body": "Why is this tied to fkeys?", "bodyText": "Why is this tied to fkeys?", "bodyHTML": "<p dir=\"auto\">Why is this tied to fkeys?</p>", "author": "Adam-", "createdAt": "2020-05-20T18:46:46Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingListener.java", "diffHunk": "@@ -156,6 +156,11 @@ else if (config.esc().matches(e))\n \t\t\t\t}\n \t\t\t}\n \n+\t\t\tif (config.fkeyRemap() && plugin.isDialogOpen() && config.space().matches(e))", "originalCommit": "edf703b8fbced102f37a82e61879371aabcf5799", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUyNjA5OA==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428526098", "bodyText": "Ah, yea I did that because the escape key was also tied into the fkeys, and because all the F-keys and escape key is underneath the \"Remap F Keys\" checkbox.", "author": "Tinusf", "createdAt": "2020-05-21T08:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzNDMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODUyNzE0Ng==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428527146", "bodyText": "But it is indeed a little bit confusing, maybe there should be an additional checkbox created for escape and space?", "author": "Tinusf", "createdAt": "2020-05-21T08:49:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzNDMzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc5MTM0NA==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428791344", "bodyText": "The escape key is part of the fkeys as far as the game is concerned (you can f-key map a tab to escape)", "author": "Adam-", "createdAt": "2020-05-21T17:09:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODIzNDMzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMjI3MA==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428802270", "body": "You could add this to the code down in keyRelease too", "bodyText": "You could add this to the code down in keyRelease too", "bodyHTML": "<p dir=\"auto\">You could add this to the code down in keyRelease too</p>", "author": "Adam-", "createdAt": "2020-05-21T17:29:14Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingListener.java", "diffHunk": "@@ -156,7 +156,12 @@ else if (config.esc().matches(e))\n \t\t\t\t}\n \t\t\t}\n \n-\t\t\tif (mappedKeyCode != KeyEvent.VK_UNDEFINED)\n+\t\t\tif (plugin.isDialogOpen() && config.space().matches(e))\n+\t\t\t{\n+\t\t\t\tmappedKeyCode = KeyEvent.VK_SPACE;\n+\t\t\t}\n+\n+\t\t\tif (mappedKeyCode != KeyEvent.VK_UNDEFINED && e.getKeyCode() != mappedKeyCode)", "originalCommit": "d827b9d4a3e60cc1f147366655f3d9ecf5ea7016", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNzI0Mg==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428837242", "bodyText": "True", "author": "Tinusf", "createdAt": "2020-05-21T18:33:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMjI3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMjUxMw==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428802513", "body": "It might be good to write a test for this, since it would show you this is incorrect as it only remaps when fkeys is on.", "bodyText": "It might be good to write a test for this, since it would show you this is incorrect as it only remaps when fkeys is on.", "bodyHTML": "<p dir=\"auto\">It might be good to write a test for this, since it would show you this is incorrect as it only remaps when fkeys is on.</p>", "author": "Adam-", "createdAt": "2020-05-21T17:29:36Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/keyremapping/KeyRemappingListener.java", "diffHunk": "@@ -308,6 +313,10 @@ else if (config.esc().matches(e))\n \t\t\t\t{\n \t\t\t\t\tmappedKeyCode = KeyEvent.VK_ESCAPE;\n \t\t\t\t}\n+\t\t\t\telse if (config.space().matches(e))", "originalCommit": "d827b9d4a3e60cc1f147366655f3d9ecf5ea7016", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNzMxMw==", "url": "https://github.com/runelite/runelite/pull/11533#discussion_r428837313", "bodyText": "\ud83d\udc40", "author": "Tinusf", "createdAt": "2020-05-21T18:33:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwMjUxMw=="}], "type": "inlineReview"}, {"oid": "b2ff1c3915a99d89227a4a5950f954153fcc2203", "url": "https://github.com/runelite/runelite/commit/b2ff1c3915a99d89227a4a5950f954153fcc2203", "message": "keyremapping: add option to remap space in dialog\n\nCo-authored-by: Tinus Flagstad <tinus@flagstad.as>", "committedDate": "2020-05-24T20:25:47Z", "type": "commit"}, {"oid": "1fb12f09f1728a8efae585a9014cc2693f063f50", "url": "https://github.com/runelite/runelite/commit/1fb12f09f1728a8efae585a9014cc2693f063f50", "message": "Update KeyRemappingConfig.java", "committedDate": "2020-05-24T20:35:17Z", "type": "commit"}]}