{"pr_number": 3853, "pr_title": "Hidden categories are not showed in suggested categories", "pr_author": "PaulinaQuintero", "pr_createdAt": "2020-06-29T23:49:09Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3853", "timeline": [{"oid": "2a93285f87936ca3e6f19efa7f314e3b283d85cb", "url": "https://github.com/commons-app/apps-android-commons/commit/2a93285f87936ca3e6f19efa7f314e3b283d85cb", "message": "fixed the problem of the hidden categories", "committedDate": "2020-06-29T22:33:09Z", "type": "commit"}, {"oid": "2462c9fc35f794d8e881b68c5a9fa0f088870370", "url": "https://github.com/commons-app/apps-android-commons/commit/2462c9fc35f794d8e881b68c5a9fa0f088870370", "message": "fixed the problem of the hidden categories", "committedDate": "2020-06-29T23:39:30Z", "type": "commit"}, {"oid": "c98bab95058b06bc8f37829c73cb5597a6a14029", "url": "https://github.com/commons-app/apps-android-commons/commit/c98bab95058b06bc8f37829c73cb5597a6a14029", "message": "Merge branch 'master' into add-pquinterom", "committedDate": "2020-06-30T00:00:15Z", "type": "commit"}, {"oid": "004369c9219aa3df86e53cc5adfc056047c9722b", "url": "https://github.com/commons-app/apps-android-commons/commit/004369c9219aa3df86e53cc5adfc056047c9722b", "message": "corrections made in other parts of the code", "committedDate": "2020-06-30T01:08:24Z", "type": "commit"}, {"oid": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "url": "https://github.com/commons-app/apps-android-commons/commit/b316aaf0cd1eb2af2310de0925e73585d327ebcd", "message": "Merge branch 'add-pquinterom' of https://github.com/PaulinaQuintero/apps-android-commons into add-pquinterom", "committedDate": "2020-06-30T01:11:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxNzgwNA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449217804", "body": "For the API to actually return the `categoryinfo` in the requests made by the app you should do this\r\n```suggestion\r\n            + \"&generator=allcategories&prop=categoryinfo\")\r\n```", "bodyText": "For the API to actually return the categoryinfo in the requests made by the app you should do this\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        + \"&generator=allcategories\")\n          \n          \n            \n                        + \"&generator=allcategories&prop=categoryinfo\")", "bodyHTML": "<p dir=\"auto\">For the API to actually return the <code>categoryinfo</code> in the requests made by the app you should do this</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&amp;generator=allcategories<span class=\"pl-pds\">\"</span></span>)</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>&amp;generator=allcategories<span class=\"x x-first x-last\">&amp;prop=categoryinfo</span><span class=\"pl-pds\">\"</span></span>)</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "sivaraam", "createdAt": "2020-07-02T19:11:28Z", "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryInterface.java", "diffHunk": "@@ -33,9 +33,11 @@\n      */\n     @GET(\"w/api.php?action=query&format=json&formatversion=2\"\n             + \"&generator=allcategories\")", "originalCommit": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxODAxNw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449218017", "body": "Revert these whitespace changes.", "bodyText": "Revert these whitespace changes.", "bodyHTML": "<p dir=\"auto\">Revert these whitespace changes.</p>", "author": "sivaraam", "createdAt": "2020-07-02T19:11:56Z", "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryInterface.java", "diffHunk": "@@ -33,9 +33,11 @@\n      */\n     @GET(\"w/api.php?action=query&format=json&formatversion=2\"\n             + \"&generator=allcategories\")\n+\n     Single<MwQueryResponse> searchCategoriesForPrefix(@Query(\"gacprefix\") String prefix,\n                                                           @Query(\"gaclimit\") int itemLimit, @Query(\"gacoffset\") int offset);\n \n+", "originalCommit": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxODI0Nw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449218247", "body": "Revert this whitespace change too.", "bodyText": "Revert this whitespace change too.", "bodyHTML": "<p dir=\"auto\">Revert this whitespace change too.</p>", "author": "sivaraam", "createdAt": "2020-07-02T19:12:21Z", "path": "data-client/src/main/java/org/wikipedia/dataclient/mwapi/MwQueryPage.java", "diffHunk": "@@ -194,6 +210,9 @@ String source() {\n         }\n     }\n \n+\n+\n+", "originalCommit": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxODU0Nw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449218547", "body": "Revert this removal of the newline too.", "bodyText": "Revert this removal of the newline too.", "bodyHTML": "<p dir=\"auto\">Revert this removal of the newline too.</p>", "author": "sivaraam", "createdAt": "2020-07-02T19:13:01Z", "path": "data-client/src/main/java/org/wikipedia/dataclient/mwapi/MwQueryPage.java", "diffHunk": "@@ -234,4 +253,4 @@ public boolean hidden() {\n         @SuppressWarnings(\"unused\") private List<String> alias;\n         @SuppressWarnings(\"unused\") private List<String> label;\n     }\n-}\n+}", "originalCommit": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxODgxOQ==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449218819", "body": "Revert changes to this file.", "bodyText": "Revert changes to this file.", "bodyHTML": "<p dir=\"auto\">Revert changes to this file.</p>", "author": "sivaraam", "createdAt": "2020-07-02T19:13:39Z", "path": "data-client/src/main/java/org/wikipedia/search/SearchResults.java", "diffHunk": "@@ -60,5 +60,4 @@ public SearchResults(@NonNull List<MwQueryPage> pages, @NonNull WikiSite wiki,\n     @Nullable public Map<String, String> getContinuation() {\n         return continuation;\n     }\n-}\n-\n+}", "originalCommit": "b316aaf0cd1eb2af2310de0925e73585d327ebcd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "782cffd190a1932ac3f2f595d7900fc6264bc1dd", "url": "https://github.com/commons-app/apps-android-commons/commit/782cffd190a1932ac3f2f595d7900fc6264bc1dd", "message": "corrections made", "committedDate": "2020-07-03T23:28:45Z", "type": "commit"}, {"oid": "83aad510dde4105cf3be293da75886f7e1accce5", "url": "https://github.com/commons-app/apps-android-commons/commit/83aad510dde4105cf3be293da75886f7e1accce5", "message": "all corrections made", "committedDate": "2020-07-03T23:37:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwMTY1Nw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449801657", "body": "Remove this additional new line.", "bodyText": "Remove this additional new line.", "bodyHTML": "<p dir=\"auto\">Remove this additional new line.</p>", "author": "sivaraam", "createdAt": "2020-07-04T20:05:07Z", "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryInterface.java", "diffHunk": "@@ -32,10 +32,11 @@\n      * @return\n      */\n     @GET(\"w/api.php?action=query&format=json&formatversion=2\"\n-            + \"&generator=allcategories\")\n+            + \"&generator=allcategories&prop=categoryinfo\")\n+", "originalCommit": "83aad510dde4105cf3be293da75886f7e1accce5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwMTY5MA==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449801690", "body": "Remove this needless whitespace.", "bodyText": "Remove this needless whitespace.", "bodyHTML": "<p dir=\"auto\">Remove this needless whitespace.</p>", "author": "sivaraam", "createdAt": "2020-07-04T20:05:26Z", "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryInterface.java", "diffHunk": "@@ -32,10 +32,11 @@\n      * @return\n      */\n     @GET(\"w/api.php?action=query&format=json&formatversion=2\"\n-            + \"&generator=allcategories\")\n+            + \"&generator=allcategories&prop=categoryinfo\")\n+\n     Single<MwQueryResponse> searchCategoriesForPrefix(@Query(\"gacprefix\") String prefix,\n                                                           @Query(\"gaclimit\") int itemLimit, @Query(\"gacoffset\") int offset);\n-\n+    ", "originalCommit": "83aad510dde4105cf3be293da75886f7e1accce5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgwMTkxNw==", "url": "https://github.com/commons-app/apps-android-commons/pull/3853#discussion_r449801917", "body": "I don't see any need for this file to be changed. So, revert the changes to this file. You could use the following commands to revert the changes in this file:\r\n\r\n```bash\r\ngit fetch origin\r\ngit checkout origin/master -- data-client/src/main/java/org/wikipedia/search/SearchResults.java\r\n```\r\n\r\nAssuming origin points to this repo.", "bodyText": "I don't see any need for this file to be changed. So, revert the changes to this file. You could use the following commands to revert the changes in this file:\ngit fetch origin\ngit checkout origin/master -- data-client/src/main/java/org/wikipedia/search/SearchResults.java\nAssuming origin points to this repo.", "bodyHTML": "<p dir=\"auto\">I don't see any need for this file to be changed. So, revert the changes to this file. You could use the following commands to revert the changes in this file:</p>\n<div class=\"highlight highlight-source-shell position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"git fetch origin\ngit checkout origin/master -- data-client/src/main/java/org/wikipedia/search/SearchResults.java\n\"><pre>git fetch origin\ngit checkout origin/master -- data-client/src/main/java/org/wikipedia/search/SearchResults.java</pre></div>\n<p dir=\"auto\">Assuming origin points to this repo.</p>", "author": "sivaraam", "createdAt": "2020-07-04T20:08:43Z", "path": "data-client/src/main/java/org/wikipedia/search/SearchResults.java", "diffHunk": "@@ -35,7 +35,7 @@ public SearchResults() {\n      * @param suggestion a search suggestion to show to the user: \"Did you mean ...?\"\n      */\n     public SearchResults(@NonNull List<MwQueryPage> pages, @NonNull WikiSite wiki,\n-                         @Nullable Map<String, String> continuation, @Nullable String suggestion) {\n+        @Nullable Map<String, String> continuation, @Nullable String suggestion) {", "originalCommit": "83aad510dde4105cf3be293da75886f7e1accce5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c37546c4af45e2184dcbaa80c574af6d0e3a6e0f", "url": "https://github.com/commons-app/apps-android-commons/commit/c37546c4af45e2184dcbaa80c574af6d0e3a6e0f", "message": "new corrections done, removed whitespaces and corrections in responsemapper", "committedDate": "2020-07-04T21:09:47Z", "type": "commit"}, {"oid": "646a2871201600001fc2e96e01e7fb7542aa6c6f", "url": "https://github.com/commons-app/apps-android-commons/commit/646a2871201600001fc2e96e01e7fb7542aa6c6f", "message": "new corrections done, removed whitespaces and corrections in responsemapper", "committedDate": "2020-07-04T21:11:53Z", "type": "commit"}, {"oid": "50e4b0c85be5872dce12aac5e31948fc81a9aa12", "url": "https://github.com/commons-app/apps-android-commons/commit/50e4b0c85be5872dce12aac5e31948fc81a9aa12", "message": "Revert some whitespace changes", "committedDate": "2020-07-19T14:06:15Z", "type": "commit"}, {"oid": "14a3be3112f56bb24cab12a41a81b2c8d3f8c0d0", "url": "https://github.com/commons-app/apps-android-commons/commit/14a3be3112f56bb24cab12a41a81b2c8d3f8c0d0", "message": "Merge remote-tracking branch 'origin/master' into hide-hidden-categories", "committedDate": "2020-07-19T14:35:40Z", "type": "commit"}]}