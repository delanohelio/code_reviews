{"pr_number": 579, "pr_title": "Adds the ability to favorite live tv channels", "pr_createdAt": "2020-10-01T05:12:15Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/579", "merge_commit": "e2e5a7f667919d37c8386d98d6dd9a0d01e3b882", "timeline": [{"oid": "79b7c9f1d888b37c6ee2e7228e41539052f58811", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/79b7c9f1d888b37c6ee2e7228e41539052f58811", "message": "Adds the ability to favorite live tv channels", "committedDate": "2020-10-01T05:09:13Z", "type": "commit"}, {"oid": "57d60de15aab373243643b18d7723a215badd38f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/57d60de15aab373243643b18d7723a215badd38f", "message": "Add explicit private scopes", "committedDate": "2020-10-01T05:28:19Z", "type": "commit"}, {"oid": "9ebbd8348cb32a88f067a232cc614b16435c4a0e", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/9ebbd8348cb32a88f067a232cc614b16435c4a0e", "message": "Remove unused import", "committedDate": "2020-10-01T05:38:14Z", "type": "commit"}, {"oid": "59896c3400f608f37c3c78f57cd72fae050cffb4", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/59896c3400f608f37c3c78f57cd72fae050cffb4", "message": "Implemented detail update task when scrolling channel headers", "committedDate": "2020-10-01T06:15:11Z", "type": "commit"}, {"oid": "26680870c0b54451c5be0daf7881e0eb86bcf5fb", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/26680870c0b54451c5be0daf7881e0eb86bcf5fb", "message": "Fix null pointer bug in the guide activities", "committedDate": "2020-10-03T07:22:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzA3OQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/579#discussion_r499227079", "body": "Why not just \"ImageButton\"?", "bodyText": "Why not just \"ImageButton\"?", "bodyHTML": "<p dir=\"auto\">Why not just \"ImageButton\"?</p>", "author": "nielsvanvelzen", "createdAt": "2020-10-04T09:51:03Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/LiveProgramDetailPopup.java", "diffHunk": "@@ -337,6 +344,37 @@ public void onClick(View v) {\n         return tune;\n     }\n \n+    public android.widget.ImageButton createFavoriteButton() {", "originalCommit": "26680870c0b54451c5be0daf7881e0eb86bcf5fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTk3Nzg5NA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/579#discussion_r499977894", "bodyText": "I looked into this more and initially it was because I was lazy and didn't look into the org.jellyfin.androidtv.ui.ImageButton class. After experimenting with that class the default android ImageButton is what should be used here. The other buttons('Tune to Channel', 'Record', etc) are default android Buttons so the styling matches. In this file ImageButton defaults to the jellyfin image button so the full package name has to be specified for the android version.\nSo if you are asking why I got specific with the package it's becuase ImageButton maps to the jellyfin specific class. If you are asking why I don't use the jellyfin ImageButton, it does not match the style of the rest of the popup.", "author": "MrChip53", "createdAt": "2020-10-06T02:54:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzA3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDA0NDYzNg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/579#discussion_r500044636", "bodyText": "I didn't realize we had our own ImageButton in the same package. It makes sense now to me!", "author": "nielsvanvelzen", "createdAt": "2020-10-06T06:55:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzA3OQ=="}], "type": "inlineReview", "revised_code": null, "revised_code_in_main": {"commit": "4fa4cd48f5e845ded2b05cf477cd7519cbf5adb4", "changed_code": [{"header": "diff --git a/app/src/main/java/org/jellyfin/androidtv/ui/LiveProgramDetailPopup.java b/app/src/main/java/org/jellyfin/androidtv/ui/LiveProgramDetailPopup.java\nindex 1dbb66dc5..dbb67c8db 100644\n--- a/app/src/main/java/org/jellyfin/androidtv/ui/LiveProgramDetailPopup.java\n+++ b/app/src/main/java/org/jellyfin/androidtv/ui/LiveProgramDetailPopup.java\n", "chunk": "@@ -336,7 +358,7 @@ public class LiveProgramDetailPopup {\n         tune.setOnClickListener(new View.OnClickListener() {\n             @Override\n             public void onClick(View v) {\n-                if (mTuneAction != null) mTuneAction.onResponse();\n+                if (mTuneAction != null && mTuneAction.getActive()) mTuneAction.onResponse();\n                 mPopup.dismiss();\n             }\n         });\n", "next_change": null}]}, "commits_in_main": [{"oid": "e2e5a7f667919d37c8386d98d6dd9a0d01e3b882", "message": "Merge commit", "committedDate": null}, {"oid": "ebdcb74e4bba53ae8db378c6b828547a83cc7701", "committedDate": "2020-10-07 16:04:32 -0400", "message": "Use ContextCompat and ResourcesCompat for retrieving drawables"}, {"oid": "5c671ac07dbeb81a731fe7e5ccf5f009c51abf95", "committedDate": "2020-12-24 12:50:27 +0100", "message": "Replace DataRefreshService usages with dependency injection"}, {"oid": "80be2f4d11d8f08df13885c0d7076e061f8eafa5", "committedDate": "2021-01-08 23:02:04 +0100", "message": "Remove a lot of TvApp.getApplication() usages from utils package"}, {"oid": "82652d662108b1c802c52e5dbccab31763fc3d54", "committedDate": "2021-05-25 20:02:40 +0200", "message": "Rewrite ExpandableTextView to use a popup instead of activity"}, {"oid": "8993df3cef9802ae215dcd25ec427df08d63fbae", "committedDate": "2021-06-23 10:39:18 -0400", "message": "Make context nonnull in convertDpToPixel and avoid using TvApp.getApplication()"}, {"oid": "500cd55e23dfeef833878f30ce59d2d4d2556d05", "committedDate": "2021-09-30 14:35:53 +0200", "message": "Migrate to Koin 3"}, {"oid": "fddac39403b7f5b0f206af18b8ed097ecc9d79ab", "committedDate": "2022-02-03 08:43:08 +0100", "message": "Remove \"i\" prefix from interfaces (#1416)"}, {"oid": "06e286ef22a5c9f6f8b5474998f5f502a2061e18", "committedDate": "2022-03-30 07:32:12 +0200", "message": "Move TvApp.canManageRecordings to Utils"}, {"oid": "171e91914af4d8edb34b5d56bbf7912fc22db58b", "committedDate": "2022-04-02 13:53:58 +0200", "message": "Add UserRepository to replace TvApp.getCurrentUserLiveData()"}, {"oid": "25ea47962d0e6ce0d5dcc1d113d6ef25790ec6eb", "committedDate": "2022-04-03 13:37:11 +0200", "message": "Remove TvApp.getCurrentUser()"}, {"oid": "e4ad08482401dfa6fa8d13cd28484eca2fe7588e", "committedDate": "2022-04-17 10:45:24 +0200", "message": "Refactor authentication code"}, {"oid": "47844799c8b2ec2a6e2df892380681284d12fa0b", "committedDate": "2022-08-14 15:50:33 +0200", "message": "Migrate InfoLayoutHelper to use SDK models"}, {"oid": "86b34ac7fb89005d2cbb608fe63ecd6e9c1fa0cd", "committedDate": "2022-08-20 08:08:16 +0200", "message": "Remove commented log statements"}, {"oid": "5a8108a1290a792da75a2057c3bbb4c8e3fb08b3", "committedDate": "2022-10-01 15:21:42 +0200", "message": "Add CustomMessageRepository, remove BaseActivity"}, {"oid": "ee9763973f5da6c83ca61dd5d53fd10990eaf2f9", "committedDate": "2022-10-07 16:19:31 +0200", "message": "Remove GsonJsonSerializer"}, {"oid": "4fa4cd48f5e845ded2b05cf477cd7519cbf5adb4", "committedDate": "2022-10-08 10:12:46 +0200", "message": "Add lifecycle response"}]}]}