{"pr_number": 3839, "pr_title": "Used Dialog Fragment to create Remove Group Dialog", "pr_author": "SaumiaSinghal", "pr_createdAt": "2020-05-17T14:34:26Z", "pr_url": "https://github.com/getodk/collect/pull/3839", "merge_commit": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU0NTI5Nw==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r435545297", "body": "This should be `deleteRepeat` because it does not apply to general groups.", "bodyText": "This should be deleteRepeat because it does not apply to general groups.", "bodyHTML": "<p dir=\"auto\">This should be <code>deleteRepeat</code> because it does not apply to general groups.</p>", "author": "lognaturel", "createdAt": "2020-06-04T20:58:54Z", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package org.odk.collect.android.formentry.repeats;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.os.Bundle;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+\n+import org.odk.collect.android.R;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.javarosawrapper.FormController;\n+\n+import static android.content.DialogInterface.BUTTON_NEGATIVE;\n+import static android.content.DialogInterface.BUTTON_POSITIVE;\n+\n+public class DeleteRepeatDialogFragment extends DialogFragment {\n+\n+    protected FormController formController = Collect.getInstance().getFormController();\n+    protected DeleteRepeatDialogCallback callback;\n+\n+    @Override\n+    public void onAttach(@NonNull Context context) {\n+        super.onAttach(context);\n+\n+        if (context instanceof DeleteRepeatDialogCallback) {\n+            callback = (DeleteRepeatDialogCallback) context;\n+        }\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        super.onCreateDialog(savedInstanceState);\n+\n+        String name = formController.getLastRepeatedGroupName();\n+        int repeatcount = formController.getLastRepeatedGroupRepeatCount();\n+        if (repeatcount != -1) {\n+            name += \" (\" + (repeatcount + 1) + \")\";\n+        }\n+\n+        AlertDialog alertDialog = new AlertDialog.Builder(getActivity()).create();\n+        alertDialog.setTitle(getActivity().getString(R.string.delete_repeat_ask));\n+        alertDialog.setMessage(getActivity().getString(R.string.delete_repeat_confirm, name));\n+        DialogInterface.OnClickListener quitListener = (dialog, i) -> {\n+            switch (i) {\n+                case BUTTON_POSITIVE: // yes\n+                    callback.deleteGroup();\n+                    break;\n+\n+                case BUTTON_NEGATIVE: // no\n+                    callback.onCancelled();\n+                    break;\n+            }\n+            alertDialog.cancel();\n+            dismiss();\n+        };\n+        alertDialog.setCancelable(false);\n+        alertDialog.setButton(BUTTON_POSITIVE, getActivity().getString(R.string.discard_group), quitListener);\n+        alertDialog.setButton(BUTTON_NEGATIVE, getActivity().getString(R.string.delete_repeat_no), quitListener);\n+\n+        return alertDialog;\n+    }\n+\n+    public interface DeleteRepeatDialogCallback {\n+        void deleteGroup();", "originalCommit": "6edefe62419ede65abd147b6df5b3e72f2d50999", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU0ODg4Nw==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r435548887", "bodyText": "By the way, the delete_repeat string resource and other related ones are super confusing because they use the word \"Group\". I think we should change that but it's a separate thing.", "author": "lognaturel", "createdAt": "2020-06-04T21:06:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU0NTI5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "f88d23aa61184b9d9d27796854ebde128bfd9758", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..42b664b27 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -64,9 +60,4 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n         return alertDialog;\n     }\n-\n-    public interface DeleteRepeatDialogCallback {\n-        void deleteGroup();\n-        void onCancelled();\n-    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "19ac9d6c6658b2c54cb4fa2460a517678caaf101", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 42b664b27..06ff80461 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -60,4 +67,9 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n         return alertDialog;\n     }\n+\n+    public interface DeleteRepeatDialogCallback {\n+        void deleteGroup();\n+        void onCancelled();\n+    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "bbdf2cd115157bd600783c19c898de76364ca068", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 06ff80461..2c68c615e 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -1,75 +1,7 @@\n package org.odk.collect.android.formentry.repeats;\n \n-import android.app.Dialog;\n-import android.content.Context;\n-import android.content.DialogInterface;\n-import android.os.Bundle;\n-\n-import androidx.annotation.NonNull;\n-import androidx.annotation.Nullable;\n-import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n-import androidx.lifecycle.ViewModelProviders;\n-\n-import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n-import org.odk.collect.android.formentry.FormEntryViewModel;\n-import org.odk.collect.android.javarosawrapper.FormController;\n-\n-import static android.content.DialogInterface.BUTTON_NEGATIVE;\n-import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    private FormEntryViewModel viewModel;\n-    protected DeleteRepeatDialogCallback callback;\n-\n-    @Override\n-    public void onAttach(@NonNull Context context) {\n-        super.onAttach(context);\n-\n-        viewModel = ViewModelProviders.of(requireActivity()).get(FormEntryViewModel.class);\n-        if (context instanceof DeleteRepeatDialogCallback) {\n-            callback = (DeleteRepeatDialogCallback) context;\n-        }\n-    }\n-\n-    @NonNull\n-    @Override\n-    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n-        super.onCreateDialog(savedInstanceState);\n-\n-        String name = viewModel.getLastRepeatedGroupName();\n-        int repeatcount = viewModel.getLastRepeatedGroupRepeatCount();\n-        if (repeatcount != -1) {\n-            name += \" (\" + (repeatcount + 1) + \")\";\n-        }\n-\n-        AlertDialog alertDialog = new AlertDialog.Builder(getActivity()).create();\n-        alertDialog.setTitle(getActivity().getString(R.string.delete_repeat_ask));\n-        alertDialog.setMessage(getActivity().getString(R.string.delete_repeat_confirm, name));\n-        DialogInterface.OnClickListener quitListener = (dialog, i) -> {\n-            switch (i) {\n-                case BUTTON_POSITIVE: // yes\n-                    callback.deleteGroup();\n-                    break;\n-\n-                case BUTTON_NEGATIVE: // no\n-                    callback.onCancelled();\n-                    break;\n-            }\n-            alertDialog.cancel();\n-            dismiss();\n-        };\n-        alertDialog.setCancelable(false);\n-        alertDialog.setButton(BUTTON_POSITIVE, getActivity().getString(R.string.discard_group), quitListener);\n-        alertDialog.setButton(BUTTON_NEGATIVE, getActivity().getString(R.string.delete_repeat_no), quitListener);\n-\n-        return alertDialog;\n-    }\n-\n-    public interface DeleteRepeatDialogCallback {\n-        void deleteGroup();\n-        void onCancelled();\n-    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "0c9fe14170f2abc652722d34e458191feefdc863", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 2c68c615e..5052039f9 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -1,7 +1,46 @@\n package org.odk.collect.android.formentry.repeats;\n \n+import android.app.Dialog;\n+import android.content.DialogInterface;\n+import android.os.Bundle;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n \n+import org.odk.collect.android.R;\n+\n+import static android.content.DialogInterface.BUTTON_NEGATIVE;\n+import static android.content.DialogInterface.BUTTON_POSITIVE;\n+\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        super.onCreateDialog(savedInstanceState);\n+\n+        AlertDialog alertDialog = new AlertDialog.Builder(getActivity()).create();\n+\n+        alertDialog.setTitle(getActivity().getString(R.string.delete_repeat_ask));\n+        DialogInterface.OnClickListener quitListener = (dialog, i) -> {\n+            switch (i) {\n+                case BUTTON_POSITIVE: // yes\n+\n+                    break;\n+\n+                case BUTTON_NEGATIVE: // no\n+\n+                    break;\n+            }\n+            alertDialog.cancel();\n+            dismiss();\n+        };\n+        alertDialog.setCancelable(false);\n+        alertDialog.setButton(BUTTON_POSITIVE, getActivity().getString(R.string.discard_group), quitListener);\n+        alertDialog.setButton(BUTTON_NEGATIVE, getActivity().getString(R.string.delete_repeat_no), quitListener);\n+\n+        return alertDialog;\n+    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "f169b4c5ac040433dd4d5db81d781103cb90d0c6", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 5052039f9..ecdb63ace 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -43,4 +64,9 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n         return alertDialog;\n     }\n+\n+    public interface DeleteRepeatDialogCallback {\n+        void deleteGroup();\n+        void onCancelled();\n+    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "64853923c20e975e972a14a958c929766c430625", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..120e2c970 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -67,6 +65,5 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     public interface DeleteRepeatDialogCallback {\n         void deleteGroup();\n-        void onCancelled();\n     }\n }\n\\ No newline at end of file\n", "next_change": null}]}}]}}]}}]}}]}}]}, "revised_code_in_main": {"commit": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..120e2c970 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -67,6 +65,5 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     public interface DeleteRepeatDialogCallback {\n         void deleteGroup();\n-        void onCancelled();\n     }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "1369577e4d388665c30ca3cd3897340291c58cf2", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 120e2c970..4aa1c824d 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -66,4 +80,4 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n     public interface DeleteRepeatDialogCallback {\n         void deleteGroup();\n     }\n-}\n\\ No newline at end of file\n+}\n", "next_change": null}]}}]}, "commits_in_main": [{"oid": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "message": "Merge commit", "committedDate": null}, {"oid": "0269ea75eae2b203c8f7039e3a79ef6ada48afea", "committedDate": "2022-01-03 11:13:18 +0100", "message": "Use MaterialAlertDialogBuilder instead of AlertDialog.Builder across the app"}, {"oid": "1369577e4d388665c30ca3cd3897340291c58cf2", "committedDate": "2022-09-28 14:35:23 +0100", "message": "Remove getFormController from DeleteRepeatDialogFragment"}, {"oid": "63b09ed937fddb3c99a814dbce3aa5d9e4ff6ed1", "committedDate": "2023-03-09 09:01:48 -0800", "message": "Create on view model factory for form entry"}]}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU0NzI5Nw==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r435547297", "body": "I'm not loving this protected field pattern for testing and I see it shows up in #3792 as well. I think that again, using a `ViewModel` here would help address that.", "bodyText": "I'm not loving this protected field pattern for testing and I see it shows up in #3792 as well. I think that again, using a ViewModel here would help address that.", "bodyHTML": "<p dir=\"auto\">I'm not loving this protected field pattern for testing and I see it shows up in <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"603280926\" data-permission-text=\"Title is private\" data-url=\"https://github.com/getodk/collect/issues/3792\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/getodk/collect/pull/3792/hovercard\" href=\"https://github.com/getodk/collect/pull/3792\">#3792</a> as well. I think that again, using a <code>ViewModel</code> here would help address that.</p>", "author": "lognaturel", "createdAt": "2020-06-04T21:03:04Z", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java", "diffHunk": "@@ -0,0 +1,72 @@\n+package org.odk.collect.android.formentry.repeats;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.os.Bundle;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+\n+import org.odk.collect.android.R;\n+import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.javarosawrapper.FormController;\n+\n+import static android.content.DialogInterface.BUTTON_NEGATIVE;\n+import static android.content.DialogInterface.BUTTON_POSITIVE;\n+\n+public class DeleteRepeatDialogFragment extends DialogFragment {\n+\n+    protected FormController formController = Collect.getInstance().getFormController();", "originalCommit": "6edefe62419ede65abd147b6df5b3e72f2d50999", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU1MTc4OA==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r435551788", "bodyText": "I also feel now implementing a ViewModel would be better. I will do that.", "author": "SaumiaSinghal", "createdAt": "2020-06-04T21:11:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU0NzI5Nw=="}], "type": "inlineReview", "revised_code": {"commit": "f88d23aa61184b9d9d27796854ebde128bfd9758", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..42b664b27 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -9,26 +9,22 @@ import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n+import androidx.lifecycle.ViewModelProviders;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n-import org.odk.collect.android.javarosawrapper.FormController;\n+import org.odk.collect.android.formentry.FormEntryViewModel;\n \n import static android.content.DialogInterface.BUTTON_NEGATIVE;\n import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    protected FormController formController = Collect.getInstance().getFormController();\n-    protected DeleteRepeatDialogCallback callback;\n+    private FormEntryViewModel viewModel;\n \n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n-\n-        if (context instanceof DeleteRepeatDialogCallback) {\n-            callback = (DeleteRepeatDialogCallback) context;\n-        }\n+        viewModel = ViewModelProviders.of(requireActivity()).get(FormEntryViewModel.class);\n     }\n \n     @NonNull\n", "next_change": {"commit": "19ac9d6c6658b2c54cb4fa2460a517678caaf101", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 42b664b27..06ff80461 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -20,11 +22,16 @@ import static android.content.DialogInterface.BUTTON_POSITIVE;\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     private FormEntryViewModel viewModel;\n+    protected DeleteRepeatDialogCallback callback;\n \n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n+\n         viewModel = ViewModelProviders.of(requireActivity()).get(FormEntryViewModel.class);\n+        if (context instanceof DeleteRepeatDialogCallback) {\n+            callback = (DeleteRepeatDialogCallback) context;\n+        }\n     }\n \n     @NonNull\n", "next_change": {"commit": "bbdf2cd115157bd600783c19c898de76364ca068", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 06ff80461..2c68c615e 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -1,75 +1,7 @@\n package org.odk.collect.android.formentry.repeats;\n \n-import android.app.Dialog;\n-import android.content.Context;\n-import android.content.DialogInterface;\n-import android.os.Bundle;\n-\n-import androidx.annotation.NonNull;\n-import androidx.annotation.Nullable;\n-import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n-import androidx.lifecycle.ViewModelProviders;\n-\n-import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n-import org.odk.collect.android.formentry.FormEntryViewModel;\n-import org.odk.collect.android.javarosawrapper.FormController;\n-\n-import static android.content.DialogInterface.BUTTON_NEGATIVE;\n-import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    private FormEntryViewModel viewModel;\n-    protected DeleteRepeatDialogCallback callback;\n-\n-    @Override\n-    public void onAttach(@NonNull Context context) {\n-        super.onAttach(context);\n-\n-        viewModel = ViewModelProviders.of(requireActivity()).get(FormEntryViewModel.class);\n-        if (context instanceof DeleteRepeatDialogCallback) {\n-            callback = (DeleteRepeatDialogCallback) context;\n-        }\n-    }\n-\n-    @NonNull\n-    @Override\n-    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n-        super.onCreateDialog(savedInstanceState);\n-\n-        String name = viewModel.getLastRepeatedGroupName();\n-        int repeatcount = viewModel.getLastRepeatedGroupRepeatCount();\n-        if (repeatcount != -1) {\n-            name += \" (\" + (repeatcount + 1) + \")\";\n-        }\n-\n-        AlertDialog alertDialog = new AlertDialog.Builder(getActivity()).create();\n-        alertDialog.setTitle(getActivity().getString(R.string.delete_repeat_ask));\n-        alertDialog.setMessage(getActivity().getString(R.string.delete_repeat_confirm, name));\n-        DialogInterface.OnClickListener quitListener = (dialog, i) -> {\n-            switch (i) {\n-                case BUTTON_POSITIVE: // yes\n-                    callback.deleteGroup();\n-                    break;\n-\n-                case BUTTON_NEGATIVE: // no\n-                    callback.onCancelled();\n-                    break;\n-            }\n-            alertDialog.cancel();\n-            dismiss();\n-        };\n-        alertDialog.setCancelable(false);\n-        alertDialog.setButton(BUTTON_POSITIVE, getActivity().getString(R.string.discard_group), quitListener);\n-        alertDialog.setButton(BUTTON_NEGATIVE, getActivity().getString(R.string.delete_repeat_no), quitListener);\n-\n-        return alertDialog;\n-    }\n-\n-    public interface DeleteRepeatDialogCallback {\n-        void deleteGroup();\n-        void onCancelled();\n-    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "0c9fe14170f2abc652722d34e458191feefdc863", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 2c68c615e..5052039f9 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -1,7 +1,46 @@\n package org.odk.collect.android.formentry.repeats;\n \n+import android.app.Dialog;\n+import android.content.DialogInterface;\n+import android.os.Bundle;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n \n+import org.odk.collect.android.R;\n+\n+import static android.content.DialogInterface.BUTTON_NEGATIVE;\n+import static android.content.DialogInterface.BUTTON_POSITIVE;\n+\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        super.onCreateDialog(savedInstanceState);\n+\n+        AlertDialog alertDialog = new AlertDialog.Builder(getActivity()).create();\n+\n+        alertDialog.setTitle(getActivity().getString(R.string.delete_repeat_ask));\n+        DialogInterface.OnClickListener quitListener = (dialog, i) -> {\n+            switch (i) {\n+                case BUTTON_POSITIVE: // yes\n+\n+                    break;\n+\n+                case BUTTON_NEGATIVE: // no\n+\n+                    break;\n+            }\n+            alertDialog.cancel();\n+            dismiss();\n+        };\n+        alertDialog.setCancelable(false);\n+        alertDialog.setButton(BUTTON_POSITIVE, getActivity().getString(R.string.discard_group), quitListener);\n+        alertDialog.setButton(BUTTON_NEGATIVE, getActivity().getString(R.string.delete_repeat_no), quitListener);\n+\n+        return alertDialog;\n+    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "f169b4c5ac040433dd4d5db81d781103cb90d0c6", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 5052039f9..ecdb63ace 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -43,4 +64,9 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n         return alertDialog;\n     }\n+\n+    public interface DeleteRepeatDialogCallback {\n+        void deleteGroup();\n+        void onCancelled();\n+    }\n }\n\\ No newline at end of file\n", "next_change": {"commit": "64853923c20e975e972a14a958c929766c430625", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..120e2c970 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -67,6 +65,5 @@ public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     public interface DeleteRepeatDialogCallback {\n         void deleteGroup();\n-        void onCancelled();\n     }\n }\n\\ No newline at end of file\n", "next_change": null}]}}]}}]}}]}}]}}]}, "revised_code_in_main": {"commit": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..120e2c970 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -12,6 +12,7 @@ import androidx.fragment.app.DialogFragment;\n \n import org.odk.collect.android.R;\n import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.formentry.audit.AuditEvent;\n import org.odk.collect.android.javarosawrapper.FormController;\n \n import static android.content.DialogInterface.BUTTON_NEGATIVE;\n", "next_change": {"commit": "0269ea75eae2b203c8f7039e3a79ef6ada48afea", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 120e2c970..812319e30 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -18,6 +18,8 @@ import org.odk.collect.android.javarosawrapper.FormController;\n import static android.content.DialogInterface.BUTTON_NEGATIVE;\n import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n+import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n+\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     private DeleteRepeatDialogCallback callback;\n", "next_change": {"commit": "1369577e4d388665c30ca3cd3897340291c58cf2", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 812319e30..4aa1c824d 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -9,25 +12,32 @@ import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n+import androidx.lifecycle.ViewModelProvider;\n+\n+import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.formentry.FormEntryViewModel;\n import org.odk.collect.android.formentry.audit.AuditEvent;\n+import org.odk.collect.android.injection.DaggerUtils;\n import org.odk.collect.android.javarosawrapper.FormController;\n \n-import static android.content.DialogInterface.BUTTON_NEGATIVE;\n-import static android.content.DialogInterface.BUTTON_POSITIVE;\n-\n-import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n+import javax.inject.Inject;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n+    @Inject\n+    FormEntryViewModel.Factory formEntryViewModelFactory;\n+    private FormEntryViewModel formEntryViewModel;\n+\n     private DeleteRepeatDialogCallback callback;\n-    FormController formController = Collect.getInstance().getFormController();\n \n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n+        DaggerUtils.getComponent(context).inject(this);\n+\n+        formEntryViewModel = new ViewModelProvider(requireActivity(), formEntryViewModelFactory).get(FormEntryViewModel.class);\n \n         if (context instanceof DeleteRepeatDialogCallback) {\n             callback = (DeleteRepeatDialogCallback) context;\n", "next_change": {"commit": "63b09ed937fddb3c99a814dbce3aa5d9e4ff6ed1", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 4aa1c824d..652543990 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -22,22 +22,23 @@ import org.odk.collect.android.formentry.audit.AuditEvent;\n import org.odk.collect.android.injection.DaggerUtils;\n import org.odk.collect.android.javarosawrapper.FormController;\n \n-import javax.inject.Inject;\n-\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    @Inject\n-    FormEntryViewModel.Factory formEntryViewModelFactory;\n+    private final ViewModelProvider.Factory viewModelFactory;\n     private FormEntryViewModel formEntryViewModel;\n \n     private DeleteRepeatDialogCallback callback;\n \n+    public DeleteRepeatDialogFragment(ViewModelProvider.Factory viewModelFactory) {\n+        this.viewModelFactory = viewModelFactory;\n+    }\n+\n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n         DaggerUtils.getComponent(context).inject(this);\n \n-        formEntryViewModel = new ViewModelProvider(requireActivity(), formEntryViewModelFactory).get(FormEntryViewModel.class);\n+        formEntryViewModel = new ViewModelProvider(requireActivity(), viewModelFactory).get(FormEntryViewModel.class);\n \n         if (context instanceof DeleteRepeatDialogCallback) {\n             callback = (DeleteRepeatDialogCallback) context;\n", "next_change": null}]}}]}}]}}, {"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex ecdb63ace..120e2c970 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -19,8 +20,8 @@ import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    protected FormController formController = Collect.getInstance().getFormController();\n-    protected DeleteRepeatDialogCallback callback;\n+    private DeleteRepeatDialogCallback callback;\n+    FormController formController = Collect.getInstance().getFormController();\n \n     @Override\n     public void onAttach(@NonNull Context context) {\n", "next_change": {"commit": "0269ea75eae2b203c8f7039e3a79ef6ada48afea", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 120e2c970..812319e30 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -18,6 +18,8 @@ import org.odk.collect.android.javarosawrapper.FormController;\n import static android.content.DialogInterface.BUTTON_NEGATIVE;\n import static android.content.DialogInterface.BUTTON_POSITIVE;\n \n+import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n+\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n     private DeleteRepeatDialogCallback callback;\n", "next_change": {"commit": "1369577e4d388665c30ca3cd3897340291c58cf2", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 812319e30..4aa1c824d 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -9,25 +12,32 @@ import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n import androidx.appcompat.app.AlertDialog;\n import androidx.fragment.app.DialogFragment;\n+import androidx.lifecycle.ViewModelProvider;\n+\n+import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n \n import org.odk.collect.android.R;\n-import org.odk.collect.android.application.Collect;\n+import org.odk.collect.android.formentry.FormEntryViewModel;\n import org.odk.collect.android.formentry.audit.AuditEvent;\n+import org.odk.collect.android.injection.DaggerUtils;\n import org.odk.collect.android.javarosawrapper.FormController;\n \n-import static android.content.DialogInterface.BUTTON_NEGATIVE;\n-import static android.content.DialogInterface.BUTTON_POSITIVE;\n-\n-import com.google.android.material.dialog.MaterialAlertDialogBuilder;\n+import javax.inject.Inject;\n \n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n+    @Inject\n+    FormEntryViewModel.Factory formEntryViewModelFactory;\n+    private FormEntryViewModel formEntryViewModel;\n+\n     private DeleteRepeatDialogCallback callback;\n-    FormController formController = Collect.getInstance().getFormController();\n \n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n+        DaggerUtils.getComponent(context).inject(this);\n+\n+        formEntryViewModel = new ViewModelProvider(requireActivity(), formEntryViewModelFactory).get(FormEntryViewModel.class);\n \n         if (context instanceof DeleteRepeatDialogCallback) {\n             callback = (DeleteRepeatDialogCallback) context;\n", "next_change": {"commit": "63b09ed937fddb3c99a814dbce3aa5d9e4ff6ed1", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\nindex 4aa1c824d..652543990 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/formentry/repeats/DeleteRepeatDialogFragment.java\n", "chunk": "@@ -22,22 +22,23 @@ import org.odk.collect.android.formentry.audit.AuditEvent;\n import org.odk.collect.android.injection.DaggerUtils;\n import org.odk.collect.android.javarosawrapper.FormController;\n \n-import javax.inject.Inject;\n-\n public class DeleteRepeatDialogFragment extends DialogFragment {\n \n-    @Inject\n-    FormEntryViewModel.Factory formEntryViewModelFactory;\n+    private final ViewModelProvider.Factory viewModelFactory;\n     private FormEntryViewModel formEntryViewModel;\n \n     private DeleteRepeatDialogCallback callback;\n \n+    public DeleteRepeatDialogFragment(ViewModelProvider.Factory viewModelFactory) {\n+        this.viewModelFactory = viewModelFactory;\n+    }\n+\n     @Override\n     public void onAttach(@NonNull Context context) {\n         super.onAttach(context);\n         DaggerUtils.getComponent(context).inject(this);\n \n-        formEntryViewModel = new ViewModelProvider(requireActivity(), formEntryViewModelFactory).get(FormEntryViewModel.class);\n+        formEntryViewModel = new ViewModelProvider(requireActivity(), viewModelFactory).get(FormEntryViewModel.class);\n \n         if (context instanceof DeleteRepeatDialogCallback) {\n             callback = (DeleteRepeatDialogCallback) context;\n", "next_change": null}]}}]}}]}}]}, "commits_in_main": [{"oid": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "message": "Merge commit", "committedDate": null}, {"oid": "0269ea75eae2b203c8f7039e3a79ef6ada48afea", "committedDate": "2022-01-03 11:13:18 +0100", "message": "Use MaterialAlertDialogBuilder instead of AlertDialog.Builder across the app"}, {"oid": "1369577e4d388665c30ca3cd3897340291c58cf2", "committedDate": "2022-09-28 14:35:23 +0100", "message": "Remove getFormController from DeleteRepeatDialogFragment"}, {"oid": "63b09ed937fddb3c99a814dbce3aa5d9e4ff6ed1", "committedDate": "2023-03-09 09:01:48 -0800", "message": "Create on view model factory for form entry"}]}, {"oid": "f88d23aa61184b9d9d27796854ebde128bfd9758", "url": "https://github.com/getodk/collect/commit/f88d23aa61184b9d9d27796854ebde128bfd9758", "message": "add unit tests for FormEntryViewModel", "committedDate": "2020-06-08T15:52:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyNjczNA==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r440526734", "body": "I don't think this works because the `ViewModel` will have a reference to the `Activity`, causing a leak.\r\n\r\nI thought the callbacks you had before were fine. I was imagining the `ViewModel` only as a way for the dialog to get access to the `FormController`. Even better might be to give access only to the data that the dialog needs which I think is the last deleted repeat name and the last deleted repeat index.", "bodyText": "I don't think this works because the ViewModel will have a reference to the Activity, causing a leak.\nI thought the callbacks you had before were fine. I was imagining the ViewModel only as a way for the dialog to get access to the FormController. Even better might be to give access only to the data that the dialog needs which I think is the last deleted repeat name and the last deleted repeat index.", "bodyHTML": "<p dir=\"auto\">I don't think this works because the <code>ViewModel</code> will have a reference to the <code>Activity</code>, causing a leak.</p>\n<p dir=\"auto\">I thought the callbacks you had before were fine. I was imagining the <code>ViewModel</code> only as a way for the dialog to get access to the <code>FormController</code>. Even better might be to give access only to the data that the dialog needs which I think is the last deleted repeat name and the last deleted repeat index.</p>", "author": "lognaturel", "createdAt": "2020-06-16T00:58:30Z", "path": "collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java", "diffHunk": "@@ -1132,6 +1132,16 @@ public void onCreateContextMenu(ContextMenu menu, View v,\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n+            formEntryViewModel.setOnDeleted(() -> {", "originalCommit": "4c252dfb8527d199b30efb605a0400430fa4ff91", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAzNTY5NQ==", "url": "https://github.com/getodk/collect/pull/3839#discussion_r441035695", "bodyText": "Sorry @ln I didn't realize this would cause activity leak.", "author": "SaumiaSinghal", "createdAt": "2020-06-16T17:52:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDUyNjczNA=="}], "type": "inlineReview", "revised_code": {"commit": "19ac9d6c6658b2c54cb4fa2460a517678caaf101", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex 3e48824ae..6972916a9 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1132,16 +1132,6 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            formEntryViewModel.setOnDeleted(() -> {\n-                FormController formController = getFormController();\n-                if (formController != null && !formController.indexIsInFieldList()) {\n-                    showNextView();\n-                } else {\n-                    refreshCurrentView();\n-                }\n-            });\n-            formEntryViewModel.setOnCancelled(() -> refreshCurrentView());\n-\n             DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n", "next_change": {"commit": "bbdf2cd115157bd600783c19c898de76364ca068", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex 6972916a9..fb5a1765b 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1132,7 +1133,7 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n+            createDeleteRepeatConfirmDialog();\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n             if (odkView != null) {\n", "next_change": {"commit": "f169b4c5ac040433dd4d5db81d781103cb90d0c6", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex fb5a1765b..4c673043c 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1133,7 +1134,7 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            createDeleteRepeatConfirmDialog();\n+            DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n             if (odkView != null) {\n", "next_change": null}]}}]}}]}, "revised_code_in_main": {"commit": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex 3e48824ae..ac3f6a01c 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1132,16 +1140,6 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            formEntryViewModel.setOnDeleted(() -> {\n-                FormController formController = getFormController();\n-                if (formController != null && !formController.indexIsInFieldList()) {\n-                    showNextView();\n-                } else {\n-                    refreshCurrentView();\n-                }\n-            });\n-            formEntryViewModel.setOnCancelled(() -> refreshCurrentView());\n-\n             DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n", "next_change": {"commit": "904f18b537bbbb48f83cca8e8614c363449a0f09", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex ac3f6a01c..c7d98cc98 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1140,7 +1166,7 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n+            createDeleteRepeatConfirmDialog();\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n             if (odkView != null) {\n", "next_change": {"commit": "578158fbcab108a6e71953a234d29eb538cf4c3b", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex c7d98cc98..da8145ddc 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1166,7 +1141,7 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            createDeleteRepeatConfirmDialog();\n+            DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n             if (odkView != null) {\n", "next_change": {"commit": "f27c4dd3b250a1664f433de6b33c9ec45f3eec1d", "changed_code": [{"header": "diff --git a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\nindex da8145ddc..c54e88b01 100644\n--- a/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n+++ b/collect_app/src/main/java/org/odk/collect/android/activities/FormEntryActivity.java\n", "chunk": "@@ -1128,20 +1037,22 @@ public class FormEntryActivity extends CollectAbstractActivity implements Animat\n     @Override\n     public void onCreateContextMenu(ContextMenu menu, View v,\n                                     ContextMenuInfo menuInfo) {\n-        super.onCreateContextMenu(menu, v, menuInfo);\n-        FormController formController = getFormController();\n+        if (!swipeHandler.beenSwiped()) {\n+            super.onCreateContextMenu(menu, v, menuInfo);\n+            FormController formController = getFormController();\n \n-        menu.add(0, v.getId(), 0, getString(R.string.clear_answer));\n-        if (formController.indexContainsRepeatableGroup()) {\n-            menu.add(0, DELETE_REPEAT, 0, getString(R.string.delete_repeat));\n+            menu.add(0, v.getId(), 0, getString(R.string.clear_answer));\n+            if (formController.indexContainsRepeatableGroup()) {\n+                menu.add(0, DELETE_REPEAT, 0, getString(R.string.delete_repeat));\n+            }\n+            menu.setHeaderTitle(getString(R.string.edit_prompt));\n         }\n-        menu.setHeaderTitle(getString(R.string.edit_prompt));\n     }\n \n     @Override\n     public boolean onContextItemSelected(MenuItem item) {\n         if (item.getItemId() == DELETE_REPEAT) {\n-            DialogUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n+            DialogFragmentUtils.showIfNotShowing(DeleteRepeatDialogFragment.class, getSupportFragmentManager());\n         } else {\n             ODKView odkView = getCurrentViewIfODKView();\n             if (odkView != null) {\n", "next_change": null}]}}]}}]}}]}, "commits_in_main": [{"oid": "8e6591552913f6a69894c6a8f2ccdefa2246fa0a", "message": "Merge commit", "committedDate": null}, {"oid": "904f18b537bbbb48f83cca8e8614c363449a0f09", "committedDate": "2020-07-09 21:40:26 +0530", "message": "Extract waiting for data component from QuestionWidget"}, {"oid": "82f2d5c2c16fd4f93cab3ae60618df80726a5649", "committedDate": "2020-07-09 21:40:26 +0530", "message": "Detach BinaryWidget interface from Widget hierarchy"}, {"oid": "578158fbcab108a6e71953a234d29eb538cf4c3b", "committedDate": "2020-07-21 11:15:31 +0100", "message": "Revise interface around background work"}, {"oid": "d4c1a88878519a1f847d74ef89a400a58393d944", "committedDate": "2020-07-21 11:36:42 +0100", "message": "Optimize imports"}, {"oid": "c6815be2f29327e6d787e8cbea0d629dcbc50686", "committedDate": "2020-07-22 10:01:00 +0100", "message": "Move TODO to issue https://github.com/getodk/collect/issues/3980"}, {"oid": "8a7feb0c1bbd4f33ccffc0087c28a892505c673e", "committedDate": "2020-07-23 11:28:38 -0700", "message": "Merge pull request #3877 from SaumiaSinghal/base_geo_widget"}, {"oid": "42a66c33c40b4098f019dd83e51860b8355af634", "committedDate": "2020-07-27 14:03:39 +0100", "message": "Move auto send to using scheduler"}, {"oid": "a037c8ed50c76efbe4e3cfbcbc73418907dc1413", "committedDate": "2020-07-31 11:43:55 +0100", "message": "Add change lock to prevent background jobs or migrations running at the same time"}, {"oid": "fff080e4331506551de734f58336b43176a8b965", "committedDate": "2020-08-18 23:52:51 +0200", "message": "Adjusted gesture navigation"}, {"oid": "793538b7adbc328ab5dbe16cb576c7a7cca69525", "committedDate": "2020-08-18 23:52:51 +0200", "message": "Adjust gesture navigation only if vertical scrolling is enabled"}, {"oid": "44797958fab02d04af1433285217fd5bb4818f32", "committedDate": "2020-08-18 23:52:51 +0200", "message": "Moved the code responsible for gesture navigation out of FormEntryActivity\""}, {"oid": "ce1d676d3a5f7821b8a1487ac93b6c5bb7bdea60", "committedDate": "2020-08-25 08:30:17 +0200", "message": "Implemented select minimal widgets"}, {"oid": "5fd9e70d8261f25d28b3eaae813bf158ac28e643", "committedDate": "2020-08-25 08:30:18 +0200", "message": "Fixed conflicts"}, {"oid": "0d39634e28ceba8eda0307e8aa448e5e8fec9e74", "committedDate": "2020-08-25 08:46:59 +0200", "message": "Code improvements"}, {"oid": "f1d5a3f611beb65263a373a0e628262e59fe5ac6", "committedDate": "2020-08-25 16:52:35 +0530", "message": "use formsaveviewmodel to access MediaManager"}, {"oid": "4538677195fb3deb685d07793de2992249055562", "committedDate": "2020-08-25 16:52:35 +0530", "message": "delete MediaManager class"}, {"oid": "9650495f75e4643076ab868012009114bbd1495e", "committedDate": "2020-08-25 16:52:35 +0530", "message": "use SavedStateHandle"}, {"oid": "a0f4ef962bf2e044db7eb2be04a752e281fcc7e2", "committedDate": "2020-08-25 16:52:35 +0530", "message": "fix SavedStateHandle error"}, {"oid": "205686892a07dd9ff9eee2a1fb0737bbabbafc2f", "committedDate": "2020-08-25 19:31:59 +0530", "message": "code refactor"}, {"oid": "65ea21f672c4f704de4f1c631d95baf26c96ac2e", "committedDate": "2020-08-27 15:03:54 -0700", "message": "Remove analytics events that aren't actionable"}, {"oid": "1fcb0579fe6bc4f382beb537cfc8484dc4d2dbb4", "committedDate": "2020-08-28 15:01:01 -0700", "message": "Merge pull request #4006 from SaumiaSinghal/audio_widget"}, {"oid": "e38767f11062cc402ae5305a0c4e3c57e187e103", "committedDate": "2020-09-03 15:12:11 +0200", "message": "Fixed auto-sent functionality"}, {"oid": "f478e3ea254ebf9b4666165c927498c61d928f63", "committedDate": "2020-09-03 15:15:41 +0200", "message": "Code improvements"}, {"oid": "3cc008570c036f216293de667023d4d16663b7a9", "committedDate": "2020-09-03 15:15:41 +0200", "message": "Naming improvements"}, {"oid": "c9a7da39afc21f6e177f6f2d14e2402fb2f7ac1c", "committedDate": "2020-09-03 15:19:09 +0200", "message": "Fixed reading id and version from formController"}, {"oid": "1fc37547add48212f8da6b291a620f654caa257a", "committedDate": "2020-09-03 15:19:09 +0200", "message": "Try to trigger autosend every time a form is saved"}, {"oid": "8bc5dc50df75976b4d2bb565fedab7641a0e295d", "committedDate": "2020-09-03 15:54:44 +0200", "message": "Fixed conflicts"}, {"oid": "9a147910f219d8d79b0580ba29ee81b4595c7d12", "committedDate": "2020-09-08 16:45:53 +0200", "message": "Merge pull request #4016 from grzesiek2010/COLLECT-3966"}, {"oid": "11e922acbb1d22f5d992c90345726394388b1b9b", "committedDate": "2020-09-10 15:24:43 +0200", "message": "Fixed BinaryOperationInTimber"}, {"oid": "f9f3442419cb905f15b8302a217d066ee6decce2", "committedDate": "2020-09-24 10:41:48 +0100", "message": "Try to protect FormSaveViewModel from null FormController"}, {"oid": "18a119f582dda70b77b3fb09fbfc52126b91f0f0", "committedDate": "2020-09-25 12:50:04 +0200", "message": "Handle multiclicking in onOptionsItemSelected() methods"}, {"oid": "a6ff71197fe5eb695cf1069e67cacc45b14c4fd2", "committedDate": "2020-10-01 10:05:59 +0200", "message": "Merge branch 'master' into lints2"}, {"oid": "8808307970d08d7c1a92b3da263db28f25c9a514", "committedDate": "2020-10-02 15:57:43 +0200", "message": "Fixed the form end screen"}, {"oid": "0a598359a12db2269cbbd7dcac4253830abed802", "committedDate": "2020-10-05 11:41:37 +0200", "message": "Merge pull request #4120 from grzesiek2010/COLLECT-4113"}, {"oid": "0eb932e9eee9e69fbd7fe01e19a6488a284b003d", "committedDate": "2020-10-06 14:37:23 +0530", "message": "remove RangeWidget and RangeWidgetTest class"}, {"oid": "3e7b0e075c2a623a74c05bdff7664d2b948314f3", "committedDate": "2020-10-06 14:45:28 +0530", "message": "update RangePickerIntegerWidget class"}, {"oid": "31e5beea8ea6c5ba2d89a3f4846b88d3cdd3a607", "committedDate": "2020-10-06 14:45:28 +0530", "message": "update RangePickerDecimalWidget class"}, {"oid": "6bdea68895fd57d52e67aea3b55a4441b54272be", "committedDate": "2020-10-06 14:30:17 +0200", "message": "Merge pull request #4138 from grzesiek2010/COLLECT-4137"}, {"oid": "c4bddb406a33159fcdfde78fac75ebf0001941e5", "committedDate": "2020-10-09 11:06:55 -0700", "message": "Add XML layout and tests for range widgets (#3969)"}, {"oid": "c453021591c47382e9119453f60ee8e57b7af897", "committedDate": "2020-10-13 07:14:30 +0530", "message": "code refactor"}, {"oid": "01082219362e69f01265be7a72ced680391116fa", "committedDate": "2020-10-13 18:28:43 +0100", "message": "Move non android code out of android package"}, {"oid": "d49d311a5eb558b28c49e2696c4cb67899a69b51", "committedDate": "2020-10-13 18:28:48 +0100", "message": "Move other packages back to android"}, {"oid": "0fdc0d3c4b5e01eae24a658fb067549d08faaeac", "committedDate": "2020-10-13 18:28:48 +0100", "message": "Optimize imports"}, {"oid": "32ad63459faba6d98a42933a9858651f896c9266", "committedDate": "2020-10-16 17:55:59 +0100", "message": "Merge pull request #3922 from SaumiaSinghal/rework_geoShapeWidget"}, {"oid": "ad9990ce167216da8cfaab9d4c2756d3d3291848", "committedDate": "2020-10-19 15:02:14 +0100", "message": "Wrap AudioPlayerViewModel in interface"}, {"oid": "89bfca6a368f4d3c95627474488bfa87de208ca0", "committedDate": "2020-10-19 15:02:14 +0100", "message": "Remove LiveData from AudioPlayer so views don't need access to lifecycle"}, {"oid": "0fcaa4c988be47da0618900c4e27572d3dba6a72", "committedDate": "2020-10-19 15:02:15 +0100", "message": "Rename viewmodel"}, {"oid": "b4838f5c885d4e866b702a696790a2cd43faff84", "committedDate": "2020-10-19 15:02:15 +0100", "message": "Pull audio view model into its own module"}, {"oid": "7b8f965fc188a952f5de6aea53c56da365765e71", "committedDate": "2020-10-19 15:02:18 +0100", "message": "Use string instead of file for AudioWidget data"}, {"oid": "bd968f54eb60ff831e924957f16e1d7f6f7af810", "committedDate": "2020-10-19 15:02:20 +0100", "message": "Add more detail around QuestionMediaManager implementation and move ViewModelAudioPlayer"}, {"oid": "c7ad39a171f972f9d02ccdf1331450108c4feb30", "committedDate": "2020-10-20 09:47:46 +0100", "message": "Spike out recording"}, {"oid": "4474dd286e7c515cf498d1af718261450d4b69fa", "committedDate": "2020-10-20 09:47:52 +0100", "message": "Remove as much Collect specific code form PermissionUtils as possible"}, {"oid": "99254e99f1c182975efe95057fc2dcc671477d5d", "committedDate": "2020-11-06 18:07:26 +0530", "message": "update layout"}, {"oid": "77f21c8a4909483f132b1022cb050020dc761627", "committedDate": "2020-11-06 18:07:27 +0530", "message": "fixed conflicts"}, {"oid": "227676955114d36075671141473cbf3def80190c", "committedDate": "2020-11-06 18:07:28 +0530", "message": "fixed conflicts"}, {"oid": "b3c1b034eba62ddf8f85cd6ee3f6509b18838a21", "committedDate": "2020-11-06 18:07:30 +0530", "message": "fixed conflicts"}, {"oid": "90bc92536b8ffb8ec9e812bf87a10446b9c6bc9a", "committedDate": "2020-11-06 18:07:31 +0530", "message": "fixed conflicts"}, {"oid": "5defdc69ce10c406ff1ccb735c6477dd6cc1e758", "committedDate": "2020-11-06 18:07:36 +0530", "message": "fix month value shown in FixedDatePickerDialog"}, {"oid": "9f4b1b98ff56f7fd7d2a966703f8fb37ade5b6aa", "committedDate": "2020-11-06 18:08:47 +0530", "message": "rename BinaryDataReceiver to WidgetDataReceiver"}, {"oid": "501d519aaeeb42cc1c93364524750d3122bf8274", "committedDate": "2020-11-06 18:08:57 +0530", "message": "remove CustomDatePickerDialog listener"}, {"oid": "e38b94d406e5fdb03de469d2a3363d30d520ca55", "committedDate": "2020-11-06 18:08:58 +0530", "message": "code refactor"}, {"oid": "db0d0b08a6b1fa31259d36e93b9cf76575ac1de3", "committedDate": "2020-11-06 18:08:59 +0530", "message": "use LocalDateTime for TimeWidget and DateTimeWidget"}, {"oid": "74965daaa2bb1200eb73d4641cd60f649e09034a", "committedDate": "2020-11-06 18:09:00 +0530", "message": "remove OnDateSetListener and OnTimeSetListener"}, {"oid": "85a52d0fbc2efc0c28ced7105ebc19d3084aa01b", "committedDate": "2020-11-06 18:12:03 +0530", "message": "create viewmodel using context of dialog and add update unit tests"}, {"oid": "c57463eff45c9f90466bd8d36c225350a01af0c3", "committedDate": "2020-11-06 16:16:14 +0000", "message": "Initial implementation of inline recording"}, {"oid": "94e14614e9589bde21eb5d96ffd93e89ffb1c952", "committedDate": "2020-11-06 16:16:14 +0000", "message": "Write failing test for external widget and audio in field list"}, {"oid": "13aac9ca106aa33dba4fb3f57315d38036d2af92", "committedDate": "2020-11-06 16:16:14 +0000", "message": "Allow external widgets and audio question to work together"}, {"oid": "f05790fee17f533ee32f96855a77349a0b7b57d6", "committedDate": "2020-11-06 16:16:14 +0000", "message": "Simplify FormEntryActivity and FormIndexAnimationHandler communication"}, {"oid": "e9ae68ea6743b1b2c978a674e80f69dd4ebb1d18", "committedDate": "2020-11-06 16:16:15 +0000", "message": "Use fake audio recorder view model in test to prevent timing issues"}, {"oid": "584fbe01e15ddf7f46a20e850da091365aa33c63", "committedDate": "2020-11-06 16:16:15 +0000", "message": "Make sure audio recording cancels when changing screens"}, {"oid": "0c8cacf468f8d72aaae266e0fc84919294d16eb2", "committedDate": "2020-11-06 16:16:15 +0000", "message": "Attempt to make screen transition logic a little nicer"}, {"oid": "d59eec0debd2e8dadc654bc81203996fbb18a99f", "committedDate": "2020-11-06 16:16:15 +0000", "message": "Only show stop recording button when recording"}, {"oid": "e0678ce6d7e46574c04a9610c9fed61f2675b2cc", "committedDate": "2020-11-06 16:16:15 +0000", "message": "Display stop button in toolbar"}, {"oid": "9c5ce05c98099818ecd59760aa47bab8a8b87679", "committedDate": "2020-11-06 16:16:16 +0000", "message": "Make sure recording status updates correctly"}, {"oid": "a2fdfa0ebec2796b60157d8f0ad71a4ad94ba141", "committedDate": "2020-11-06 16:16:16 +0000", "message": "Make sure opening hierarchy doesn't break anything"}, {"oid": "2e020eab1a3eefa8d6e7ab30d77553a157ee066e", "committedDate": "2020-11-06 16:16:17 +0000", "message": "Clean up after recording audio"}, {"oid": "0432c9ab68365d7bbc6e51a0745cf58a894aa5a3", "committedDate": "2020-11-06 16:16:17 +0000", "message": "Show progress dialog while saving answer files"}, {"oid": "919cca13a0e23dc02758687738564ecfb8b61a7c", "committedDate": "2020-11-11 11:13:16 +0530", "message": "rename setBinaryWidgetData to setWidgetData in FormEntryActivity"}, {"oid": "7eb6cf2d16924ab63fca3eedc18ded631e9f1299", "committedDate": "2020-11-12 10:56:05 +0100", "message": "Merge branch 'master' into rework_date_widget"}, {"oid": "7cd0f0d8bded0a0f7af8bd6170bc56d1a08507b8", "committedDate": "2020-11-13 11:15:44 +0000", "message": "Make WidgetFactory an instance in ODKView"}, {"oid": "ab7e8a01dd10102601e5f74b239bb5951b10e85f", "committedDate": "2020-11-17 15:07:20 +0000", "message": "Attempt to simplify form moving forwards/backwards logic"}, {"oid": "4c968f63f08f47acde4024c55bda18c5d0db7b1e", "committedDate": "2020-11-17 15:09:30 +0000", "message": "Show warning when trying to swipe between screens while recording"}, {"oid": "01dd878155c4d0181b6308f4faacda5dc054e184", "committedDate": "2020-11-17 15:10:31 +0000", "message": "Show warning when trying to open hierarchy while recording"}, {"oid": "57ac40229f9715299c32fb6cd7c84dbe2d6177cd", "committedDate": "2020-11-17 15:10:33 +0000", "message": "Use DialogFragment for warning dialog"}, {"oid": "7dbb6103ea2e236815fa66a64b04b5836a79d2c2", "committedDate": "2020-11-17 15:12:36 +0000", "message": "Show warning when user tries to quite form while recording"}, {"oid": "1aefbb6d8a6440cb349a6a57c92da16605850382", "committedDate": "2020-11-17 15:12:38 +0000", "message": "Pass ViewModels in at constructor"}, {"oid": "68312a464dc8312a1b496e5e44af29e66f06ef7d", "committedDate": "2020-11-17 15:12:38 +0000", "message": "Introduce one method for grabbing answers in FormEntryActivity"}, {"oid": "584c1f9b04d03e992181ecde40fcd79d325f98a8", "committedDate": "2020-11-17 15:15:42 +0000", "message": "Move hierarchy logic to delegate"}, {"oid": "684b4d25cca74f1210fd5de8c2449c4638318a64", "committedDate": "2020-11-17 15:15:45 +0000", "message": "Make sure swipe handler is called correctly"}, {"oid": "a52b00584827c9ec0270f67f9b4448e488079c84", "committedDate": "2020-11-17 15:15:47 +0000", "message": "Spike out using view model to cache search query"}, {"oid": "6096f02f03d6d11421a2e8a011141f906a89bcb6", "committedDate": "2020-11-17 15:15:47 +0000", "message": "Remove state saving from widgets"}, {"oid": "49e73790d089af08b4a7e613768b430d76e4fd1b", "committedDate": "2020-11-17 15:15:48 +0000", "message": "Remove references to swipe handle from moveScreen"}, {"oid": "a13496203417ceba50c1927cc44c8483f8ad1fee", "committedDate": "2020-11-17 15:15:48 +0000", "message": "Move checks into switch"}, {"oid": "dbe6e4fda287758924d83eda43b3951f0f8422bd", "committedDate": "2020-11-18 10:07:31 +0000", "message": "Convert switch to if"}, {"oid": "56d4e394c1574c02bf31a6536d5defad3e743b2d", "committedDate": "2020-11-18 10:32:14 +0000", "message": "Remove check for BEGINNING_OF_FORM as we will never be on that event"}, {"oid": "350646d7a37a7638187272044c21b781bf995422", "committedDate": "2020-11-18 10:48:25 +0000", "message": "Make d pad calls consistent"}, {"oid": "7dc03450602c1f0e414656afa929cc40b4af0efc", "committedDate": "2020-11-19 12:11:33 +0100", "message": "Got rid of recycling drawables"}, {"oid": "645a1b84dea39ca98580f58c4b07609f20c440b5", "committedDate": "2020-11-20 10:36:44 +0100", "message": "Code improvements"}, {"oid": "fd0e95ae81006f92cec2cfdde295e7e7664c8a3e", "committedDate": "2020-11-20 09:44:26 +0000", "message": "Fix swipe handler not being called"}, {"oid": "e5d0f1c6ade457736dbfaea7dc069aa83ce9a50e", "committedDate": "2020-11-20 09:55:59 +0000", "message": "Don't allow swiping back on first screen in form"}, {"oid": "03ba40e2ab608317f69592ebde271cdd943837fe", "committedDate": "2020-11-20 10:37:40 -0800", "message": "Merge pull request #4221 from grzesiek2010/COLLECT-4070"}, {"oid": "95312a78129f78a0823b00721f0c19ae9e531a12", "committedDate": "2020-11-24 13:50:47 +0100", "message": "Merge branch 'master' into COLLECT-4205"}, {"oid": "5153bfe3a3e6536164efb0137e5ec3149e1f2040", "committedDate": "2020-11-30 22:11:26 -0800", "message": "Explicitly address repeats in field-lists"}, {"oid": "248a12f42b9726f690eeec0b78fff269dccc1ec7", "committedDate": "2020-12-01 10:22:43 +0000", "message": "Simplify audio recorder interface"}, {"oid": "96e0714d846c96cff3b0131280043c678cedbefd", "committedDate": "2020-12-01 12:09:20 -0800", "message": "Remove comment that is no longer relevant"}, {"oid": "fa3642314b1cfcebed4cec1a1d66458026629a1f", "committedDate": "2020-12-02 09:41:08 -0800", "message": "Merge pull request #4241 from seadowg/timecode"}, {"oid": "1d347c622965bff0ad61c42f7d0a0b34c4585d1c", "committedDate": "2020-12-03 15:49:07 +0100", "message": "Merge pull request #4251 from lognaturel/improve-strings"}, {"oid": "2a8ab38b7d6b3e49e898cd8d99549e77631e2abd", "committedDate": "2020-12-03 14:13:40 -0800", "message": "Filter out soft deleted forms when loading instance"}, {"oid": "066da6060c26cf934cea35095cea99ba99076249", "committedDate": "2020-12-03 14:13:40 -0800", "message": "Fix code style"}, {"oid": "e2b9d221e69c8322cb848af77c2598c702ee9daf", "committedDate": "2020-12-03 14:43:49 -0800", "message": "Standardize repository interfaces"}, {"oid": "e8592a5e2e1c46fe10dce3ad8308c15fc3e9f91c", "committedDate": "2020-12-04 13:42:39 -0800", "message": "Reduce remote logging"}, {"oid": "277e217f110903c7f6269659c87424bca96939aa", "committedDate": "2020-12-07 14:05:03 +0100", "message": "Naming improvements"}, {"oid": "fbf4202cf12b1136a85787e8dc0d8fdd1c5ce590", "committedDate": "2020-12-08 11:54:50 +0100", "message": "Merge pull request #4274 from grzesiek2010/COLLECT-4268"}, {"oid": "35b0251056387dc9a01916ef2604a8374a7ddcb4", "committedDate": "2020-12-08 11:07:02 +0000", "message": "Use factory injection for FormSaveViewModel"}, {"oid": "007a1c0edcaf93935cd623f6e123367744fe9518", "committedDate": "2020-12-08 11:10:59 +0000", "message": "Show error when answer file copying fails"}, {"oid": "137dbe1099d12c57e96c4266226c5eabd05a7848", "committedDate": "2020-12-08 09:20:58 -0800", "message": "Merge pull request #4275 from seadowg/errors"}, {"oid": "187a90e46791b54c8314aee8391613141c9a28f8", "committedDate": "2020-12-09 13:37:07 +0000", "message": "Make sure screen reloads when preferences are changed"}, {"oid": "5f8367d225ccace400316eca035d2473ad48b39d", "committedDate": "2020-12-09 15:09:43 +0000", "message": "Remove unneeded font size code"}, {"oid": "65ec989f3619f9f2868b0eff30e47b6f7188f619", "committedDate": "2020-12-09 15:38:06 +0000", "message": "Remove repeat analytics"}, {"oid": "f9af66c90313948723536c33320771e42dbcc544", "committedDate": "2020-12-09 16:34:46 +0000", "message": "Add logging method to view model to make it simpler to log form events"}, {"oid": "4a474d3e5a5c06ca9754d2581ca263188b67c943", "committedDate": "2020-12-09 16:46:29 +0000", "message": "Use viewmodel for event"}, {"oid": "3e6281c31b79ed6988b1111ca0aa0b5a794e40aa", "committedDate": "2020-12-10 11:05:14 +0100", "message": "Merge pull request #4272 from lognaturel/troubleshooting"}, {"oid": "37efa38d3467850827a0edc24ddf03f8c07976c5", "committedDate": "2020-12-10 08:51:14 -0800", "message": "Merge pull request #4290 from seadowg/audio-analytics"}, {"oid": "333608427523b63c7c3803a174681446030b987f", "committedDate": "2020-12-15 11:55:25 +0100", "message": "Do not use static utility methods"}, {"oid": "860c1ad5769e946a0a42ded949e7580e7e4a07d4", "committedDate": "2020-12-15 12:37:08 +0100", "message": "Naming improvements"}, {"oid": "882b36b9d6f7911ff2460f2afdaa933f9043c36c", "committedDate": "2020-12-18 13:49:53 -0800", "message": "Always update formController for viewmodels when singleton is updated"}, {"oid": "f11048ec70df535a1b3dcf69b08b37f98a9e16d4", "committedDate": "2020-12-18 14:17:33 -0800", "message": "Don't remotely log bad language"}, {"oid": "c51de77af1354610a31b379883565a1665977295", "committedDate": "2020-12-19 15:06:32 -0800", "message": "Revert setting viewmodel formController with App singleton"}, {"oid": "ec2564380951652ec69d18a451faf29d609436ef", "committedDate": "2020-12-19 21:04:36 -0800", "message": "Temporarily pass in formController to navigation methods"}, {"oid": "2e762a704389fd1fe3e26ead6b6b8200529ec24c", "committedDate": "2020-12-20 12:18:09 +0000", "message": "Use FormController singleton instead of passing it in"}, {"oid": "5dd9a8cccc04b68ab4eafe2f9e9105f396f1e8b6", "committedDate": "2020-12-20 14:36:57 +0000", "message": "Add logging to confirm pendingActivityResult branch is the problem"}, {"oid": "acab6deae09b229e1701b46250dc8756ba88efe9", "committedDate": "2020-12-20 08:35:28 -0800", "message": "Add logging in onResume"}, {"oid": "43df56d831625686777ad6e821a7c8450d2e081b", "committedDate": "2021-01-07 10:59:24 +0100", "message": "Call formControllerAvailable() when pending activity result is detected"}, {"oid": "5081446191bcbf2bc9dacb5dab4526e0c5085615", "committedDate": "2021-01-07 11:00:45 +0100", "message": "Access formcontroller object in FormEntryActivity via getFormController() method only"}, {"oid": "9cbbc819d8618f45b930cc43782e0329efba0ac0", "committedDate": "2021-01-07 11:00:45 +0100", "message": "Added a comment to getFormController() method"}, {"oid": "6221d5dd0a5d9a78c38b22770cba876315775ab3", "committedDate": "2021-01-07 11:01:13 +0100", "message": "Removed redundant comments"}, {"oid": "f154afd15404c7c1e49f28c34ab4ef24cf995882", "committedDate": "2021-01-14 11:19:28 +0100", "message": "Don't ask for storage permission if scoped storage is used"}, {"oid": "f519e6763008e5f7d62fc5a7143c2b8c294765e5", "committedDate": "2021-01-14 11:19:28 +0100", "message": "Use injected permissionUtils"}, {"oid": "ab274f1a5ff6a04b6199cd8d4455673530f23d7b", "committedDate": "2021-01-14 11:19:28 +0100", "message": "Use storageStateProvider object to determine if should ask for storage permission"}, {"oid": "0bafab9f8abba68354f70c2c62f2e09516a4d450", "committedDate": "2021-01-14 11:19:28 +0100", "message": "areStoragePermissionsGranted() shoul not be static"}, {"oid": "65705f9b5e13633965b9b55be00337231ec63537", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Removed redundant finishAllActivities() method from PermissionUtils"}, {"oid": "bbd812e91debb1045e4bae3164f28fd5146ed602", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Got rid of static methods in PermissionUtils class"}, {"oid": "d00b793072eba812f0cc1f207aad3a836a78eddd", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Implemented PermissionsChecker"}, {"oid": "265c183e8343092e89ec8d0c2ae47c9c22cd5119", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Moved permissionUtils class to permissions package"}, {"oid": "e7d97823a196718baf07a48ef8ced5e6211dc991", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Renamed PermissionUtils -> PermissionsProvider"}, {"oid": "1a7d363f6f771bdfd8071fb38ae0a863ae45da11", "committedDate": "2021-01-14 11:20:18 +0100", "message": "Reuse PermissionsProvider injected to CollectAbstractActivity"}, {"oid": "3cb8c9bc6bd33ae369c9f0b2d5778fce3d0cfe4f", "committedDate": "2021-01-19 20:10:23 +0100", "message": "All widgets that use files should use the same code to load them"}, {"oid": "702d409c5198973a27016faeddf7d6f8afe7c46e", "committedDate": "2021-01-19 20:10:24 +0100", "message": "Removed unused code"}, {"oid": "bdfce87fdfb29cf4b5343a312c9755b7a3d036f7", "committedDate": "2021-01-25 13:53:29 +0100", "message": "Check Uri permission before accesing it"}, {"oid": "7f9a90a485292516c13cf0213f243419d993e396", "committedDate": "2021-01-25 14:17:03 +0100", "message": "Moved the new message about not granted file permission to strings"}, {"oid": "e0b4a3f3e61a466debd283d232689e345b34d306", "committedDate": "2021-01-28 13:30:49 +0100", "message": "Use requestReadUriPermission() wherever uri from external app is accessed"}, {"oid": "5793ee4c3653fcb87c9e468397f5eb4c7a1ae201", "committedDate": "2021-02-01 13:01:11 +0000", "message": "Record audio in the background when enabled"}, {"oid": "bb0aa64d40d4e92eb5d325e289bcdde9154ddf88", "committedDate": "2021-02-01 13:01:16 +0000", "message": "Move audio file save code out of requester"}, {"oid": "03cd4327d8ed5aff9b4ac632b1669faa2f25eac9", "committedDate": "2021-02-01 13:01:16 +0000", "message": "Allow user to navigate around form while recording"}, {"oid": "3588f78e9d6ec064ec889637e7f6deac1fa573bf", "committedDate": "2021-02-01 13:01:17 +0000", "message": "Make sure new audio files are cleaned up when changes are ignored"}, {"oid": "f34b7e6d914273c0600a1d8e9d238698ff8b6a09", "committedDate": "2021-02-01 13:11:39 +0000", "message": "Initialize recording requesters at the Activity level"}, {"oid": "0d3187d218ad2da619ebfbaf51b05f5271a04315", "committedDate": "2021-02-01 13:11:39 +0000", "message": "Move recording handling logic into requester"}, {"oid": "4ea30e75dea4d58613ad3e3dab4ce84e43f70b3d", "committedDate": "2021-02-01 13:11:40 +0000", "message": "Background audio should be AMR"}, {"oid": "6b8dad666617567d96622dccb9d4ed46820d2a70", "committedDate": "2021-02-02 13:49:31 +0000", "message": "AudioRecorder doesn't need to be ViewModel"}, {"oid": "d21d0630402a032b8cd5002f8f3268ce46f2476c", "committedDate": "2021-02-02 15:09:09 +0100", "message": "Implemented ExArbitraryFileWidget"}, {"oid": "ba0b0b5bafddab67b899838982a489868bfb32f4", "committedDate": "2021-02-02 15:09:09 +0100", "message": "Fixed handling uris from external apps"}, {"oid": "920a28b31be9068f184b5e2ba607bee690d59c1b", "committedDate": "2021-02-02 15:10:10 +0100", "message": "Code improvements"}, {"oid": "e0ff4b64218a75641101cc984417c5c440a5ab14", "committedDate": "2021-02-02 15:10:10 +0100", "message": "Use clipdata instead of extras to receive answer"}, {"oid": "7994898860eb98118d2480822625f7180f365ddf", "committedDate": "2021-02-02 15:10:10 +0100", "message": "Code improvements"}, {"oid": "5f2eee156bb2fcd3011f8680e223565d41f91b56", "committedDate": "2021-02-02 17:16:38 +0000", "message": "Block use next/back while recording"}, {"oid": "8e906bcde206ec0c594c27f9488f1083fa6d40bd", "committedDate": "2021-02-02 17:55:53 +0000", "message": "Allow adding repeats and navigating via hierarchy for background recordings"}, {"oid": "b6f03bdbb5bb90fd69aa2f2b366283d3087b246a", "committedDate": "2021-02-02 17:06:44 -0800", "message": "Merge pull request #4376 from seadowg/background-audio-ui"}, {"oid": "9d13ee3e450aedacfc29a02e2781e04759dc3296", "committedDate": "2021-02-03 18:37:04 +0000", "message": "Extract some form end logic to view"}, {"oid": "36f71a46f10c97a2179831b51e6a2fccca9b6947", "committedDate": "2021-02-03 18:37:05 +0000", "message": "Make sure background audio saved before form saves"}, {"oid": "2d4bf72209b9ef06318717529b134772e3610a80", "committedDate": "2021-02-03 18:37:06 +0000", "message": "Use viewmodel to expose background recording state"}, {"oid": "6eeb7efd9a0fd934f008a9c3dee1c670bd6436e8", "committedDate": "2021-02-03 18:37:06 +0000", "message": "Allow toggling background recording from options menu"}, {"oid": "8525cb095cc7227bb31a95783c9cca2f568dee07", "committedDate": "2021-02-03 18:37:06 +0000", "message": "Fix track change reason and background recording interplay"}, {"oid": "08610da0d929bc657730eceefc801198a27ea77a", "committedDate": "2021-02-03 19:26:35 +0000", "message": "Add comment to potentially explain need for save as changed listener"}, {"oid": "2e982e7e21f205c73e4e0175aed9ef93e823388e", "committedDate": "2021-02-08 16:47:18 +0000", "message": "Add dialog explaining audio permissions for background recording"}, {"oid": "73ae24e6e7319281b20aef413247fa20e92124f4", "committedDate": "2021-02-08 16:47:18 +0000", "message": "Close form if audio permissions denied"}, {"oid": "06f038d45e80e5ed647465da2edfb66faa74e073", "committedDate": "2021-02-08 16:47:18 +0000", "message": "Make sure user can't cancel permission dialog"}, {"oid": "2b2c0de94de2020714bdbe20de6f869d61f47b1f", "committedDate": "2021-02-08 16:47:19 +0000", "message": "Extract background audio permission dialog"}, {"oid": "430ffe396321e342c0dbd0684b2b8f70f7412bb7", "committedDate": "2021-02-08 16:47:19 +0000", "message": "Make audio permission required a FormEntryViewModel error"}, {"oid": "5fa00a1ea5e39b8247bfc94534b001b11a059846", "committedDate": "2021-02-08 16:47:19 +0000", "message": "Add types for form entry errors"}, {"oid": "9f7f35903c168d3f92290ccdbca59140ea87ea43", "committedDate": "2021-02-08 17:28:54 +0000", "message": "Move background audio code out of form entry viewmodel"}, {"oid": "6fe45c26afa0ae1aa18c1eb03b995d8886b8ab9c", "committedDate": "2021-02-08 17:51:42 +0000", "message": "Correct recording swipe check"}, {"oid": "bc924c4034e3b56d5096537ab5a07db96f9c169e", "committedDate": "2021-02-09 19:31:38 +0100", "message": "Allow using the new ExVideoWidget"}, {"oid": "1a0d202d707c8448a672f0d3d145591a782c7a09", "committedDate": "2021-02-09 19:31:38 +0100", "message": "Implemeneted ExImageWidget"}, {"oid": "2bc0d4128a41830ad15b6b626e74e1c4c25393d5", "committedDate": "2021-02-09 18:53:54 +0000", "message": "Allow save or ignore dialog while background recording"}, {"oid": "88f6d4bdd4ae0ec93f180aa6b9816c938459730d", "committedDate": "2021-02-09 20:06:19 +0100", "message": "Implemented ExAudioWidget"}, {"oid": "07e30d05830e30a8182587e4aec898cee6295bd6", "committedDate": "2021-02-10 12:29:00 +0100", "message": "Merge pull request #4392 from seadowg/background-save-ignore"}, {"oid": "62462d94def24d0c41820b3a4c031c52ee64d447", "committedDate": "2021-02-10 14:37:51 +0100", "message": "Merge pull request #4389 from grzesiek2010/externalAudioWidget"}, {"oid": "3cd80032b485a4529839bfc388dd0de6f81de78a", "committedDate": "2021-02-10 16:00:40 +0000", "message": "Extract recording handling to separate class"}, {"oid": "6b71cd27a5c1aa7d047736e58f37d4b4639b623b", "committedDate": "2021-02-10 16:00:41 +0000", "message": "Drive out file appending"}, {"oid": "5603214d29a3b350014f22f9206a514393d2b9d0", "committedDate": "2021-02-10 16:00:41 +0000", "message": "Use copy file error message for recording handling errors"}, {"oid": "b541e9727e38e1723a5410dfd3d3d27153609ef4", "committedDate": "2021-02-10 16:00:41 +0000", "message": "Use different implementations of AudiooAppender for different file types"}, {"oid": "a9fabe05a1406e7932d5a3723ebd42c8a7b38b36", "committedDate": "2021-02-10 17:01:35 +0000", "message": "Add audit event for disabling/enabling abckground recording"}, {"oid": "6d97ecfdd6b0c145ff66649b9bd40d9cff317cca", "committedDate": "2021-02-10 09:58:04 -0800", "message": "Merge pull request #4395 from seadowg/audio-audit"}, {"oid": "b8498278ae2294e67a99d1293be0b8b289de63e6", "committedDate": "2021-02-17 03:45:35 +0100", "message": "Removed storage permissions"}, {"oid": "d02cefb1f217096bba4fcad1f859cfb52d081981", "committedDate": "2021-02-17 12:09:38 +0100", "message": "Code improvements"}, {"oid": "39f35c789f78b54f7098be19632f1e3de601d65a", "committedDate": "2021-02-18 14:53:03 +0100", "message": "Initialize dirs in ApplicationInitializer"}, {"oid": "bf93185e75aee490c776a17fce100231e7e06e8c", "committedDate": "2021-03-03 17:04:14 +0000", "message": "Move analytics code to module"}, {"oid": "3f46c7964f6f3dd27bccd1738acae78721a3e0c2", "committedDate": "2021-03-05 10:17:39 +0100", "message": "Use new RepositoryProvider to access admin preferences"}, {"oid": "c550da1522fa27a36d976abecfd61034d1c832e3", "committedDate": "2021-03-05 10:32:55 +0100", "message": "Use PreferencesRepository in rest of the places where it wasn't used"}, {"oid": "90a6a732a14f594ced337b673fa69aaf937ef11c", "committedDate": "2021-03-05 10:33:47 +0100", "message": "Code improvements"}, {"oid": "34749e0dffaad4eebc462bef087a939e1749f1d9", "committedDate": "2021-03-08 16:32:01 +0100", "message": "Naming improvements"}, {"oid": "35b9c88e857a197786cb85b07aa0ed19a093c3f9", "committedDate": "2021-03-09 15:17:48 +0100", "message": "Created a separate package for keys"}, {"oid": "e4ce52d8416324b590f8d84371594e641e0b1468", "committedDate": "2021-03-11 17:00:48 +0100", "message": "Updated MediaLoadingFragment to extend androidx.fragment.app.Fragment"}, {"oid": "6b1642fff021192ae2966fc9a01419a809e54ebf", "committedDate": "2021-03-15 12:45:59 +0100", "message": "Renaming"}, {"oid": "ec92ad921a63c63500e4f8f5e7a40db24de58e6f", "committedDate": "2021-03-15 13:23:16 +0000", "message": "Merge pull request #4468 from grzesiek2010/COLLECT-4461"}, {"oid": "04b3e8562945a07ec24588d829b549964b39ae99", "committedDate": "2021-03-15 14:51:09 +0100", "message": "Use the same answer key for all geo questions"}, {"oid": "4859b53b4ebda5c22221205bc3b4912eaf04f817", "committedDate": "2021-03-15 14:51:09 +0100", "message": "Use the same answer key for BearinWidget too"}, {"oid": "c0aea843825d4436bd6a61b27eedc07cc741646f", "committedDate": "2021-03-15 14:53:01 +0100", "message": "Handle barcode results in the same way we handle answers from other widgets"}, {"oid": "8322f2ac24eca540f714905bbb57d4fce0f261f4", "committedDate": "2021-03-15 14:53:01 +0100", "message": "Handle results from external string widgets in the same way like other widgets"}, {"oid": "757c320321965152819bd8fcb8e429303751d41e", "committedDate": "2021-03-15 14:53:01 +0100", "message": "Do not check if currentViewIfODKView is null twice"}, {"oid": "131361fd04ac0ea999463e2b93003fcb12120b38", "committedDate": "2021-03-22 16:10:18 +0000", "message": "Return absolute paths from FormsRepository"}, {"oid": "894e0501f8b8cdd8006f500b3c95d7ca4bf76eb2", "committedDate": "2021-03-22 16:10:19 +0000", "message": "Delete FormsDaoHelper"}, {"oid": "4344c29d1c7e5127b81d21aa279414fbad277d8a", "committedDate": "2021-03-22 16:10:20 +0000", "message": "Make FormsRepository#save an upsert action"}, {"oid": "dd46485de716e31f1d41103579f4071284a472a4", "committedDate": "2021-03-22 16:10:20 +0000", "message": "Remove update from FormsDao"}, {"oid": "786631d84061e2a443db4f642956c60407351f9b", "committedDate": "2021-03-31 17:46:10 +0100", "message": "Remove helper to fetch Form path"}, {"oid": "5c0c590c0dc6fa69afde9281114f3c76dbb53177", "committedDate": "2021-03-31 17:46:11 +0100", "message": "Remove FileInfo object"}, {"oid": "95a81d0f9d40906384ba423380983de7b4e46a45", "committedDate": "2021-03-31 17:46:11 +0100", "message": "Rename ContentResolverHelper"}, {"oid": "79dcb7b8111dee06a42fa0502273493a4b88a80d", "committedDate": "2021-03-31 17:46:12 +0100", "message": "Use repo for instance saved name lookup"}, {"oid": "b8e8e189c22c8e9601973d088bbc0a54be0fadb8", "committedDate": "2021-03-31 17:56:53 +0100", "message": "Separate DB columns from content provider columns definitions"}, {"oid": "7992e520a2a40a791597d366414f7715d6d2cdcb", "committedDate": "2021-04-06 10:00:00 +0100", "message": "Rename formId and version methods"}, {"oid": "df2272f01ea835b077581eb34335c0c64494134e", "committedDate": "2021-04-13 17:11:18 +0100", "message": "Reorganize contents for forms package"}, {"oid": "fe11889964be61a50e87e40d396dae81612d96ab", "committedDate": "2021-04-13 17:11:19 +0100", "message": "Move forms domain code to forms module"}, {"oid": "27d07a24830c39abad7e3af38ee7cc93f168faf1", "committedDate": "2021-04-13 17:11:20 +0100", "message": "Wrap construction of DatabaseInstancesRepository in provider"}, {"oid": "7163a7ab19aaf97b27a9497ac804ebbbcc409fbd", "committedDate": "2021-04-13 17:11:20 +0100", "message": "Move instances code into forms package"}, {"oid": "084dbda98066bed08b9ad166393f12a195096023", "committedDate": "2021-04-13 17:11:20 +0100", "message": "Organize database package"}, {"oid": "78d2ea2105f5959fa68e047e84ca5c1a833f7f7f", "committedDate": "2021-04-14 11:39:52 +0100", "message": "Inject provider rather than repositories directly"}, {"oid": "5158b54ad2f8c41d0c619121605d85f71f12bb66", "committedDate": "2021-06-08 17:39:02 -0700", "message": "Log analytics on return from OpenMapKit app"}, {"oid": "62e60b46c3c43131ac9a683cc3aa5d84ba40dfa3", "committedDate": "2021-06-09 15:47:09 +0100", "message": "Allow grabbing an instance repository for a project"}, {"oid": "ab4dc85136a590767f7367af92ed376b90b58b8a", "committedDate": "2021-06-09 15:47:11 +0100", "message": "Rename scheduler objects"}, {"oid": "065fa8766964e60bf96cb0e90d51e5ce2e4d20b6", "committedDate": "2021-06-14 13:46:48 +0100", "message": "Merge pull request #4598 from lognaturel/osm-analytics"}, {"oid": "538599b08845c9db4055f33ad46a18e51335c3a7", "committedDate": "2021-06-14 14:28:10 +0100", "message": "Remove current project knowledge from FormUpdateAndInstanceSubmitScheduler"}, {"oid": "2775b4fb066785461add342a43764cad43be8834", "committedDate": "2021-06-28 14:43:19 +0100", "message": "Remove CONTENT_URI"}, {"oid": "fda854595ba6c36aa55cebd795366e39ed5ac41d", "committedDate": "2021-06-30 18:10:45 +0100", "message": "Show warning and delete instance from DB if it no longer exists"}, {"oid": "a03c1af9b2e61cea2a387f856127564bc023fec5", "committedDate": "2021-06-30 18:57:32 +0100", "message": "Log analytics event when opening deleted instance"}, {"oid": "7ce7346a410f430dc18bb8798f52bd0656830dab", "committedDate": "2021-07-01 09:57:46 +0100", "message": "Add tests to verify shortcut behaviour"}, {"oid": "3027b9d44048ee4589106b5a3d76a9d0a8986302", "committedDate": "2021-07-01 10:01:48 +0100", "message": "Remove test only intent handling in FormEntryActivity"}, {"oid": "d1183bfc1e033cfec91d5a4db507a64554274eef", "committedDate": "2021-07-12 11:14:55 +0100", "message": "Move location tracking for audit events to pause/resume"}, {"oid": "f18fea689d475a98214200ba8bc2cc25e5c1ee7d", "committedDate": "2021-07-17 13:00:12 +0100", "message": "Rename packages"}, {"oid": "c734b66a8c7f3060c7a09de1914eb92f9fd4cf53", "committedDate": "2021-07-17 13:43:51 +0100", "message": "Remove unneeded project ID parsing from FormEntryActivity"}, {"oid": "278a49687f99ee297c773adf05cdb30b0ffa7b8c", "committedDate": "2021-07-20 09:46:22 +0100", "message": "Rename classes based on Android idiom"}, {"oid": "ee812574204d198a65d10d8f5ce37855d25635ea", "committedDate": "2021-07-22 21:01:05 +0200", "message": "Fixed refershing navigation settings after returning to filling form"}, {"oid": "756ec50cafe7c1719011f4d90c610d8ba60b9d23", "committedDate": "2021-07-22 22:11:28 +0200", "message": "improve the fix by passing general settings to SwipeHandler"}, {"oid": "797510c658ce8521ce4205a32529bee22fda41cb", "committedDate": "2021-07-27 08:06:02 -0700", "message": "Centralize logic for settings visibility, improve naming (#4731)"}, {"oid": "c80c5d135dc8f869ab6a4fa2994de93ad63410fd", "committedDate": "2021-07-29 10:15:32 +0100", "message": "Stop crashes when cache dir can't be accessed during savepoint load"}, {"oid": "6bdeb70956ea1c8c9ccbc250b32c513e5a338af0", "committedDate": "2021-07-29 23:13:36 +0200", "message": "Catch exceptions that might ocurr during updating widgets"}, {"oid": "5b8f787725ea38a5690ec4633040b567c0e4a53c", "committedDate": "2021-08-02 18:07:17 +0200", "message": "Merge pull request #4758 from grzesiek2010/COLLECT-4750"}, {"oid": "d8c2c10c7292ef8aa5d4c1644398053d645c3505", "committedDate": "2021-08-05 17:03:34 +0100", "message": "Remove logFormEvent from interface"}, {"oid": "7e89689d202a13eb1f99e31ed9dfd95431b8d471", "committedDate": "2021-08-17 17:27:51 +0100", "message": "Trigger reloading property manager every time a form is loaded"}, {"oid": "5b9dcbeb33f748fafb619cce62695df64cda9a6b", "committedDate": "2021-08-18 12:08:46 +0200", "message": "Hide contextual menu on navigating in a form"}, {"oid": "b4cd15754f6180d7800693651583c5afe8eb7b82", "committedDate": "2021-08-18 12:11:46 +0200", "message": "Do not display contextual menu when swiping is being handled"}, {"oid": "2b066d5298d29106d6dccb31610040a969769c50", "committedDate": "2021-08-18 12:28:52 +0200", "message": "Avoid displaying contextual menu after swiping"}, {"oid": "a991ae3aef95553776bf32c33c5623cd65054067", "committedDate": "2021-08-25 19:36:14 +0200", "message": "Call cancelPendingInputEvents() on currentView to avoid NPEs"}, {"oid": "e34dd51dc592208520289db683a85816be0ca23c", "committedDate": "2021-09-02 15:20:53 +0100", "message": "Remove shadow from navigation bar"}, {"oid": "8f0753cbb30b05f268619947251d8e1dd8b4e033", "committedDate": "2021-09-02 15:20:56 +0100", "message": "Fix issue with webviews changing app theme"}, {"oid": "cc776c8bca22e0ca72461a0be82143dcf6e434c7", "committedDate": "2021-09-22 12:08:57 +0100", "message": "Remove Collect.getInstance() from ToastUtils"}, {"oid": "bf0468a88e2d6914dd85c8024c082176125c32cc", "committedDate": "2021-09-22 12:32:36 +0100", "message": "Move ToastUtils to androidshared"}, {"oid": "db2aeec6995d6726240db94908201ca7cae6195f", "committedDate": "2021-09-24 14:18:40 +0100", "message": "Remove accidently added calls to Collect.getInstance()"}, {"oid": "7064c7a925d0292268b16f3f009167cd391d6214", "committedDate": "2021-10-18 13:05:19 +0100", "message": "Allow form hash to be set statically for analytics"}, {"oid": "f27c4dd3b250a1664f433de6b33c9ec45f3eec1d", "committedDate": "2021-10-20 12:07:17 +0100", "message": "Move dialog fragment helpers to androidshared"}, {"oid": "75b99e8a99ded8f8ae3fff296934c62e6dea40dd", "committedDate": "2021-10-20 12:09:50 +0100", "message": "Move PermissionsChecker and rearrange packages in androidshared"}, {"oid": "75254a860d020c46f5687004db6713dac381d174", "committedDate": "2021-10-20 12:09:53 +0100", "message": "Deprecate ANSWER_KEY constant"}, {"oid": "e915d35388fa0e4a9aa63ea8ce17e51a990944a6", "committedDate": "2021-10-29 09:42:17 +0200", "message": "Use IntentLauncher instead of ActivityAvailability in ExternalAppRecordingRequester"}, {"oid": "017069d2428e1be76e37c054918a8b460dcce3b2", "committedDate": "2021-10-29 09:42:17 +0200", "message": "Converted ExternalAppRecordingRequester and its test to kotlin"}, {"oid": "e078b27cd8f089ba6690f76c7774711623a71434", "committedDate": "2021-10-29 09:42:18 +0200", "message": "Moved IntentLauncherImpl to system package and renamed its file after the interface"}, {"oid": "6a440ab90b7bcc15e49ffbb5b6d78d70e32a8f49", "committedDate": "2021-11-08 09:33:33 +0100", "message": "Fixed method names that contained 'general settings'"}, {"oid": "8cff96c4087cf23160405cc3a165188604f5ac67", "committedDate": "2021-11-08 09:42:46 +0100", "message": "Fixed method names that contained 'admin settings'"}, {"oid": "4a22d8650c28ba3778644be58f08872588b933c9", "committedDate": "2021-11-08 09:23:27 +0000", "message": "Guard against NPE when cancelling input events"}, {"oid": "37432502984035acc7569cc0ec7b50f912ec6c71", "committedDate": "2021-11-18 17:05:54 +0100", "message": "Merge pull request #4902 from grzesiek2010/COLLECT-4892"}, {"oid": "153f457469ffe323c0f0541bc185f1db23a7839c", "committedDate": "2021-11-22 12:35:04 +0100", "message": "Introduced a new exception for repeats in field lists"}, {"oid": "b2609f35bf9bf67b156f59a9d11f89ef02688dfb", "committedDate": "2021-11-22 12:35:04 +0100", "message": "Do not log REPEATS_IN_FILED_LIST as errors"}, {"oid": "887e0379d5306dec6221c4c23705946ad913c454", "committedDate": "2021-12-20 11:55:52 +0100", "message": "Moved PermissionsChecker to permissions module"}, {"oid": "8d65feb6230a1caf534a59711e7f9009ec5489cb", "committedDate": "2021-12-20 11:55:52 +0100", "message": "Moved PermissionListener to permissions module"}, {"oid": "0269ea75eae2b203c8f7039e3a79ef6ada48afea", "committedDate": "2022-01-03 11:13:18 +0100", "message": "Use MaterialAlertDialogBuilder instead of AlertDialog.Builder across the app"}, {"oid": "239c33292b34ab97fb7c4c676b3c233b0e95e32e", "committedDate": "2022-01-14 12:29:18 +0100", "message": "Avoid crashes in FormEntryActivity when webview is absent"}, {"oid": "26387b3673109e679c2c5fd235999339e254c132", "committedDate": "2022-01-17 17:51:38 +0100", "message": "Added comment"}, {"oid": "96d9e4744977614897adeb2779c0d4385082aa59", "committedDate": "2022-01-25 16:03:58 +0000", "message": "Use specific tag for ProgressDialogFragment rather than shared one to prevent clashes"}, {"oid": "e2eb3cb840bbee0103e0287d06ba81d1d96b5549", "committedDate": "2022-01-27 15:12:41 +0000", "message": "Move ProgressDialogFragment to material"}, {"oid": "eb2468458dc0640284defafa3c7944af533705e7", "committedDate": "2022-02-16 10:01:36 +0000", "message": "Collect all settings code in one place"}, {"oid": "a1b708864d35e2acaecd21ae3a4d3ed91b41843b", "committedDate": "2022-02-16 10:13:53 +0000", "message": "Move project and meta keys to new module"}, {"oid": "f8c05b43fa1efdb70f2750aee91929112145477c", "committedDate": "2022-02-16 10:13:56 +0000", "message": "Move admin keys to settings module"}, {"oid": "f9b2a11aecb26c2e18a2d12ad071726e111bdc76", "committedDate": "2022-02-16 10:13:56 +0000", "message": "Reorganize settings module"}, {"oid": "fbfd8f31a08257309cfa03b6f3ed238364215d2c", "committedDate": "2022-02-23 13:44:06 +0000", "message": "Remove remaining uses of ANSWER_KEY"}, {"oid": "704bdb729ac03552af71baaf7cf1b2d3c1d125d5", "committedDate": "2022-02-23 13:44:07 +0000", "message": "Move multi click safe components to shared module"}, {"oid": "fbcd7983e46b826c049fc016f78d5e81a41820d2", "committedDate": "2022-03-10 08:01:46 +0100", "message": "Always handle disabled Location when checking location permissions"}, {"oid": "8ed8e49a7e1cb951fdc51289ac9a48c4f4936f1b", "committedDate": "2022-03-25 15:15:20 +0000", "message": "Add mechanism for answering question through FormEntryViewModel"}, {"oid": "120e3042727f3913ad8e5db09d946cdebc3421fe", "committedDate": "2022-04-01 13:18:45 +0100", "message": "Merge pull request #5073 from seadowg/maps-quick"}, {"oid": "061b9fdb853cec901483cb3678b163334ac0e9d6", "committedDate": "2022-04-26 13:22:45 +0200", "message": "Removed AudioRecordingExternal"}, {"oid": "7ba01384a9c860d5742ed63126513cbabe4113a0", "committedDate": "2022-04-26 13:25:43 +0200", "message": "Removed AudioRecordingInternal"}, {"oid": "e703b34fe9a8587394d207cb4714aac262f4feaf", "committedDate": "2022-06-29 11:08:29 +0200", "message": "Fix non OdkViews not being set on SwipeHandler"}, {"oid": "58fa844cb6fefee853f7860323a18292db27f4b4", "committedDate": "2022-07-15 11:32:27 +0200", "message": "Use FormSaveViewModel to save form when not evaluating constraints"}, {"oid": "b3da25a329a4db7e9bdf1f8383305f18e1c439c8", "committedDate": "2022-07-15 11:32:27 +0200", "message": "Make form index handling a reaction to view model state"}, {"oid": "bd9c0f9a8038e8004242d43389ffa6a87cb9df6d", "committedDate": "2022-07-15 11:32:27 +0200", "message": "Update answers when moving forward/backwards without constraints"}, {"oid": "a33875fc6a708de2f6835b90eea135320af4c2f2", "committedDate": "2022-07-15 11:32:27 +0200", "message": "Spike showing progress dialog when moving between form screens"}, {"oid": "33dbb1135672b0fc83b31db9867d5b4d658924d3", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Move contraint evalution into view model"}, {"oid": "9b1f10701250542640efa8961e16c9d465c0e165", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Use a transparent mask and top bar progress indicator instead of dialog"}, {"oid": "b3374735b63dcb36c0a67c86eb965bb5d08e7bc6", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Always moveForward with save in background"}, {"oid": "7760c35ef1f1965a6129ebe71c4bc9d40d2e9354", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Move animation logic to view"}, {"oid": "69400f40718bd4752a403b9be6d98f9a0bf744e6", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Override visibility instead of adding a new method"}, {"oid": "3714052d3b9e58223a3a07f65bea7dc23fc8111a", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Only evaluate constraints when needed"}, {"oid": "869f5bbe4d0fe6a4cd8f8943c909439e3482dfed", "committedDate": "2022-07-15 11:33:52 +0200", "message": "Replace method with view model alternative"}, {"oid": "2a217373b499b3584b04575c3fe029558f608595", "committedDate": "2022-07-20 14:10:19 +0200", "message": "Fixed setting formController objects in view models"}, {"oid": "c466f12b4f8380e800d7c63c8b5aa8bd272c8c5f", "committedDate": "2022-08-05 09:43:27 -0700", "message": "Add logging around suspicious FormEntryActivity code (#5243)"}, {"oid": "b7cd00513be25e8b5638a5c2be928afc88ed2a20", "committedDate": "2022-08-09 18:25:52 +0100", "message": "Show error when mysterious reload crash would happen"}, {"oid": "e929ca0435473c82b93f2c5f288622456eaee312", "committedDate": "2022-08-11 13:58:40 -0400", "message": "Add more logging for mysterious reload crash (#5247)"}, {"oid": "9ae49e55472993a8c6958e0dab826941e61fbfe9", "committedDate": "2022-08-11 15:24:09 -0400", "message": "Added more logs (#5248)"}, {"oid": "6e6e0d918f44d7d9b74b8de27ccec9da9f6044b6", "committedDate": "2022-08-17 15:11:12 +0200", "message": "More logs to determine the root cause of null formController"}, {"oid": "7907de6455466d93d808eec6c840210bde649dee", "committedDate": "2022-08-17 16:33:34 +0100", "message": "Remove old \"show first\" flow"}, {"oid": "0347640ad74868e6cadbfbea9e1e66d9c7f603c4", "committedDate": "2022-08-17 16:33:34 +0100", "message": "Fix audit log event ordering"}, {"oid": "36c9c035170f91db868b4329a0c97e5c290d0f5b", "committedDate": "2022-08-17 16:33:34 +0100", "message": "Fix loading from save point when moving backwards is disabled"}, {"oid": "e28b7146dcbcbf50c35086e3441012fa93c645e3", "committedDate": "2022-08-17 16:33:35 +0100", "message": "Fix location logging"}, {"oid": "de98455084a14e49ad29d251270689c7a0772a4e", "committedDate": "2022-08-18 09:54:53 +0100", "message": "Fix event ordering when editing"}, {"oid": "bad8d981b40cfbd24d34ddec7d800234d1271af8", "committedDate": "2022-08-18 20:49:12 +0200", "message": "Hash form identifier"}, {"oid": "283e50d7087327b6a75dc96196eb28e4e238e86c", "committedDate": "2022-08-22 10:06:17 +0100", "message": "Merge pull request #5255 from grzesiek2010/moreLogs2"}, {"oid": "d479e65654fe51cf3c77b36407a6e246b0be1bb3", "committedDate": "2022-08-23 14:20:09 +0200", "message": "Fixed logging errors"}, {"oid": "7068beae4af3059062be55247f4289821b70779c", "committedDate": "2022-08-29 14:41:29 +0200", "message": "Got rid of rxjava"}, {"oid": "3a724545781ce14bac4f2563977bf1bee1d13390", "committedDate": "2022-08-29 20:03:55 +0200", "message": "Siplified checking if read phone state is required in a form"}, {"oid": "99fb7caab8a8ba6cf4a2eaea549ddba1410ebac6", "committedDate": "2022-08-29 21:56:43 +0200", "message": "Fixed reloading form after granting phone permission in device settings"}, {"oid": "831d7e0dab94758e2bc3448889aab71b85c5e1ef", "committedDate": "2022-09-13 14:32:57 +0200", "message": "Added defaylt implementation for PermissionListener#denied() to avoid overriding when not needed"}, {"oid": "fcfa5ad9f9bc9e2e335a5ad9d86bb656cb803176", "committedDate": "2022-09-13 14:32:57 +0200", "message": "Fixed finishing activities aftre denying permissions"}, {"oid": "9e4e6fd97c70c8c86f13d13e14095075fdde5137", "committedDate": "2022-09-13 18:37:20 +0200", "message": "Improved PermissionsProviderTest"}, {"oid": "991b91a6a765293591f9bd15ccfd0caefc67a9a7", "committedDate": "2022-09-28 14:16:52 +0100", "message": "Remove log that no longer happens and use view model as source of FormController"}, {"oid": "e0e3b04b0195b7095377b3015cac6ce0fc464b4b", "committedDate": "2022-09-28 14:16:52 +0100", "message": "Store FormController in session store keyed by URI that started form filling"}, {"oid": "eb5019209632e53eb594607607cc3e7bb90245e0", "committedDate": "2022-09-28 14:16:52 +0100", "message": "Move away from static singleton session store"}, {"oid": "143fad7df4ccedef292bda61f2b535cc2216ba55", "committedDate": "2022-09-28 14:16:53 +0100", "message": "Remove static FormController from WaitingForDataRegistry implementation"}, {"oid": "bc43e614ca9918bd64b164a013af9548b3c3979f", "committedDate": "2022-09-28 14:16:53 +0100", "message": "Remove static getFormController from db helper"}, {"oid": "741da30f58f2915d6905d27f1d289895d9c0809d", "committedDate": "2022-09-28 14:35:20 +0100", "message": "Remove getFormController from form entry tasks"}, {"oid": "b2366e3b5595d94d8f55f5f834ea33b13ece302e", "committedDate": "2022-09-28 14:35:23 +0100", "message": "Remove getFormController from background location code"}, {"oid": "9d5106d4900bd7fa1038eda55fc2cd8a753d0784", "committedDate": "2022-09-28 14:35:24 +0100", "message": "Remove application singleton FormController"}, {"oid": "ec595640d4997f71b9c37da616526e25a8140657", "committedDate": "2022-09-28 14:35:24 +0100", "message": "Extract method for creating session ID"}, {"oid": "f00f8e27ddd7e97fbb583c57f4f16e001bba6a43", "committedDate": "2022-09-28 14:35:24 +0100", "message": "Move setting of FormController to one place"}, {"oid": "83f54d6df00aceaaddc4a14d8bc8d94c793fdaa2", "committedDate": "2022-09-28 14:35:24 +0100", "message": "Load FormController into FormEntryViewModel reactively"}, {"oid": "69da76f29ae33cda7560b6752f931f4bfb12c461", "committedDate": "2022-09-28 14:35:24 +0100", "message": "Use UUID for session ID to prevent opening the same form twice causing weirdness"}, {"oid": "f01646e665e6baf8774682cea3de278ed0e24ea5", "committedDate": "2022-09-28 14:35:25 +0100", "message": "Allow BackgroundAudioViewModel to grab form session reactively"}, {"oid": "438055a38a37616702da55d403535bdbcc107f55", "committedDate": "2022-09-28 14:35:25 +0100", "message": "Move session id generation to repository"}, {"oid": "767f53bb1bf261a2fef5466479f59a3a994303b9", "committedDate": "2022-09-28 14:35:25 +0100", "message": "Load form session into FormSaveViewModel reactively"}, {"oid": "707fe302defebb9ae31e10c893f42b4fd79dc982", "committedDate": "2022-09-28 14:35:25 +0100", "message": "Rename method"}, {"oid": "3a9c16b39c512ba4d4ee6d24eb79f827168eb602", "committedDate": "2022-09-28 14:39:14 +0100", "message": "Clear session repository when finish form entry"}, {"oid": "b478f8a48f39704f6fde767f523de5ebbf0e3211", "committedDate": "2022-09-28 14:39:16 +0100", "message": "Fix indentation"}, {"oid": "e0e85d72f68f112dcc1b1892c208fa52fedf6ca3", "committedDate": "2022-09-29 15:43:44 +0100", "message": "Remove outdated lifecycle dependency"}, {"oid": "cac753ffacc7dacb455382559391450323ac03bb", "committedDate": "2022-11-01 18:21:39 +0000", "message": "Remove overload"}, {"oid": "c43027a23490582e93b3ec288d467dd1f9deef61", "committedDate": "2022-11-02 10:42:57 +0100", "message": "Naming improvements"}, {"oid": "bdcb462dff73564188f4634f7875a0e82491ad24", "committedDate": "2022-11-02 13:14:21 +0000", "message": "Stop updating screen answers in onPause"}, {"oid": "daf6aa3d757f1bbf18c30f963d36c4d0e8aed27b", "committedDate": "2022-11-02 14:08:15 +0000", "message": "Merge pull request #5318 from grzesiek2010/COLLECT-5311"}, {"oid": "4b751953405bb0d85260464bcda6d6e11f253e42", "committedDate": "2022-11-14 09:48:54 +0000", "message": "Don't flush audit log when saving screen answers at onPause"}, {"oid": "defe7401b48c0e878e9380e2a09e3426539ada5e", "committedDate": "2022-11-15 12:34:49 +0100", "message": "Merge pull request #5329 from seadowg/track-changes-reason"}, {"oid": "9988303df8f8ccb2bd03ad634259cb52f23e2ef0", "committedDate": "2022-11-24 13:18:13 +0100", "message": "Meassure how often manually specified instance names are used"}, {"oid": "9131ccba3d30534ac6615828e933d5178bd89538", "committedDate": "2022-11-25 10:39:26 +0000", "message": "Allow QuitFormDialogFragment to be recreated before the form has loaded when restoring process"}, {"oid": "ef909d30147ef0b97dc939da8e78893d81ef1912", "committedDate": "2022-11-25 11:25:34 +0000", "message": "Make form entry view model setup consistent"}, {"oid": "225355c451a3941ea963737215d586ab5aa03cf1", "committedDate": "2022-11-30 13:43:31 +0000", "message": "Use standard external app contract for selfies"}, {"oid": "9dca980a75e00cd3cf904cd62994f20119c2a197", "committedDate": "2022-12-08 15:48:40 +0000", "message": "Merge pull request #5366 from seadowg/restore-crash"}, {"oid": "821b465f35b66f113ae958247cbe1e157630af79", "committedDate": "2022-12-12 21:27:03 +0100", "message": "Removed unused parameters from shouldSuppressFlingGesture"}, {"oid": "57873d0922db8cf9c2d551c5d2461fc17a43cf68", "committedDate": "2022-12-13 20:35:25 +0100", "message": "Merge pull request #5375 from grzesiek2010/remove_logs"}, {"oid": "4ec8ed26aafde5e621268999b36ee17cbfaed882", "committedDate": "2022-12-14 17:14:47 +0000", "message": "Merge pull request #5367 from seadowg/selfie"}, {"oid": "3e4fc5ba56b882855968987f9f55a6dacd392c1f", "committedDate": "2022-12-15 12:29:58 +0100", "message": "Moved range widgets to one package"}, {"oid": "30cf52374eab04367f1974a1ce83c6bc60918f36", "committedDate": "2023-01-20 13:18:19 +0100", "message": "Removed deprecated methods from analytics"}, {"oid": "3c76d011923d4002b21611b6e38a0be1491a2d78", "committedDate": "2023-01-20 13:26:48 +0100", "message": "Cleaned the code"}, {"oid": "14689b50d2fb3b5ff5a48b4bc3750f0d7677482b", "committedDate": "2023-01-20 13:26:48 +0100", "message": "Cleaned logging form events"}, {"oid": "8eaddd15f201527a706361d50a86fb4828e16991", "committedDate": "2023-01-30 11:42:51 -0800", "message": "Remove automatically specified instance name analytics"}, {"oid": "09abedc8abbd8f002aa97dcf184bd29b95d613db", "committedDate": "2023-02-13 08:25:47 +0100", "message": "Inject PermissionsProvider into activities that really need it"}, {"oid": "c1290a478def48808482017171c65cd954767e7d", "committedDate": "2023-02-13 09:43:23 +0100", "message": "Inject SettingsProvider into activities that really need it"}, {"oid": "4c03eab32d8254f0263967079688292f55588885", "committedDate": "2023-02-13 09:44:01 +0100", "message": "Use LocalizedActivity instead of CollectAbstractActivity if it is possible"}, {"oid": "428df9e3b509b48d1b647df3c49c65bc1dd799f8", "committedDate": "2023-02-20 22:02:31 +0100", "message": "Moved SnackbarUtils to the androidshared module"}, {"oid": "27fe06b87d38bebeee1435cc4a3fbf0596724148", "committedDate": "2023-02-20 22:26:50 +0100", "message": "Support displaying snackbars above a particular view"}, {"oid": "6b933c8035e61193de7248340c009b5edc6a8aea", "committedDate": "2023-03-06 15:04:48 -0800", "message": "Prevent crash when trying to log with nullable value"}, {"oid": "84766a90004b65cc08f6a7a008104d0115da2c53", "committedDate": "2023-03-08 14:43:49 +0100", "message": "Disable autofill only for android 10"}, {"oid": "310107c9f5c1ebc4620c21a1b4efae5b6751ad82", "committedDate": "2023-03-09 08:31:15 -0800", "message": "Only pass one view model factory to QuitFormDialogFragment"}, {"oid": "63b09ed937fddb3c99a814dbce3aa5d9e4ff6ed1", "committedDate": "2023-03-09 09:01:48 -0800", "message": "Create on view model factory for form entry"}, {"oid": "fd381974310fac5d1d4520b3eef8d37009757948", "committedDate": "2023-03-09 09:01:49 -0800", "message": "Remove unused param"}, {"oid": "06a61223837bee82bb99da18db05201c481cef91", "committedDate": "2023-03-09 09:01:49 -0800", "message": "Fix AudioClipViewModel creation"}, {"oid": "bcb012f1f37355307529b13a20db6dcbd05889e4", "committedDate": "2023-03-09 09:01:49 -0800", "message": "Move quit form dialog creation to object"}, {"oid": "b188c0dc8f741e202b34b36c6b159557f051a30e", "committedDate": "2023-03-09 09:01:49 -0800", "message": "Delete QuitFormDialogFragment"}, {"oid": "0d5bbf2d3836a4f3508c2f6ea28391e5909ef05b", "committedDate": "2023-03-09 12:48:37 -0800", "message": "Make checking for edited form not stateful"}, {"oid": "3d87562bbfd1edf4793f25969bf49ed2fc9f418c", "committedDate": "2023-03-10 13:06:28 +0100", "message": "Added missing null checks"}, {"oid": "9440f490211adb834f490893ba33c13a4115746c", "committedDate": "2023-03-10 13:42:11 +0100", "message": "Merge pull request #5475 from seadowg/fix-crash"}, {"oid": "fb41bbe48afad425ae68aca14f5233e35e024084", "committedDate": "2023-03-14 14:03:47 +0000", "message": "Merge pull request #5474 from seadowg/ignore-changes"}, {"oid": "443996066d0e898ec9b57ef7844d090bfb03f116", "committedDate": "2023-03-24 16:31:57 +0100", "message": "Remove untested and (believed to be) unnecessary updateAnswersForScreen calls"}, {"oid": "dd3f2c39e334746cf327b011ae2bc07be73fab88", "committedDate": "2023-03-24 16:41:32 +0100", "message": "Make sure answers aren't cleared when changing form language"}, {"oid": "4749c30af9d5c6975f58f6b58b313adf25085952", "committedDate": "2023-04-05 08:11:44 +0200", "message": "Moved classes to the new module"}, {"oid": "6670871bc9e4b04c3238bfe97c1ca20c5cbf2f1b", "committedDate": "2023-04-05 11:09:13 +0200", "message": "Removed READ_PHONE_STATE permission"}, {"oid": "9e4bd3774b10b921a7e1852e9bced96417b44fc1", "committedDate": "2023-04-12 14:15:36 +0200", "message": "Moved MainMenuActivity and its viewmodel to one package"}, {"oid": "1a4f34dad7e1f98cf5fa0bcdadddbf34eff43d19", "committedDate": "2023-04-13 09:30:06 +0200", "message": "Add experimental setting for predicate caching"}, {"oid": "6c0bcaf57681fe788599af197430f39a0aa4b402", "committedDate": "2023-04-16 21:13:00 +0200", "message": "Adjust animation type based on language direction"}, {"oid": "52896771dc8adda88a64150a2eb07a6bf3bb3187", "committedDate": "2023-04-16 21:43:37 +0200", "message": "Moved SwipeHandler to formentry package"}, {"oid": "30b67ea28cbf3f1507523b4db70783e129ff2250", "committedDate": "2023-04-24 17:16:09 +0200", "message": "Merge pull request #5553 from grzesiek2010/COLLECT-5486"}, {"oid": "5dfd952592886ac948a694e926e2ec14084b3ae0", "committedDate": "2023-04-28 11:26:22 +0100", "message": "Merge pull request #5531 from grzesiek2010/mainmenu"}, {"oid": "cba014802e15be471c3bd4ad340a3b319ddbe3bd", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Improved the class description in FormEntryActivity"}, {"oid": "ec9237251dcc57af197ced5bec28bfc76406cf42", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Removed redundant null checks"}, {"oid": "01307aa9f2a63da23458227c03d2d80c3b8b258f", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Removed redundant else statement that is already verified in FormUriActivity"}, {"oid": "595184302b2516e5b1ff33bd74320b2c5ca32786", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Removed redundant null check that is already verified in FormUriActivity"}, {"oid": "c3f79abcf234eba2a6e4ba04d5b2f6617c7b2f03", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Moved verifyng if instance file exists to FormUriActivity"}, {"oid": "916e273ef997e9a031098c0d3a1fbf90c6c4c553", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Moved verifyng if form file exist and have no duplicates to FormUriActivity"}, {"oid": "8f285dd4fe2147b1bd12b4fbd7111f110e8c0503", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Moved verifyng if blank form file exist to FormUriActivity"}, {"oid": "ed8bf8a178105198a70e5f2f9fa9d79e7b26fcc2", "committedDate": "2023-04-28 14:36:02 +0200", "message": "Renamed FormEntryActivity to FormFillingActivity to avoid starting form filling directly without using FormUriActivity"}]}, {"oid": "19ac9d6c6658b2c54cb4fa2460a517678caaf101", "url": "https://github.com/getodk/collect/commit/19ac9d6c6658b2c54cb4fa2460a517678caaf101", "message": "create getLastRepeatedGroupName() and getLastRepeatedGroupRepeatCount() in formEntryViewModel", "committedDate": "2020-06-16T14:31:09Z", "type": "forcePushed"}, {"oid": "b9910e442222f1c8c5fc80f76cdce10ab121aa1e", "url": "https://github.com/getodk/collect/commit/b9910e442222f1c8c5fc80f76cdce10ab121aa1e", "message": "make dialogIsNotCancellable() test green", "committedDate": "2020-06-16T17:51:44Z", "type": "forcePushed"}, {"oid": "14005c453d5b1a851680fbc01b68b0484216958e", "url": "https://github.com/getodk/collect/commit/14005c453d5b1a851680fbc01b68b0484216958e", "message": "fix pmd", "committedDate": "2020-06-16T20:32:55Z", "type": "forcePushed"}, {"oid": "bbdf2cd115157bd600783c19c898de76364ca068", "url": "https://github.com/getodk/collect/commit/bbdf2cd115157bd600783c19c898de76364ca068", "message": "defined unit tests", "committedDate": "2020-07-08T16:12:22Z", "type": "commit"}, {"oid": "0c9fe14170f2abc652722d34e458191feefdc863", "url": "https://github.com/getodk/collect/commit/0c9fe14170f2abc652722d34e458191feefdc863", "message": "created Alert Dialog in DeleteRepeatDailog fragment", "committedDate": "2020-07-08T16:12:22Z", "type": "commit"}, {"oid": "ae31539920c278ee081ebb8938e05cf1be86b61a", "url": "https://github.com/getodk/collect/commit/ae31539920c278ee081ebb8938e05cf1be86b61a", "message": "updated message in alert dialog", "committedDate": "2020-07-08T16:12:22Z", "type": "commit"}, {"oid": "f169b4c5ac040433dd4d5db81d781103cb90d0c6", "url": "https://github.com/getodk/collect/commit/f169b4c5ac040433dd4d5db81d781103cb90d0c6", "message": "added tests and code refactor", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "512710373b84dcb6a1bbd077d2eb1f97bae85322", "url": "https://github.com/getodk/collect/commit/512710373b84dcb6a1bbd077d2eb1f97bae85322", "message": "deleted createDeleteRepeatDialog method in DialogUtils", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "bfa785bd7fd61ee97de7d8f213e583e8d2414550", "url": "https://github.com/getodk/collect/commit/bfa785bd7fd61ee97de7d8f213e583e8d2414550", "message": "remove retainMessageOnScreenRotation() test", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "158bbc12c3b80e73aa1c54c8b1f34c71cce6c360", "url": "https://github.com/getodk/collect/commit/158bbc12c3b80e73aa1c54c8b1f34c71cce6c360", "message": "make dialogIsNotCancellable() test green", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "af3abe4beec78cc24774ebc30628c7d41f30ca26", "url": "https://github.com/getodk/collect/commit/af3abe4beec78cc24774ebc30628c7d41f30ca26", "message": "unit tests refactor", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "c59ce33f1fcabebc50bb7ac44e8603187135b339", "url": "https://github.com/getodk/collect/commit/c59ce33f1fcabebc50bb7ac44e8603187135b339", "message": "fix pmd", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "f870c9c701cd2c90266d9c1d32ab98da01641e56", "url": "https://github.com/getodk/collect/commit/f870c9c701cd2c90266d9c1d32ab98da01641e56", "message": "fix crash", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "248efd8024eb30b3c79066a22d0b2021ba7aa880", "url": "https://github.com/getodk/collect/commit/248efd8024eb30b3c79066a22d0b2021ba7aa880", "message": "add unit test to check the activity implemts dialog callback interface", "committedDate": "2020-07-08T16:12:23Z", "type": "commit"}, {"oid": "02f974f8a4c0026bae0056fb30d9878b9cc8d88f", "url": "https://github.com/getodk/collect/commit/02f974f8a4c0026bae0056fb30d9878b9cc8d88f", "message": "fix crash on minimizing app", "committedDate": "2020-07-08T17:27:18Z", "type": "commit"}, {"oid": "02f974f8a4c0026bae0056fb30d9878b9cc8d88f", "url": "https://github.com/getodk/collect/commit/02f974f8a4c0026bae0056fb30d9878b9cc8d88f", "message": "fix crash on minimizing app", "committedDate": "2020-07-08T17:27:18Z", "type": "forcePushed"}, {"oid": "84f57bccecf97a29c9f964bb1817f55fc50b8c30", "url": "https://github.com/getodk/collect/commit/84f57bccecf97a29c9f964bb1817f55fc50b8c30", "message": "fix deleteGroup() in FormEntryActivity", "committedDate": "2020-07-09T19:01:34Z", "type": "commit"}, {"oid": "9f52237810f4b9e5aba746c318ce5a4258487348", "url": "https://github.com/getodk/collect/commit/9f52237810f4b9e5aba746c318ce5a4258487348", "message": "remove FormEntryViewModel in DeleteRepeatDialogFramgent", "committedDate": "2020-07-14T15:28:25Z", "type": "commit"}, {"oid": "06e4ac811dcc316cf5b633ea3ca0f07da82f9e4a", "url": "https://github.com/getodk/collect/commit/06e4ac811dcc316cf5b633ea3ca0f07da82f9e4a", "message": "fix unit tests", "committedDate": "2020-07-14T16:00:26Z", "type": "commit"}, {"oid": "64853923c20e975e972a14a958c929766c430625", "url": "https://github.com/getodk/collect/commit/64853923c20e975e972a14a958c929766c430625", "message": "remove onCancelled()", "committedDate": "2020-07-14T16:12:36Z", "type": "commit"}]}