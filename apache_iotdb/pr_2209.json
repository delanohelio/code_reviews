{"pr_number": 2209, "pr_title": "Avoid overflow by converting to long", "pr_author": "asdf2014", "pr_createdAt": "2020-12-07T15:08:52Z", "pr_url": "https://github.com/apache/iotdb/pull/2209", "timeline": [{"oid": "b15feec25175d713639f770ac7444573d07ff044", "url": "https://github.com/apache/iotdb/commit/b15feec25175d713639f770ac7444573d07ff044", "message": "Avoid overflow by converting to long", "committedDate": "2020-12-07T08:19:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUyMTk4Nw==", "url": "https://github.com/apache/iotdb/pull/2209#discussion_r541521987", "body": "Hi, is this really needed? \r\nI think `PrimitiveArrayManager.ARRAY_SIZE * 8` is far less than  Integer.MAX_VALUE.\r\n(even the overflow may occur,  just changing `8` to `8L` is fine, right?)\r\n", "bodyText": "Hi, is this really needed?\nI think PrimitiveArrayManager.ARRAY_SIZE * 8 is far less than  Integer.MAX_VALUE.\n(even the overflow may occur,  just changing 8 to 8L is fine, right?)", "bodyHTML": "<p dir=\"auto\">Hi, is this really needed?<br>\nI think <code>PrimitiveArrayManager.ARRAY_SIZE * 8</code> is far less than  Integer.MAX_VALUE.<br>\n(even the overflow may occur,  just changing <code>8</code> to <code>8L</code> is fine, right?)</p>", "author": "jixuan1989", "createdAt": "2020-12-12T07:17:27Z", "path": "server/src/main/java/org/apache/iotdb/db/utils/datastructure/TVList.java", "diffHunk": "@@ -82,11 +82,9 @@ public static TVList newList(TSDataType dataType) {\n   public static long tvListArrayMemSize(TSDataType type) {\n     long size = 0;\n     // time size\n-    size +=\n-        PrimitiveArrayManager.ARRAY_SIZE * 8;\n+    size += (long) PrimitiveArrayManager.ARRAY_SIZE * 8L;", "originalCommit": "b15feec25175d713639f770ac7444573d07ff044", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}