{"pr_number": 18349, "pr_title": "#18348 fixes done", "pr_author": "jdotcms", "pr_createdAt": "2020-04-23T21:35:29Z", "pr_url": "https://github.com/dotCMS/core/pull/18349", "timeline": [{"oid": "83f321b04f0f568416942a72c162bf717249e407", "url": "https://github.com/dotCMS/core/commit/83f321b04f0f568416942a72c162bf717249e407", "message": "#18348 fixes done", "committedDate": "2020-04-23T21:35:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE0NTU0MQ==", "url": "https://github.com/dotCMS/core/pull/18349#discussion_r414145541", "body": "![Codacy](https://app.codacy.com/assets/images/favicon.png) Issue found: [Local variable 'match' could be declared final](https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5411758)", "bodyText": "Issue found: Local variable 'match' could be declared final", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\"><img src=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\" alt=\"Codacy\" data-canonical-src=\"https://app.codacy.com/assets/images/favicon.png\" style=\"max-width: 100%;\"></a> Issue found: <a href=\"https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5411758\" rel=\"nofollow\">Local variable 'match' could be declared final</a></p>", "author": "dev-dotcms", "createdAt": "2020-04-23T21:45:39Z", "path": "dotCMS/src/integration-test/java/com/dotcms/util/MimeTypeUtilsTest.java", "diffHunk": "@@ -26,6 +26,14 @@ public static void prepare() throws Exception {\n         IntegrationTestInitService.getInstance().init();\n     }\n \n+    @Test\n+    public void test_wrong_mime_MimeType_all(){\n+\n+        boolean match = MimeTypeUtils.match(\"*/pdf\", \"pdf\");", "originalCommit": "83f321b04f0f568416942a72c162bf717249e407", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDczMjM3Ng==", "url": "https://github.com/dotCMS/core/pull/18349#discussion_r414732376", "body": "I think we are missing a test here", "bodyText": "I think we are missing a test here", "bodyHTML": "<p dir=\"auto\">I think we are missing a test here</p>", "author": "freddyucv", "createdAt": "2020-04-24T17:11:52Z", "path": "dotCMS/src/main/java/com/dotmarketing/portlets/contentlet/model/ResourceLink.java", "diffHunk": "@@ -192,13 +193,29 @@ public final ResourceLink build(final HttpServletRequest request, final User use\n             final StringBuilder resourceLinkUri = new StringBuilder();\n \n             resourceLinkUri.append(identifier.getParentPath()).append(binary.getName());\n-            resourceLink.append(UtilMethods.encodeURIComponent(resourceLinkUri.toString()));\n+            resourceLink.append(escapeUri(resourceLinkUri.toString()));", "originalCommit": "83f321b04f0f568416942a72c162bf717249e407", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}