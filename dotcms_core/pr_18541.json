{"pr_number": 18541, "pr_title": "Issue 18501 noisy felix", "pr_author": "wezell", "pr_createdAt": "2020-05-22T16:44:50Z", "pr_url": "https://github.com/dotCMS/core/pull/18541", "timeline": [{"oid": "ee52207f57d7b4a69e7ec41019fd829b75d29396", "url": "https://github.com/dotCMS/core/commit/ee52207f57d7b4a69e7ec41019fd829b75d29396", "message": "#18501 sets felix to info and turns the osgiproxyservlet off by defualt", "committedDate": "2020-05-14T20:41:57Z", "type": "commit"}, {"oid": "b86c5ec76438fa0c9d0e85ad2f7f0d6af180fdc1", "url": "https://github.com/dotCMS/core/commit/b86c5ec76438fa0c9d0e85ad2f7f0d6af180fdc1", "message": "Merge remote-tracking branch 'origin/master' into issue-18501-noisy-felix", "committedDate": "2020-05-22T14:48:09Z", "type": "commit"}, {"oid": "af65dbeec3cc98b31b8f9cbb94c6fdec05d1d4d6", "url": "https://github.com/dotCMS/core/commit/af65dbeec3cc98b31b8f9cbb94c6fdec05d1d4d6", "message": "#18501 making felix init once", "committedDate": "2020-05-22T16:38:00Z", "type": "commit"}, {"oid": "a7b71ead3f3e6d1811d1a63073c7ee421ecbf550", "url": "https://github.com/dotCMS/core/commit/a7b71ead3f3e6d1811d1a63073c7ee421ecbf550", "message": "##18501 better defaults", "committedDate": "2020-05-22T16:43:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA==", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430455480", "body": "this is not thread safe, is it suppose to be thread safe?", "bodyText": "this is not thread safe, is it suppose to be thread safe?", "bodyHTML": "<p dir=\"auto\">this is not thread safe, is it suppose to be thread safe?</p>", "author": "freddyucv", "createdAt": "2020-05-26T14:27:54Z", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -76,28 +76,28 @@\n \n     public static OSGIUtil getInstance() {\n         if (instance == null) {\n-            instance = new OSGIUtil();\n+            instance = new OSGIUtil(Config.CONTEXT);", "originalCommit": "a7b71ead3f3e6d1811d1a63073c7ee421ecbf550", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1ODkxOQ==", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430458919", "bodyText": "meaning, we need something like a sync block and a double null check here?", "author": "wezell", "createdAt": "2020-05-26T14:32:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0NTU0OA==", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r430645548", "bodyText": "sync block and a double null check are bad for performance\nI think the Bill Pugh Singleton is better\nhttps://www.harinathk.com/java/singleton-bill-pugh-solution-enum/", "author": "freddyucv", "createdAt": "2020-05-26T19:12:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTQ4MA=="}], "type": "inlineReview"}, {"oid": "d8fd5e9c219cd4ff649008b1e9d4186800a0538b", "url": "https://github.com/dotCMS/core/commit/d8fd5e9c219cd4ff649008b1e9d4186800a0538b", "message": "#18501 taking Freddy's suggestion", "committedDate": "2020-05-27T13:35:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0MTM0OA==", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r431141348", "body": "![Codacy](https://app.codacy.com/assets/images/favicon.png) Issue found: [Use block level rather than method level synchronization](https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5572140)", "bodyText": "Issue found: Use block level rather than method level synchronization", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\"><img src=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\" alt=\"Codacy\" data-canonical-src=\"https://app.codacy.com/assets/images/favicon.png\" style=\"max-width: 100%;\"></a> Issue found: <a href=\"https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5572140\" rel=\"nofollow\">Use block level rather than method level synchronization</a></p>", "author": "dev-dotcms", "createdAt": "2020-05-27T13:43:39Z", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -141,12 +140,13 @@ private Properties defaultProperties() {\n      * @param context The servlet context\n      * @return Framework\n      */\n-    public Framework initializeFramework(ServletContext context) {\n+    public synchronized Framework initializeFramework(ServletContext context) {", "originalCommit": "d8fd5e9c219cd4ff649008b1e9d4186800a0538b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE0MTM3MA==", "url": "https://github.com/dotCMS/core/pull/18541#discussion_r431141370", "body": "![Codacy](https://app.codacy.com/assets/images/favicon.png) Issue found: [Avoid unused imports such as 'com.dotcms.util.CollectionsUtils'](https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5572140)", "bodyText": "Issue found: Avoid unused imports such as 'com.dotcms.util.CollectionsUtils'", "bodyHTML": "<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\"><img src=\"https://camo.githubusercontent.com/ddf013cbb1295b347431f8757e505fb295e9c7dd5043d9a3a0bf610dd0bb0da7/68747470733a2f2f6170702e636f646163792e636f6d2f6173736574732f696d616765732f66617669636f6e2e706e67\" alt=\"Codacy\" data-canonical-src=\"https://app.codacy.com/assets/images/favicon.png\" style=\"max-width: 100%;\"></a> Issue found: <a href=\"https://app.codacy.com/manual/dotCMS/core/pullRequest?prid=5572140\" rel=\"nofollow\">Avoid unused imports such as 'com.dotcms.util.CollectionsUtils'</a></p>", "author": "dev-dotcms", "createdAt": "2020-05-27T13:43:40Z", "path": "dotCMS/src/main/java/org/apache/felix/framework/OSGIUtil.java", "diffHunk": "@@ -40,6 +29,17 @@\n import org.osgi.framework.BundleContext;\n import org.osgi.framework.ServiceReference;\n import org.osgi.framework.launch.Framework;\n+import com.dotcms.repackage.org.apache.commons.io.IOUtils;\n+import com.dotcms.util.CollectionsUtils;", "originalCommit": "d8fd5e9c219cd4ff649008b1e9d4186800a0538b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}