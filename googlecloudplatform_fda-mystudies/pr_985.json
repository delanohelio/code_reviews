{"pr_number": 985, "pr_title": "Response Server - Audit Log Implementation with Test Cases", "pr_author": "monica-BTC", "pr_createdAt": "2020-09-17T15:06:26Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985", "timeline": [{"oid": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "message": "added audit log implementation for response server\n\nadded audit log implementation for response server", "committedDate": "2020-09-17T14:56:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODA5MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328090", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nDistance between variable 'notSaveMap' declaration and its first usage is 5, but allowed 3.  Consider making that variable final if you still need to store its value in advance (before method calls that might have side effects on the original value).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nDistance between variable 'notSaveMap' declaration and its first usage is 5, but allowed 3.  Consider making that variable final if you still need to store its value in advance (before method calls that might have side effects on the original value).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nDistance between variable 'notSaveMap' declaration and its first usage is 5, but allowed 3.  Consider making that variable final if you still need to store its value in advance (before method calls that might have side effects on the original value).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:35Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/ProcessActivityResponseController.java", "diffHunk": "@@ -226,7 +305,13 @@\n                       + activityVersion\n                       + \"\\n Particpant Id: \"\n                       + participantId);\n-\n+          Map<String, String> notSaveMap = new HashedMap<>();", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODA5Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328093", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nMissing a Javadoc comment.", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nMissing a Javadoc comment.", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nMissing a Javadoc comment.</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:35Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerAuditLogHelper.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import com.google.cloud.healthcare.fdamystudies.beans.AuditLogEventRequest;\n+import com.google.cloud.healthcare.fdamystudies.mapper.AuditEventMapper;\n+import com.google.cloud.healthcare.fdamystudies.service.AuditEventService;\n+import java.util.Map;\n+import org.slf4j.ext.XLogger;\n+import org.slf4j.ext.XLoggerFactory;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+@Component\n+public class ResponseServerAuditLogHelper {\n+\n+  private XLogger logger = XLoggerFactory.getXLogger(ResponseServerAuditLogHelper.class.getName());\n+\n+  @Autowired AuditEventService auditService;\n+\n+  @Autowired private CommonApplicationPropertyConfig commonPropConfig;\n+\n+  public void logEvent(AuditLogEvent eventEnum, AuditLogEventRequest auditRequest) {\n+    logEvent(eventEnum, auditRequest, null);\n+  }\n+\n+  public void logEvent(", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODA5Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328097", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 184).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 184).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 184).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:35Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEwMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328102", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 200).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 200).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 200).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:36Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEwNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328104", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 147).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 147).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 147).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:36Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEwNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328106", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 160).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 160).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 160).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:36Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEwOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328109", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 186).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 186).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 186).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:36Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODExMw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328113", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 198).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 198).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 198).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:36Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODExOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328118", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 102).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 102).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 102).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEyMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328120", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 230).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 230).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 230).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEyMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328122", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 164).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 164).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 164).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEyNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328124", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 122).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 122).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 122).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEyOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328128", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 244).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 244).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 244).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEzMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328132", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 216).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 216).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 216).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEzNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328136", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 237).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 237).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 237).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODEzOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328138", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 108).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 108).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 108).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:37Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODE0MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328140", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 115).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 115).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 115).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:38Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATE_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant failed to get updated into 1 or more participant activity responses.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODE0MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328141", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 204).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 204).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 204).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:38Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATE_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant failed to get updated into 1 or more participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATE_FAILED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All response data belonging to participant deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"1 or more of the participant's response datasets failed to get deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETION_FAILED\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant, after response submission. Activity version: '${activity_version}' , run ID: '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODE0Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328143", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 175).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 175).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 175).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:38Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATE_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant failed to get updated into 1 or more participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATE_FAILED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All response data belonging to participant deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"1 or more of the participant's response datasets failed to get deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETION_FAILED\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant, after response submission. Activity version: '${activity_version}' , run ID: '${run_id}'.\",\n+      \"ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION\"),\n+\n+  PARTICIPANT_ACTIVITY_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All activity-state data for participant deleted.\",\n+      \"PARTICIPANT_ACTIVITY_DATA_DELETED\"),\n+\n+  ACTIVITY_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity-state data of the participant, failed to get deleted.\",\n+      \"ACTIVITY_DATA_DELETION_FAILED\"),\n+\n+  PARTICIPANT_WITHDRAWAL_INTIMATION_FROM_PARTICIPANT_DATASTORE(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Information about participant's withdrawal from study received as withdrawal timestamp '${withdrawal_timetamp}' and data-retention setting '${dataretention_setting}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODE0Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328147", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 177).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 177).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 177).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:38Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATE_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant failed to get updated into 1 or more participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATE_FAILED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All response data belonging to participant deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"1 or more of the participant's response datasets failed to get deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETION_FAILED\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant, after response submission. Activity version: '${activity_version}' , run ID: '${run_id}'.\",\n+      \"ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION\"),\n+\n+  PARTICIPANT_ACTIVITY_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All activity-state data for participant deleted.\",\n+      \"PARTICIPANT_ACTIVITY_DATA_DELETED\"),\n+\n+  ACTIVITY_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity-state data of the participant, failed to get deleted.\",\n+      \"ACTIVITY_DATA_DELETION_FAILED\"),\n+\n+  PARTICIPANT_WITHDRAWAL_INTIMATION_FROM_PARTICIPANT_DATASTORE(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Information about participant's withdrawal from study received as withdrawal timestamp '${withdrawal_timetamp}' and data-retention setting '${dataretention_setting}'.\",\n+      \"PARTICIPANT_WITHDRAWAL_INTIMATION_FROM_PARTICIPANT_DATASTORE\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant. Activity version: '${activity_version}' , run ID: '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMyODE1MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r490328150", "body": "**[response-server Checks]** <sub>reported by [reviewdog](https://github.com/reviewdog/reviewdog) :dog:</sub>\nLine is longer than 100 characters (found 186).", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nLine is longer than 100 characters (found 186).", "bodyHTML": "<p dir=\"auto\"><strong>[response-server Checks]</strong> <sub>reported by <a href=\"https://github.com/reviewdog/reviewdog\">reviewdog</a> <g-emoji class=\"g-emoji\" alias=\"dog\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f436.png\">\ud83d\udc36</g-emoji></sub><br>\nLine is longer than 100 characters (found 186).</p>", "author": "github-actions", "createdAt": "2020-09-17T15:07:38Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ResponseServerEvent.java", "diffHunk": "@@ -0,0 +1,261 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.common;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.MOBILE_APPS;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.PARTICIPANT_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.RESPONSE_DATASTORE;\n+import static com.google.cloud.healthcare.fdamystudies.common.PlatformComponent.STUDY_BUILDER;\n+\n+import java.util.Optional;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+\n+@Getter\n+@AllArgsConstructor\n+public enum ResponseServerEvent implements AuditLogEvent {\n+  PARTICIPANT_ID_GENERATED(\n+      PARTICIPANT_DATASTORE, RESPONSE_DATASTORE, null, null, \"PARTICIPANT_ID_GENERATED\"),\n+\n+  PARTICIPANT_ID_GENERATION_FAILED(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID could not be generated for app user.\",\n+      \"PARTICIPANT_ID_GENERATION_FAILED\"),\n+\n+  PARTICIPANT_ID_INVALID(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant ID found invalid in submitted response.\",\n+      \"PARTICIPANT_ID_INVALID\"),\n+\n+  STUDY_METADATA_RECEIVED(\n+      STUDY_BUILDER,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Study metadata received.\",\n+      \"STUDY_METADATA_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIVED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response received from participant for activity type '${activity_type}', activity ID '${activity_id}', activity version: '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIVED\"),\n+\n+  ACTIVITY_RESPONSE_RECEIPT_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Receipt of activity response from participant failed, for activity type '${questionnaire_or_active_task}', activity ID '${activity_id}', activity version: '${version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_RESPONSE_RECEIPT_FAILED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVED\"),\n+\n+  ACTIVTY_METADATA_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      STUDY_BUILDER,\n+      null,\n+      \"Activity metadata could not be retrieved for activity type '${activity_type}', activity ID '${activity_id}' and activity version '${activity_version}'.\",\n+      \"ACTIVTY_METADATA_RETRIEVAL_FAILED\"),\n+\n+  ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity metadata conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINED_WITH_RESPONSE_DATA\"),\n+\n+  ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Conjoining of activity metadata with response data, failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value ('${datasharing_consent_value}') for participant retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value for participant could not be retrieved.\",\n+      \"DATA_SHARING_CONSENT_VALUE_RETRIEVAL_FAILED\"),\n+\n+  DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Latest data-sharing consent value of participant successfully conjoined with response data for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}'.\",\n+      \"DATA_SHARING_CONSENT_VALUE_CONJOINED_WITH_ACTIVITY_RESPONSE_DATA\"),\n+\n+  WITHDRAWAL_INFORMATION_RETRIEVED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information (withdrawn status: '${withdrawn_status}') successfully retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETRIEVED\"),\n+\n+  WITHDRAWAL_INFORMATION_RETREIVAL_FAILED(\n+      RESPONSE_DATASTORE,\n+      PARTICIPANT_DATASTORE,\n+      null,\n+      \"Participant's withdrawal information could not be retrieved, after receipt of activity response from participant.\",\n+      \"WITHDRAWAL_INFORMATION_RETREIVAL_FAILED\"),\n+\n+  ACTIVITY_RESPONSE_NOT_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Participant's activity response could not be saved. Response Metadata: activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}', timestamp of response submission: '${submission_timestamp}'.\",\n+      \"ACTIVITY_RESPONSE_NOT_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_SAVED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response saved for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after retrieval and conjoining of required metadata.\",\n+      \"ACTIVITY_RESPONSE_SAVED\"),\n+\n+  ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity response save operation failed for activity type '${activity_type}', activity ID '${activity_id}', activity version '${activity_version}' and run ID '${run_id}', after attempts to retrieve and conjoin required metadata.\",\n+      \"ACTIVITY_RESPONSE_DATA_PROCESSING_FAILED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant successfully updated into all participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATED\"),\n+\n+  WITHDRAWAL_INFORMATION_UPDATE_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Withdrawal information of participant failed to get updated into 1 or more participant activity responses.\",\n+      \"WITHDRAWAL_INFORMATION_UPDATE_FAILED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All response data belonging to participant deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETED\"),\n+\n+  PARTICIPANT_RESPONSE_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"1 or more of the participant's response datasets failed to get deleted.\",\n+      \"PARTICIPANT_RESPONSE_DATA_DELETION_FAILED\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant, after response submission. Activity version: '${activity_version}' , run ID: '${run_id}'.\",\n+      \"ACTIVITY_STATE_SAVED_OR_UPDATED_AFTER_RESPONSE_SUBMISSION\"),\n+\n+  PARTICIPANT_ACTIVITY_DATA_DELETED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"All activity-state data for participant deleted.\",\n+      \"PARTICIPANT_ACTIVITY_DATA_DELETED\"),\n+\n+  ACTIVITY_DATA_DELETION_FAILED(\n+      RESPONSE_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity-state data of the participant, failed to get deleted.\",\n+      \"ACTIVITY_DATA_DELETION_FAILED\"),\n+\n+  PARTICIPANT_WITHDRAWAL_INTIMATION_FROM_PARTICIPANT_DATASTORE(\n+      PARTICIPANT_DATASTORE,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Information about participant's withdrawal from study received as withdrawal timestamp '${withdrawal_timetamp}' and data-retention setting '${dataretention_setting}'.\",\n+      \"PARTICIPANT_WITHDRAWAL_INTIMATION_FROM_PARTICIPANT_DATASTORE\"),\n+\n+  ACTIVITY_STATE_SAVED_OR_UPDATED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' was saved or updated for participant. Activity version: '${activity_version}' , run ID: '${run_id}'.\",\n+      \"ACTIVITY_STATE_SAVED_OR_UPDATED\"),\n+\n+  ACTIVITY_STATE_SAVE_OR_UPDATE_FAILED(\n+      MOBILE_APPS,\n+      RESPONSE_DATASTORE,\n+      null,\n+      \"Activity state '${activity_state}' for activity ID '${activity_id}' could not be saved or updated for participant. Activity version: '${activity_version}' , run ID: '${run_id}'.\",", "originalCommit": "cb8dc306dc7c73b34783fb3b3f4a612b9c6932d3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "588a152f4c867e108652265a59d4285df612fe92", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/588a152f4c867e108652265a59d4285df612fe92", "message": "Fixed comments\n\nFixed comments", "committedDate": "2020-09-18T08:30:23Z", "type": "commit"}, {"oid": "66f3af625e514e777e9c473f1b84139c7a198089", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/66f3af625e514e777e9c473f1b84139c7a198089", "message": "Fixed Build issue\n\nFixed Build issue", "committedDate": "2020-09-23T15:03:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwNjYwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r493906607", "body": "```suggestion\r\n          ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED, auditRequest, map);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED, auditRequest);\n          \n          \n            \n                      ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED, auditRequest, map);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">          <span class=\"pl-c1\">ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED</span>, auditRequest);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">          <span class=\"pl-c1\">ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED</span>, auditRequest<span class=\"x x-first x-last\">, map</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "saminguyen", "createdAt": "2020-09-23T21:30:01Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/ActivityResponseProcessorServiceImpl.java", "diffHunk": "@@ -98,15 +115,25 @@ public void saveActivityResponseDataForParticipant(\n               + \"\\n\"\n               + \"Activity Id in metadata: \"\n               + activityMetadataBeanFromWcp.getMetadata().getActivityId());\n+      Map<String, String> map = new HashedMap<>();\n+      map.put(\"activity_type\", questionnaireActivityResponseBean.getType());\n+      map.put(\"activity_id\", activityMetadataBeanFromWcp.getMetadata().getActivityId());\n+      map.put(\"activity_version\", activityMetadataBeanFromWcp.getMetadata().getVersion());\n+      map.put(\"run_id\", activityMetadataBeanFromWcp.getMetadata().getActivityRunId());\n+      responseServerAuditLogHelper.logEvent(\n+          ACTIVITY_METADATA_CONJOINING_WITH_RESPONSE_DATA_FAILED, auditRequest);", "originalCommit": "66f3af625e514e777e9c473f1b84139c7a198089", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA1MTkwNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r494051904", "bodyText": "Fixed review comment.", "author": "monica-BTC", "createdAt": "2020-09-24T05:44:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwNjYwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwODM5OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r493908398", "body": "nit: move to a common constants class", "bodyText": "nit: move to a common constants class", "bodyHTML": "<p dir=\"auto\">nit: move to a common constants class</p>", "author": "saminguyen", "createdAt": "2020-09-23T21:34:08Z", "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/ProcessActivityResponseController.java", "diffHunk": "@@ -44,6 +75,10 @@\n \n @RestController\n public class ProcessActivityResponseController {\n+  private static final String RUN_ID = \"run_id\";\n+  private static final String ACTIVITY_VERSION = \"activity_version\";\n+  private static final String ACTIVITY_ID = \"activity_id\";\n+  private static final String ACTIVITY_TYPE = \"activity_type\";", "originalCommit": "66f3af625e514e777e9c473f1b84139c7a198089", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA1MTk0Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r494051947", "bodyText": "Moved to CommonConstants.", "author": "monica-BTC", "createdAt": "2020-09-24T05:44:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwODM5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA3NTk0Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r494075946", "bodyText": "reuse these vars for other places where they are being used, too, like in ProcessActivityStateController.java", "author": "saminguyen", "createdAt": "2020-09-24T06:48:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwODM5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA5MjMzNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/985#discussion_r494092334", "bodyText": "Reused Variables in ProcessActivityStateController.java.", "author": "monica-BTC", "createdAt": "2020-09-24T07:21:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkwODM5OA=="}], "type": "inlineReview"}, {"oid": "51888d3f98970dd13d328d3c720ac4a9ee5ec81a", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/51888d3f98970dd13d328d3c720ac4a9ee5ec81a", "message": "Fixed Review comments\n\nFixed Review comments", "committedDate": "2020-09-24T04:41:18Z", "type": "commit"}, {"oid": "59b470da6ed94bf20247a60e98e9a2a47b65d6ef", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/59b470da6ed94bf20247a60e98e9a2a47b65d6ef", "message": "Merge branch 'develop' into response-server-audit-log-events", "committedDate": "2020-09-24T06:51:06Z", "type": "commit"}, {"oid": "57cbb4c72fb59c64d221d46a17688b41014ef324", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/57cbb4c72fb59c64d221d46a17688b41014ef324", "message": "Update CommonConstants.java", "committedDate": "2020-09-24T06:55:11Z", "type": "commit"}, {"oid": "6d8cbee8573f7fcec9f1ad8402b5bf58e8b0f065", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6d8cbee8573f7fcec9f1ad8402b5bf58e8b0f065", "message": "Fixed review comments\n\nFixed review comments", "committedDate": "2020-09-24T07:16:46Z", "type": "commit"}]}