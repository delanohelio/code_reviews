{"pr_number": 626, "pr_title": "#572 - Update adapters and docs", "pr_author": "olenagerasimova", "pr_createdAt": "2020-09-23T17:32:18Z", "pr_url": "https://github.com/artipie/artipie/pull/626", "timeline": [{"oid": "051e6799ad37d1f90f1996cb75f94ad0138aa49a", "url": "https://github.com/artipie/artipie/commit/051e6799ad37d1f90f1996cb75f94ad0138aa49a", "message": "#572 - Update adapters and docs", "committedDate": "2020-09-23T17:23:13Z", "type": "commit"}, {"oid": "f486c4516de01ace5948d77fdbcb9477c1f2d1b4", "url": "https://github.com/artipie/artipie/commit/f486c4516de01ace5948d77fdbcb9477c1f2d1b4", "message": "#572 - update ppom, do not filter test resources", "committedDate": "2020-09-23T17:33:25Z", "type": "commit"}, {"oid": "4c1da259fa3b5f99ca4e298efd02f2da64641a0a", "url": "https://github.com/artipie/artipie/commit/4c1da259fa3b5f99ca4e298efd02f2da64641a0a", "message": "Merge branch 'master' into 572-update-adapters-and-docs", "committedDate": "2020-09-24T13:14:33Z", "type": "commit"}, {"oid": "5116d54deac9ecf45fa95a9ecf2c1ec15e433798", "url": "https://github.com/artipie/artipie/commit/5116d54deac9ecf45fa95a9ecf2c1ec15e433798", "message": "#572 - all adapters updated", "committedDate": "2020-09-25T10:06:36Z", "type": "commit"}, {"oid": "c2ef707b42fe9ac137b29def8c00a2a5a38a231a", "url": "https://github.com/artipie/artipie/commit/c2ef707b42fe9ac137b29def8c00a2a5a38a231a", "message": "Merge branch 'master' of https://github.com/artipie/artipie into 572-update-adapters-and-docs\n\n\u0001 Conflicts:\n\u0001\tsrc/main/java/com/artipie/SliceFromConfig.java", "committedDate": "2020-09-25T10:11:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk4NjM0Mg==", "url": "https://github.com/artipie/artipie/pull/626#discussion_r494986342", "body": "@olenagerasimova PHP slice needs to be wrapped into `trimIfNotStandalone`, so it will be:\r\n```\r\nslice = trimIfNotStandalone(\r\n  settings, standalone,\r\n  new PhpComposer(cfg.storage())\r\n);\r\n```\r\nSame goes for NPM slice", "bodyText": "@olenagerasimova PHP slice needs to be wrapped into trimIfNotStandalone, so it will be:\nslice = trimIfNotStandalone(\n  settings, standalone,\n  new PhpComposer(cfg.storage())\n);\n\nSame goes for NPM slice", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/olenagerasimova/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/olenagerasimova\">@olenagerasimova</a> PHP slice needs to be wrapped into <code>trimIfNotStandalone</code>, so it will be:</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"slice = trimIfNotStandalone(\n  settings, standalone,\n  new PhpComposer(cfg.storage())\n);\n\"><pre><code>slice = trimIfNotStandalone(\n  settings, standalone,\n  new PhpComposer(cfg.storage())\n);\n</code></pre></div>\n<p dir=\"auto\">Same goes for NPM slice</p>", "author": "olegmoz", "createdAt": "2020-09-25T13:27:00Z", "path": "src/main/java/com/artipie/SliceFromConfig.java", "diffHunk": "@@ -201,7 +203,7 @@ static Slice build(\n                 );\n                 break;\n             case \"php\":\n-                slice = new PhpComposer(cfg.path(), cfg.storage());\n+                slice = new PhpComposer(cfg.storage());", "originalCommit": "c2ef707b42fe9ac137b29def8c00a2a5a38a231a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDk4NzcyNQ==", "url": "https://github.com/artipie/artipie/pull/626#discussion_r494987725", "body": "@olenagerasimova you should pass `cfg.url()` as first parameter to `Slice`. Also to fix the proof you need to change `path: \"/npm_repo/\"` to `url: http://localhost:8080/npm_repo` in `npm_repo.yaml`", "bodyText": "@olenagerasimova you should pass cfg.url() as first parameter to Slice. Also to fix the proof you need to change path: \"/npm_repo/\" to url: http://localhost:8080/npm_repo in npm_repo.yaml", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/olenagerasimova/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/olenagerasimova\">@olenagerasimova</a> you should pass <code>cfg.url()</code> as first parameter to <code>Slice</code>. Also to fix the proof you need to change <code>path: \"/npm_repo/\"</code> to <code>url: http://localhost:8080/npm_repo</code> in <code>npm_repo.yaml</code></p>", "author": "olegmoz", "createdAt": "2020-09-25T13:29:12Z", "path": "src/main/java/com/artipie/SliceFromConfig.java", "diffHunk": "@@ -167,7 +169,7 @@ static Slice build(\n                 break;\n             case \"npm\":\n                 slice = new NpmSlice(\n-                    cfg.path(),\n+                    new Unchecked<>(() -> new URL(cfg.path())).value(),", "originalCommit": "c2ef707b42fe9ac137b29def8c00a2a5a38a231a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6efcabe2ba3e0323e76211cd90303cc0781d432d", "url": "https://github.com/artipie/artipie/commit/6efcabe2ba3e0323e76211cd90303cc0781d432d", "message": "CR", "committedDate": "2020-09-25T13:46:20Z", "type": "commit"}, {"oid": "1b5e0b7bd425f924e120ac6959e028e0b06c93cc", "url": "https://github.com/artipie/artipie/commit/1b5e0b7bd425f924e120ac6959e028e0b06c93cc", "message": "one more fix", "committedDate": "2020-09-25T13:54:55Z", "type": "commit"}, {"oid": "6872170fe6b746d21d693f41a6db661d7814a274", "url": "https://github.com/artipie/artipie/commit/6872170fe6b746d21d693f41a6db661d7814a274", "message": "unused imports removed", "committedDate": "2020-09-25T14:12:27Z", "type": "commit"}, {"oid": "f401bc2a2b899ee5a40d3b9846611a8ba7d4ff7c", "url": "https://github.com/artipie/artipie/commit/f401bc2a2b899ee5a40d3b9846611a8ba7d4ff7c", "message": "use SliceFromConfig", "committedDate": "2020-09-25T18:03:35Z", "type": "commit"}, {"oid": "e4f859b716ea067dede6a4e864b86acb2cbb5326", "url": "https://github.com/artipie/artipie/commit/e4f859b716ea067dede6a4e864b86acb2cbb5326", "message": "Merge branch 'master' into 572-update-adapters-and-docs", "committedDate": "2020-09-28T06:54:21Z", "type": "commit"}]}