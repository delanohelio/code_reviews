{"pr_number": 5867, "pr_title": "Xiaomi ai teacher adaption (no browser, fewer prefs)", "pr_author": "landinggao", "pr_createdAt": "2020-03-26T03:41:07Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/5867", "timeline": [{"oid": "bdfae8791a3e7ee482152190291979680a2a55a0", "url": "https://github.com/ankidroid/Anki-Android/commit/bdfae8791a3e7ee482152190291979680a2a55a0", "message": "Adaption on Xiaomi AI teacher\n\nThe device has no web browser, also some advanced prefences are reduced for device function limitation.\n\nSigned-off-by: landinggao <gaoyingjun@xiaomi.com>", "committedDate": "2020-03-31T09:21:52Z", "type": "commit"}, {"oid": "bdfae8791a3e7ee482152190291979680a2a55a0", "url": "https://github.com/ankidroid/Anki-Android/commit/bdfae8791a3e7ee482152190291979680a2a55a0", "message": "Adaption on Xiaomi AI teacher\n\nThe device has no web browser, also some advanced prefences are reduced for device function limitation.\n\nSigned-off-by: landinggao <gaoyingjun@xiaomi.com>", "committedDate": "2020-03-31T09:21:52Z", "type": "forcePushed"}, {"oid": "942f2fa66a99bf01f77df098426eab9754e44488", "url": "https://github.com/ankidroid/Anki-Android/commit/942f2fa66a99bf01f77df098426eab9754e44488", "message": "remove unused import etc.", "committedDate": "2020-03-31T09:52:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0MTAxMQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400941011", "body": "I believe the preferences will skew quickly if we attempt to maintain two sets.\r\nCan you alter this to use the same strategy as you used with notifications preference and programmatically knockout the preferences you don't want?", "bodyText": "I believe the preferences will skew quickly if we attempt to maintain two sets.\nCan you alter this to use the same strategy as you used with notifications preference and programmatically knockout the preferences you don't want?", "bodyHTML": "<p dir=\"auto\">I believe the preferences will skew quickly if we attempt to maintain two sets.<br>\nCan you alter this to use the same strategy as you used with notifications preference and programmatically knockout the preferences you don't want?</p>", "author": "mikehardy", "createdAt": "2020-03-31T14:05:46Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -125,7 +126,11 @@ private Collection getCol() {\n \n     @Override\n     public void onBuildHeaders(List<Header> target) {\n-        loadHeadersFromResource(R.xml.preference_headers, target);\n+        if(AdaptionUtil.hasReducedPreferences()) {\n+            loadHeadersFromResource(R.xml.preference_headers_without_advanced, target);", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM0MzYxNA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r401343614", "bodyText": "I changed the code for this, thanks.", "author": "landinggao", "createdAt": "2020-04-01T04:03:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0MTAxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0MTEyMA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400941120", "body": "```suggestion\r\n        } else {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }else {\n          \n          \n            \n                    } else {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        }<span class=\"pl-k\">else</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span> {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:05:55Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -125,7 +126,11 @@ private Collection getCol() {\n \n     @Override\n     public void onBuildHeaders(List<Header> target) {\n-        loadHeadersFromResource(R.xml.preference_headers, target);\n+        if(AdaptionUtil.hasReducedPreferences()) {\n+            loadHeadersFromResource(R.xml.preference_headers_without_advanced, target);\n+        }else {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0MTM4NA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400941384", "body": "```suggestion\r\n                if (AdaptionUtil.hasReducedPreferences()) {\r\n```\r\nAnd this is the example I mention above of programmatically knocking out the preferences you don't want", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if(AdaptionUtil.hasReducedPreferences()) {\n          \n          \n            \n                            if (AdaptionUtil.hasReducedPreferences()) {\n          \n      \n    \n    \n  \n\nAnd this is the example I mention above of programmatically knocking out the preferences you don't want", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">And this is the example I mention above of programmatically knocking out the preferences you don't want</p>", "author": "mikehardy", "createdAt": "2020-03-31T14:06:18Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -185,13 +190,20 @@ public static Intent getPreferenceSubscreenIntent(Context context, String subscr\n         i.putExtra(PreferenceActivity.EXTRA_NO_HEADERS, true);\n         return i;\n     }\n-\n     private void initSubscreen(String action, PreferenceContext listener) {\n         PreferenceScreen screen;\n         switch (action) {\n             case \"com.ichi2.anki.prefs.general\":\n                 listener.addPreferencesFromResource(R.xml.preferences_general);\n                 screen = listener.getPreferenceScreen();\n+                if(AdaptionUtil.hasReducedPreferences()) {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0MzI0OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400943249", "body": "```suggestion\r\n    private static boolean sHasRunWebBrowserCheck = false;\r\n    private static boolean sHasWebBrowser = true;\r\n\r\n    public static boolean hasWebBrowser(Context context) {\r\n        if (sHasRunWebBrowserCheck) {\r\n            return sHasWebBrowser;\r\n        }\r\n        \r\n```\r\n\r\nSince this is static and should not vary much, probably best to memoize this as it could affect performance. I haven't tested this suggested code but it should work or be close to working", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static boolean hasWebBrowser(Context context){\n          \n          \n            \n                private static boolean sHasRunWebBrowserCheck = false;\n          \n          \n            \n                private static boolean sHasWebBrowser = true;\n          \n          \n            \n            \n          \n          \n            \n                public static boolean hasWebBrowser(Context context) {\n          \n          \n            \n                    if (sHasRunWebBrowserCheck) {\n          \n          \n            \n                        return sHasWebBrowser;\n          \n          \n            \n                    }\n          \n          \n            \n                    \n          \n      \n    \n    \n  \n\nSince this is static and should not vary much, probably best to memoize this as it could affect performance. I haven't tested this suggested code but it should work or be close to working", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k x x-first x-last\">public</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first\">hasWebBrowser(</span><span class=\"pl-smi x\">Context</span><span class=\"x x-last\"> context){</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k x x-first x-last\">private</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">boolean</span> <span class=\"x x-first\">sHasRunWebBrowserCheck </span><span class=\"pl-k x\">=</span><span class=\"x\"> </span><span class=\"pl-c1 x\">false</span><span class=\"x x-last\">;</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">boolean</span> sHasWebBrowser <span class=\"pl-k\">=</span> <span class=\"pl-c1\">true</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">boolean</span> hasWebBrowser(<span class=\"pl-smi\">Context</span> context) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (sHasRunWebBrowserCheck) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-k\">return</span> sHasWebBrowser;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        </td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">Since this is static and should not vary much, probably best to memoize this as it could affect performance. I haven't tested this suggested code but it should work or be close to working</p>", "author": "mikehardy", "createdAt": "2020-03-31T14:08:43Z", "path": "AnkiDroid/src/main/java/com/ichi2/utils/AdaptionUtil.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.ichi2.utils;\n+\n+import android.content.Context;\n+import android.content.Intent;\n+import android.content.pm.PackageManager;\n+import android.content.pm.ResolveInfo;\n+import android.net.Uri;\n+import android.os.Build;\n+\n+import java.util.List;\n+\n+public class AdaptionUtil {\n+    public static boolean hasWebBrowser(Context context){", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0Mzg4MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400943880", "body": "```suggestion\r\n        if (list.size() == 0) {\r\n            sHasWebBrowser = false;\r\n        ]\r\n        return sHasWebBrowser;\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return list.size()==0 ? false : true;\n          \n          \n            \n                    if (list.size() == 0) {\n          \n          \n            \n                        sHasWebBrowser = false;\n          \n          \n            \n                    ]\n          \n          \n            \n                    return sHasWebBrowser;", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k x x-first\">return</span><span class=\"x x-last\"> </span>list<span class=\"pl-k\">.</span>size()<span class=\"pl-k x x-first\">==</span><span class=\"pl-c1 x\">0</span><span class=\"x\"> </span><span class=\"pl-k x\">?</span><span class=\"x\"> </span><span class=\"pl-c1 x\">false</span><span class=\"x\"> </span><span class=\"pl-k x\">:</span><span class=\"x\"> </span><span class=\"pl-c1 x\">true</span><span class=\"x x-last\">;</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k x x-first\">if</span><span class=\"x x-last\"> (</span>list<span class=\"pl-k\">.</span>size()<span class=\"x x-first\"> </span><span class=\"pl-k x\">==</span><span class=\"x\"> </span><span class=\"pl-c1 x\">0</span><span class=\"x x-last\">) {</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            sHasWebBrowser <span class=\"pl-k\">=</span> <span class=\"pl-c1\">false</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        ]</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">return</span> sHasWebBrowser;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:09:33Z", "path": "AnkiDroid/src/main/java/com/ichi2/utils/AdaptionUtil.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.ichi2.utils;\n+\n+import android.content.Context;\n+import android.content.Intent;\n+import android.content.pm.PackageManager;\n+import android.content.pm.ResolveInfo;\n+import android.net.Uri;\n+import android.os.Build;\n+\n+import java.util.List;\n+\n+public class AdaptionUtil {\n+    public static boolean hasWebBrowser(Context context){\n+        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.google.com\"));\n+        PackageManager pm = context.getPackageManager();\n+        List<ResolveInfo> list = pm.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n+        return list.size()==0 ? false : true;", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMyMzc2Mw==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r401323763", "bodyText": "Agree, I'll set sHasRunWebBrowserCheck to true before return then.", "author": "landinggao", "createdAt": "2020-04-01T02:39:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0Mzg4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NDE0Mg==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400944142", "body": "```suggestion\r\n        return Build.MANUFACTURER.equalsIgnoreCase(\"Xiaomi\") && (Build.PRODUCT.equalsIgnoreCase(\"Archytas\") || Build.PRODUCT.equalsIgnoreCase(\"Archimedes\"));\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return Build.MANUFACTURER.equalsIgnoreCase(\"Xiaomi\") && (Build.PRODUCT.equalsIgnoreCase(\"Archytas\")||Build.PRODUCT.equalsIgnoreCase(\"Archimedes\"));\n          \n          \n            \n                    return Build.MANUFACTURER.equalsIgnoreCase(\"Xiaomi\") && (Build.PRODUCT.equalsIgnoreCase(\"Archytas\") || Build.PRODUCT.equalsIgnoreCase(\"Archimedes\"));", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>MANUFACTURER</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Xiaomi<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">&amp;&amp;</span> (<span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>PRODUCT</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Archytas<span class=\"pl-pds\">\"</span></span>)<span class=\"pl-k x x-first x-last\">||</span><span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>PRODUCT</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Archimedes<span class=\"pl-pds\">\"</span></span>));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>MANUFACTURER</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Xiaomi<span class=\"pl-pds\">\"</span></span>) <span class=\"pl-k\">&amp;&amp;</span> (<span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>PRODUCT</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Archytas<span class=\"pl-pds\">\"</span></span>)<span class=\"x x-first\"> </span><span class=\"pl-k x\">||</span><span class=\"x x-last\"> </span><span class=\"pl-smi\">Build</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>PRODUCT</span><span class=\"pl-k\">.</span>equalsIgnoreCase(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Archimedes<span class=\"pl-pds\">\"</span></span>));</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:09:53Z", "path": "AnkiDroid/src/main/java/com/ichi2/utils/AdaptionUtil.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.ichi2.utils;\n+\n+import android.content.Context;\n+import android.content.Intent;\n+import android.content.pm.PackageManager;\n+import android.content.pm.ResolveInfo;\n+import android.net.Uri;\n+import android.os.Build;\n+\n+import java.util.List;\n+\n+public class AdaptionUtil {\n+    public static boolean hasWebBrowser(Context context){\n+        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.google.com\"));\n+        PackageManager pm = context.getPackageManager();\n+        List<ResolveInfo> list = pm.queryIntentActivities(intent, PackageManager.MATCH_DEFAULT_ONLY);\n+        return list.size()==0 ? false : true;\n+    }\n+\n+    public static boolean hasReducedPreferences(){\n+        return Build.MANUFACTURER.equalsIgnoreCase(\"Xiaomi\") && (Build.PRODUCT.equalsIgnoreCase(\"Archytas\")||Build.PRODUCT.equalsIgnoreCase(\"Archimedes\"));", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NDYxMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400944612", "body": "```suggestion\r\n        if (AdaptionUtil.hasReducedPreferences()) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(AdaptionUtil.hasReducedPreferences()) {\n          \n          \n            \n                    if (AdaptionUtil.hasReducedPreferences()) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:10:30Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Preferences.java", "diffHunk": "@@ -125,7 +126,11 @@ private Collection getCol() {\n \n     @Override\n     public void onBuildHeaders(List<Header> target) {\n-        loadHeadersFromResource(R.xml.preference_headers, target);\n+        if(AdaptionUtil.hasReducedPreferences()) {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NDczOQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400944739", "body": "```suggestion\r\n                    if (AdaptionUtil.hasReducedPreferences()) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                if(AdaptionUtil.hasReducedPreferences()) {\n          \n          \n            \n                                if (AdaptionUtil.hasReducedPreferences()) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasReducedPreferences()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:10:43Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NoteEditor.java", "diffHunk": "@@ -1221,6 +1222,10 @@ public void onClick(View v) {\n                                 return false;\n                         }\n                     });\n+                    if(AdaptionUtil.hasReducedPreferences()) {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NDkzMA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400944930", "body": "```suggestion\r\n                    if (AdaptionUtil.hasWebBrowser(this)) {\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                if(AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                                if (AdaptionUtil.hasWebBrowser(this)) {", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:10:57Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java", "diffHunk": "@@ -306,10 +307,18 @@ public boolean onNavigationItemSelected(final MenuItem item) {\n                     startActivityForResultWithAnimation(new Intent(NavigationDrawerActivity.this, Preferences.class), REQUEST_PREFERENCES_UPDATE, ActivityTransitionAnimation.FADE);\n                     break;\n                 case R.id.nav_help:\n-                    openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    if(AdaptionUtil.hasWebBrowser(this)) {\n+                        openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    }else{\n+                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getManualUrl(), false);\n+                    }\n                     break;\n                 case R.id.nav_feedback:\n-                    openUrl(Uri.parse(AnkiDroidApp.getFeedbackUrl()));\n+                    if(AdaptionUtil.hasWebBrowser(this)) {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NTI2OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400945269", "body": "```suggestion\r\n                    } else {\r\n                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + AnkiDroidApp.getFeedbackUrl(), false);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                }else{\n          \n          \n            \n                                    UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getFeedbackUrl(), false);\n          \n          \n            \n                                } else {\n          \n          \n            \n                                    UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + AnkiDroidApp.getFeedbackUrl(), false);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    }<span class=\"pl-k\">else</span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                        <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"pl-k x x-first x-last\">+</span><span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getFeedbackUrl(), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span><span class=\"x x-first x-last\"> </span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                        <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"x x-first\"> </span><span class=\"pl-k x\">+</span><span class=\"x x-last\"> </span><span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getFeedbackUrl(), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:11:26Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java", "diffHunk": "@@ -306,10 +307,18 @@ public boolean onNavigationItemSelected(final MenuItem item) {\n                     startActivityForResultWithAnimation(new Intent(NavigationDrawerActivity.this, Preferences.class), REQUEST_PREFERENCES_UPDATE, ActivityTransitionAnimation.FADE);\n                     break;\n                 case R.id.nav_help:\n-                    openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    if(AdaptionUtil.hasWebBrowser(this)) {\n+                        openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    }else{\n+                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getManualUrl(), false);\n+                    }\n                     break;\n                 case R.id.nav_feedback:\n-                    openUrl(Uri.parse(AnkiDroidApp.getFeedbackUrl()));\n+                    if(AdaptionUtil.hasWebBrowser(this)) {\n+                        openUrl(Uri.parse(AnkiDroidApp.getFeedbackUrl()));\n+                    }else{\n+                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getFeedbackUrl(), false);", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NTY2OA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400945668", "body": "```suggestion\r\n                    if (AdaptionUtil.hasWebBrowser(this)) {\r\n                        openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\r\n                    } else {\r\n                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + AnkiDroidApp.getManualUrl(), false);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                if(AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                                    openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n          \n          \n            \n                                }else{\n          \n          \n            \n                                    UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getManualUrl(), false);\n          \n          \n            \n                                if (AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                                    openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n          \n          \n            \n                                } else {\n          \n          \n            \n                                    UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + AnkiDroidApp.getManualUrl(), false);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                        openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(<span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getManualUrl()));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                    }<span class=\"pl-k\">else</span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                        <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"pl-k x x-first x-last\">+</span><span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getManualUrl(), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                        openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(<span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getManualUrl()));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                    }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span><span class=\"x x-first x-last\"> </span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                        <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"x x-first\"> </span><span class=\"pl-k x\">+</span><span class=\"x x-last\"> </span><span class=\"pl-smi\">AnkiDroidApp</span><span class=\"pl-k\">.</span>getManualUrl(), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:11:58Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/NavigationDrawerActivity.java", "diffHunk": "@@ -306,10 +307,18 @@ public boolean onNavigationItemSelected(final MenuItem item) {\n                     startActivityForResultWithAnimation(new Intent(NavigationDrawerActivity.this, Preferences.class), REQUEST_PREFERENCES_UPDATE, ActivityTransitionAnimation.FADE);\n                     break;\n                 case R.id.nav_help:\n-                    openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    if(AdaptionUtil.hasWebBrowser(this)) {\n+                        openUrl(Uri.parse(AnkiDroidApp.getManualUrl()));\n+                    }else{\n+                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+AnkiDroidApp.getManualUrl(), false);", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NjAwNw==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400946007", "body": "```suggestion\r\n        if (AdaptionUtil.hasWebBrowser(this)) {\r\n            signUpButton.setOnClickListener(v -> openUrl(Uri.parse(getResources().getString(R.string.register_url))));\r\n        } else {\r\n            signUpButton.setOnClickListener(v -> UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.register_url), false));\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                        signUpButton.setOnClickListener(v -> openUrl(Uri.parse(getResources().getString(R.string.register_url))));\n          \n          \n            \n                    }else{\n          \n          \n            \n                        signUpButton.setOnClickListener(v -> UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+getResources().getString(R.string.register_url), false));\n          \n          \n            \n                    if (AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                        signUpButton.setOnClickListener(v -> openUrl(Uri.parse(getResources().getString(R.string.register_url))));\n          \n          \n            \n                    } else {\n          \n          \n            \n                        signUpButton.setOnClickListener(v -> UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.register_url), false));", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            signUpButton<span class=\"pl-k\">.</span>setOnClickListener(v <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>register_url))));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        }<span class=\"pl-k\">else</span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            signUpButton<span class=\"pl-k\">.</span>setOnClickListener(v <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"pl-k x x-first x-last\">+</span>getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>register_url), <span class=\"pl-c1\">false</span>));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            signUpButton<span class=\"pl-k\">.</span>setOnClickListener(v <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>register_url))));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span><span class=\"x x-first x-last\"> </span>{</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            signUpButton<span class=\"pl-k\">.</span>setOnClickListener(v <span class=\"pl-k\">-</span><span class=\"pl-k\">&gt;</span> <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"x x-first\"> </span><span class=\"pl-k x\">+</span><span class=\"x x-last\"> </span>getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>register_url), <span class=\"pl-c1\">false</span>));</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:12:26Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java", "diffHunk": "@@ -150,7 +155,11 @@ private void initAllContentViews() {\n         resetPWButton.setOnClickListener(v -> resetPassword());\n \n         Button signUpButton = mLoginToMyAccountView.findViewById(R.id.sign_up_button);\n-        signUpButton.setOnClickListener(v -> openUrl(Uri.parse(getResources().getString(R.string.register_url))));\n+        if(AdaptionUtil.hasWebBrowser(this)) {\n+            signUpButton.setOnClickListener(v -> openUrl(Uri.parse(getResources().getString(R.string.register_url))));\n+        }else{\n+            signUpButton.setOnClickListener(v -> UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+getResources().getString(R.string.register_url), false));", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NjM0NQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400946345", "body": "```suggestion\r\n        if (AdaptionUtil.hasWebBrowser(this)) {\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setData(Uri.parse(getResources().getString(R.string.resetpw_url)));\r\n            startActivityWithoutAnimation(intent);\r\n        } else {\r\n            UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.resetpw_url), false);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                        Intent intent = new Intent(Intent.ACTION_VIEW);\n          \n          \n            \n                        intent.setData(Uri.parse(getResources().getString(R.string.resetpw_url)));\n          \n          \n            \n                        startActivityWithoutAnimation(intent);\n          \n          \n            \n                    }else {\n          \n          \n            \n                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+getResources().getString(R.string.resetpw_url), false);\n          \n          \n            \n                    if (AdaptionUtil.hasWebBrowser(this)) {\n          \n          \n            \n                        Intent intent = new Intent(Intent.ACTION_VIEW);\n          \n          \n            \n                        intent.setData(Uri.parse(getResources().getString(R.string.resetpw_url)));\n          \n          \n            \n                        startActivityWithoutAnimation(intent);\n          \n          \n            \n                    } else {\n          \n          \n            \n                        UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.resetpw_url), false);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">Intent</span> intent <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Intent</span>(<span class=\"pl-smi\">Intent</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>ACTION_VIEW</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            intent<span class=\"pl-k\">.</span>setData(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>resetpw_url)));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            startActivityWithoutAnimation(intent);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        }<span class=\"pl-k\">else</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"pl-k x x-first x-last\">+</span>getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>resetpw_url), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">Intent</span> intent <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Intent</span>(<span class=\"pl-smi\">Intent</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>ACTION_VIEW</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            intent<span class=\"pl-k\">.</span>setData(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>resetpw_url)));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            startActivityWithoutAnimation(intent);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"x x-first\"> </span><span class=\"pl-k x\">+</span><span class=\"x x-last\"> </span>getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>resetpw_url), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:12:50Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/MyAccount.java", "diffHunk": "@@ -132,9 +133,13 @@ private void logout() {\n \n \n     private void resetPassword() {\n-        Intent intent = new Intent(Intent.ACTION_VIEW);\n-        intent.setData(Uri.parse(getResources().getString(R.string.resetpw_url)));\n-        startActivityWithoutAnimation(intent);\n+        if(AdaptionUtil.hasWebBrowser(this)) {\n+            Intent intent = new Intent(Intent.ACTION_VIEW);\n+            intent.setData(Uri.parse(getResources().getString(R.string.resetpw_url)));\n+            startActivityWithoutAnimation(intent);\n+        }else {\n+            UIUtils.showThemedToast(this, getResources().getString(R.string.no_browser_notification)+getResources().getString(R.string.resetpw_url), false);", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NjYzNg==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400946636", "body": "```suggestion\r\n        if (AdaptionUtil.hasWebBrowser(DeckPicker.this)) {\r\n            openUrl(Uri.parse(getResources().getString(R.string.shared_decks_url)));\r\n        } else {\r\n            UIUtils.showThemedToast(DeckPicker.this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.shared_decks_url), false);\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(AdaptionUtil.hasWebBrowser(DeckPicker.this)) {\n          \n          \n            \n                        openUrl(Uri.parse(getResources().getString(R.string.shared_decks_url)));\n          \n          \n            \n                    }else {\n          \n          \n            \n                        UIUtils.showThemedToast(DeckPicker.this, getResources().getString(R.string.no_browser_notification)+ getResources().getString(R.string.shared_decks_url), false);\n          \n          \n            \n                    if (AdaptionUtil.hasWebBrowser(DeckPicker.this)) {\n          \n          \n            \n                        openUrl(Uri.parse(getResources().getString(R.string.shared_decks_url)));\n          \n          \n            \n                    } else {\n          \n          \n            \n                        UIUtils.showThemedToast(DeckPicker.this, getResources().getString(R.string.no_browser_notification) + getResources().getString(R.string.shared_decks_url), false);", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-smi\">DeckPicker</span><span class=\"pl-k\">.</span><span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>shared_decks_url)));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        }<span class=\"pl-k\">else</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-smi\">DeckPicker</span><span class=\"pl-k\">.</span><span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"pl-k\">+</span> getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>shared_decks_url), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span>hasWebBrowser(<span class=\"pl-smi\">DeckPicker</span><span class=\"pl-k\">.</span><span class=\"pl-c1\">this</span>)) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            openUrl(<span class=\"pl-smi\">Uri</span><span class=\"pl-k\">.</span>parse(getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>shared_decks_url)));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        }<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">else</span> {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-smi\">UIUtils</span><span class=\"pl-k\">.</span>showThemedToast(<span class=\"pl-smi\">DeckPicker</span><span class=\"pl-k\">.</span><span class=\"pl-c1\">this</span>, getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>no_browser_notification)<span class=\"x x-first x-last\"> </span><span class=\"pl-k\">+</span> getResources()<span class=\"pl-k\">.</span>getString(<span class=\"pl-smi\">R</span><span class=\"pl-k\">.</span>string<span class=\"pl-k\">.</span>shared_decks_url), <span class=\"pl-c1\">false</span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:13:12Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/DeckPicker.java", "diffHunk": "@@ -1924,7 +1925,11 @@ public void onReceive(Context context, Intent intent) {\n \n \n     public void addSharedDeck() {\n-        openUrl(Uri.parse(getResources().getString(R.string.shared_decks_url)));\n+        if(AdaptionUtil.hasWebBrowser(DeckPicker.this)) {\n+            openUrl(Uri.parse(getResources().getString(R.string.shared_decks_url)));\n+        }else {\n+            UIUtils.showThemedToast(DeckPicker.this, getResources().getString(R.string.no_browser_notification)+ getResources().getString(R.string.shared_decks_url), false);", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NzAyMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400947022", "body": "I believe you want to key of web browser availability here, not reduced preferences?\r\n```suggestion\r\n                if (AdaptionUtil.hasWebBrowser()) {\r\n```", "bodyText": "I believe you want to key of web browser availability here, not reduced preferences?\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if(AdaptionUtil.hasReducedPreferences()) {\n          \n          \n            \n                            if (AdaptionUtil.hasWebBrowser()) {", "bodyHTML": "<p dir=\"auto\">I believe you want to key of web browser availability here, not reduced preferences?</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-k\">if</span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">hasReducedPreferences</span>()) {</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-k\">if</span><span class=\"x x-first x-last\"> </span>(<span class=\"pl-smi\">AdaptionUtil</span><span class=\"pl-k\">.</span><span class=\"x x-first x-last\">hasWebBrowser</span>()) {</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:13:40Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1448,6 +1451,20 @@ public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request\n                 return filterUrl(url);\n             }\n \n+            @Override\n+            @TargetApi(Build.VERSION_CODES.N)\n+            public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n+                WebResourceResponse webResourceResponse=null;\n+                if(AdaptionUtil.hasReducedPreferences()) {", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk0NzE0OA==", "url": "https://github.com/ankidroid/Anki-Android/pull/5867#discussion_r400947148", "body": "```suggestion\r\n                WebResourceResponse webResourceResponse = null;\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            WebResourceResponse webResourceResponse=null;\n          \n          \n            \n                            WebResourceResponse webResourceResponse = null;", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-smi\">WebResourceResponse</span> webResourceResponse<span class=\"pl-k x x-first x-last\">=</span><span class=\"pl-c1\">null</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-smi\">WebResourceResponse</span> webResourceResponse<span class=\"x x-first\"> </span><span class=\"pl-k x\">=</span><span class=\"x x-last\"> </span><span class=\"pl-c1\">null</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "mikehardy", "createdAt": "2020-03-31T14:13:50Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java", "diffHunk": "@@ -1448,6 +1451,20 @@ public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request\n                 return filterUrl(url);\n             }\n \n+            @Override\n+            @TargetApi(Build.VERSION_CODES.N)\n+            public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n+                WebResourceResponse webResourceResponse=null;", "originalCommit": "942f2fa66a99bf01f77df098426eab9754e44488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "01c8a3c92fa1db65002029006eed5b1f521d03d3", "url": "https://github.com/ankidroid/Anki-Android/commit/01c8a3c92fa1db65002029006eed5b1f521d03d3", "message": "Apply suggestions from code review\r\n\r\nCommit suggestions from MikeHardy.\n\nCo-Authored-By: Mike Hardy <github@mikehardy.net>", "committedDate": "2020-04-01T02:42:17Z", "type": "commit"}, {"oid": "3235cd62fed53ee2a49395c9865a56b38f8e4a71", "url": "https://github.com/ankidroid/Anki-Android/commit/3235cd62fed53ee2a49395c9865a56b38f8e4a71", "message": "update based on review comments:\n\n1. use code instead of configuration file to reduce the preference header\n2. remove string values in 02-strings.xml\n3. other small changes.\n\nSigned-off-by: landinggao <gaoyingjun@xiaomi.com>", "committedDate": "2020-04-01T04:00:53Z", "type": "commit"}]}