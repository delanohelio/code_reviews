{"pr_number": 6193, "pr_title": "Allow decreasing daily limits in custom study", "pr_author": "RSBat", "pr_createdAt": "2020-05-15T21:48:11Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6193", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA2NzYxMQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6193#discussion_r426067611", "body": "Can we change this to call use the same method call for validation to ensure the code stays in sync and we fix any other errors:\r\n\r\nLikely only want to perform this if we're a custom study extension dialog\r\n\r\n```java\r\n                    int n;\r\n                    try {\r\n                        n = Integer.parseInt(mEditText.getText().toString());\r\n                    } catch (Exception ignored) {\r\n                        n = Integer.MAX_VALUE;\r\n                    }\r\n```", "bodyText": "Can we change this to call use the same method call for validation to ensure the code stays in sync and we fix any other errors:\nLikely only want to perform this if we're a custom study extension dialog\n                    int n;\n                    try {\n                        n = Integer.parseInt(mEditText.getText().toString());\n                    } catch (Exception ignored) {\n                        n = Integer.MAX_VALUE;\n                    }", "bodyHTML": "<p dir=\"auto\">Can we change this to call use the same method call for validation to ensure the code stays in sync and we fix any other errors:</p>\n<p dir=\"auto\">Likely only want to perform this if we're a custom study extension dialog</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"                    int n;\n                    try {\n                        n = Integer.parseInt(mEditText.getText().toString());\n                    } catch (Exception ignored) {\n                        n = Integer.MAX_VALUE;\n                    }\n\"><pre>                    <span class=\"pl-k\">int</span> n;\n                    <span class=\"pl-k\">try</span> {\n                        n <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Integer</span><span class=\"pl-k\">.</span>parseInt(mEditText<span class=\"pl-k\">.</span>getText()<span class=\"pl-k\">.</span>toString());\n                    } <span class=\"pl-k\">catch</span> (<span class=\"pl-smi\">Exception</span> ignored) {\n                        n <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Integer</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>MAX_VALUE</span>;\n                    }</pre></div>", "author": "david-allison-1", "createdAt": "2020-05-15T22:07:00Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/dialogs/CustomStudyDialog.java", "diffHunk": "@@ -269,7 +273,7 @@ public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n \n             @Override\n             public void afterTextChanged(Editable editable) {\n-                if (editable.length() == 0) {\n+                if (editable.length() == 0 || \"-\".equals(editable.toString())) {", "originalCommit": "1dfa977721901b7467588b8bd265228fa25e2301", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fc4e02ea7dad9983e146be3d78e8f2b287369c28", "url": "https://github.com/ankidroid/Anki-Android/commit/fc4e02ea7dad9983e146be3d78e8f2b287369c28", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is.", "committedDate": "2020-05-20T19:21:32Z", "type": "forcePushed"}, {"oid": "bfa2cff0d31fceb44107cececc18e6891289154d", "url": "https://github.com/ankidroid/Anki-Android/commit/bfa2cff0d31fceb44107cececc18e6891289154d", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is.", "committedDate": "2020-05-20T19:30:43Z", "type": "commit"}, {"oid": "bfa2cff0d31fceb44107cececc18e6891289154d", "url": "https://github.com/ankidroid/Anki-Android/commit/bfa2cff0d31fceb44107cececc18e6891289154d", "message": "Allow decreasing daily limits in custom study\n\nThis was added to desktop in commit 59b9c361 in anki repo. This works by\nallowing negative numbers in input and effectively the same change is made\nin this commit.\nA interesting side effect - you can go negative with number of cards to\nreview. For example if you have 1 new card to review you can decrease\nthis number by 5. It will display as if you had 0 cards to review, but\nto get back to 1 you need to increase number of cards by 5 instead of 1.\nAnki desktop behaves same way so I am leaving it as is.", "committedDate": "2020-05-20T19:30:43Z", "type": "forcePushed"}]}