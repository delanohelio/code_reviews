{"pr_number": 50835, "pr_title": "Deprecate synced flush", "pr_author": "dnhatn", "pr_createdAt": "2020-01-10T02:54:29Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/50835", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzM4OA==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427388", "body": "```suggestion\r\n     * Use {@link #flush(FlushRequest, RequestOptions)} instead.\r\n```\r\nWhile \"please\" is polite, I think brevity is more important here.\r\n\r\nI also think we can just say \"flush\" instead of \"normal flush.\"", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Please use normal {@link #flush(FlushRequest, RequestOptions)} instead.\n          \n          \n            \n                 * Use {@link #flush(FlushRequest, RequestOptions)} instead.\n          \n      \n    \n    \n  \n\nWhile \"please\" is polite, I think brevity is more important here.\nI also think we can just say \"flush\" instead of \"normal flush.\"", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first\">Please</span><span class=\"x x-last\"> use normal</span> {<span class=\"pl-k\">@link</span> #flush(<span class=\"pl-smi\">FlushRequest</span>, <span class=\"pl-smi\">RequestOptions</span>)} instead.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first x-last\">Use</span> {<span class=\"pl-k\">@link</span> #flush(<span class=\"pl-smi\">FlushRequest</span>, <span class=\"pl-smi\">RequestOptions</span>)} instead.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n\n<p dir=\"auto\">While \"please\" is polite, I think brevity is more important here.</p>\n<p dir=\"auto\">I also think we can just say \"flush\" instead of \"normal flush.\"</p>", "author": "jrodewig", "createdAt": "2020-01-10T20:57:55Z", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -423,7 +423,10 @@ public Cancellable flushAsync(FlushRequest flushRequest, RequestOptions options,\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @return the response\n      * @throws IOException in case there is a problem sending the request or parsing back the response\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n+     * Please use normal {@link #flush(FlushRequest, RequestOptions)} instead.", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzg2Mw==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427863", "body": "```suggestion\r\n     * Use {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Please use normal {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.\n          \n          \n            \n                 * Use {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first\">Please</span><span class=\"x x-last\"> use normal</span> {<span class=\"pl-k\">@link</span> #flushAsync(<span class=\"pl-smi\">FlushRequest</span>, <span class=\"pl-smi\">RequestOptions</span>, <span class=\"pl-smi\">ActionListener</span>)} instead.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-smi x x-first x-last\">Use</span> {<span class=\"pl-k\">@link</span> #flushAsync(<span class=\"pl-smi\">FlushRequest</span>, <span class=\"pl-smi\">RequestOptions</span>, <span class=\"pl-smi\">ActionListener</span>)} instead.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T20:59:18Z", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -437,7 +440,10 @@ public SyncedFlushResponse flushSynced(SyncedFlushRequest syncedFlushRequest, Re\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @param listener the listener to be notified upon request completion\n      * @return cancellable that may be used to cancel the request\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n+     * Please use normal {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzk3Mg==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427972", "body": "```suggestion\r\n     * @deprecated Synced flush is deprecated and will be removed in a future version.\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n          \n          \n            \n                 * @deprecated Synced flush is deprecated and will be removed in a future version.", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@deprecated</span> <span class=\"x x-first x-last\">synced</span> flush is deprecated and will be removed in future <span class=\"pl-smi x x-first\">Elasticsearch</span><span class=\"x x-last\"> versions</span>.</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">     <span class=\"pl-k\">*</span> <span class=\"pl-k\">@deprecated</span> <span class=\"pl-smi x x-first x-last\">Synced</span> flush is deprecated and will be removed in <span class=\"x x-first x-last\">a </span>future <span class=\"x x-first x-last\">version</span>.</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T20:59:36Z", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -437,7 +440,10 @@ public SyncedFlushResponse flushSynced(SyncedFlushRequest syncedFlushRequest, Re\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @param listener the listener to be notified upon request completion\n      * @return cancellable that may be used to cancel the request\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyODExOQ==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365428119", "body": "```suggestion\r\n                \"Synced flush is deprecated and will be removed in a future version. \" +\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                            \"Synced flush is deprecated and will be removed in a future version. \" +", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in future <span class=\"x x-first x-last\">Elasticsearch versions</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in <span class=\"x x-first x-last\">a </span>future <span class=\"x x-first x-last\">version</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T21:00:08Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1018,7 +1018,10 @@ public void testSyncedFlushIndex() throws Exception {\n             // end::flush-synced-request-indicesOptions\n \n             // tag::flush-synced-execute\n-            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, RequestOptions.DEFAULT);\n+            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyOTM5NQ==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365429395", "body": "```suggestion\r\n                \"Use _/flush or /{index}/_flush instead.\"\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Please use normal flush at _/flush or /{index}/_flush instead.\"\n          \n          \n            \n                            \"Use _/flush or /{index}/_flush instead.\"", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"x x-first x-last\">Please use normal flush at</span> _/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"x x-first x-last\">Use</span> _/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T21:03:46Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1018,7 +1018,10 @@ public void testSyncedFlushIndex() throws Exception {\n             // end::flush-synced-request-indicesOptions\n \n             // tag::flush-synced-execute\n-            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, RequestOptions.DEFAULT);\n+            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+                \"Please use normal flush at _/flush or /{index}/_flush instead.\"", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTgwNw==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449807", "body": "```suggestion\r\n                \"Use _/flush or /{index}/_flush instead.\"\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Please use normal flush at _/flush or /{index}/_flush instead.\"\n          \n          \n            \n                            \"Use _/flush or /{index}/_flush instead.\"", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"x x-first x-last\">Please use normal flush at</span> _/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"x x-first x-last\">Use</span> _/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T22:08:18Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1062,7 +1065,10 @@ public void onFailure(Exception e) {\n             listener = new LatchedActionListener<>(listener, latch);\n \n             // tag::flush-synced-execute-async\n-            client.indices().flushSyncedAsync(request, RequestOptions.DEFAULT, listener); // <1>\n+            client.indices().flushSyncedAsync(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+                \"Please use normal flush at _/flush or /{index}/_flush instead.\"", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTg4Mg==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449882", "body": "```suggestion\r\n                \"Synced flush is deprecated and will be removed in future a version. \" +\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                            \"Synced flush is deprecated and will be removed in future a version. \" +", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in future <span class=\"x x-first x-last\">Elasticsearch versions</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in future <span class=\"x x-first x-last\">a version</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T22:08:32Z", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1062,7 +1065,10 @@ public void onFailure(Exception e) {\n             listener = new LatchedActionListener<>(listener, latch);\n \n             // tag::flush-synced-execute-async\n-            client.indices().flushSyncedAsync(request, RequestOptions.DEFAULT, listener); // <1>\n+            client.indices().flushSyncedAsync(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDI4OA==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450288", "body": "```suggestion\r\n        \"Synced flush is deprecated and will be removed in a future version. \" +\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                    \"Synced flush is deprecated and will be removed in a future version. \" +", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in future <span class=\"x x-first x-last\">Elasticsearch versions</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Synced flush is deprecated and will be removed in <span class=\"x x-first x-last\">a </span>future <span class=\"x x-first x-last\">version</span>. <span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T22:09:52Z", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "diffHunk": "@@ -32,7 +34,14 @@\n  */\n public class TransportSyncedFlushAction extends HandledTransportAction<SyncedFlushRequest, SyncedFlushResponse> {\n \n-    SyncedFlushService syncedFlushService;\n+    private final SyncedFlushService syncedFlushService;\n+\n+    private static final DeprecationLogger DEPRECATION_LOGGER =\n+        new DeprecationLogger(LogManager.getLogger(TransportSyncedFlushAction.class));\n+\n+    public static final String SYNCED_FLUSH_DEPRECATION_MESSAGE =\n+        \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDMwNQ==", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450305", "body": "```suggestion\r\n            \"Please use _/flush or /{index}/_flush instead.\";\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"Please use normal flush at _/flush or /{index}/_flush instead.\";\n          \n          \n            \n                        \"Please use _/flush or /{index}/_flush instead.\";", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Please use <span class=\"x x-first x-last\">normal flush at </span>_/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Please use _/flush or /{index}/_flush instead.<span class=\"pl-pds\">\"</span></span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jrodewig", "createdAt": "2020-01-10T22:09:56Z", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "diffHunk": "@@ -32,7 +34,14 @@\n  */\n public class TransportSyncedFlushAction extends HandledTransportAction<SyncedFlushRequest, SyncedFlushResponse> {\n \n-    SyncedFlushService syncedFlushService;\n+    private final SyncedFlushService syncedFlushService;\n+\n+    private static final DeprecationLogger DEPRECATION_LOGGER =\n+        new DeprecationLogger(LogManager.getLogger(TransportSyncedFlushAction.class));\n+\n+    public static final String SYNCED_FLUSH_DEPRECATION_MESSAGE =\n+        \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+            \"Please use normal flush at _/flush or /{index}/_flush instead.\";", "originalCommit": "c5d37882ba22064a928d553d454db11fe6174b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f6f453fb17d7b2ab9d144194c340ed78efd99bf6", "url": "https://github.com/elastic/elasticsearch/commit/f6f453fb17d7b2ab9d144194c340ed78efd99bf6", "message": "Deprecate synced flush", "committedDate": "2020-01-13T14:52:48Z", "type": "commit"}, {"oid": "f6f453fb17d7b2ab9d144194c340ed78efd99bf6", "url": "https://github.com/elastic/elasticsearch/commit/f6f453fb17d7b2ab9d144194c340ed78efd99bf6", "message": "Deprecate synced flush", "committedDate": "2020-01-13T14:52:48Z", "type": "forcePushed"}, {"oid": "e9e209deb1bf7ee047eadfc23febc91df1a9b6ee", "url": "https://github.com/elastic/elasticsearch/commit/e9e209deb1bf7ee047eadfc23febc91df1a9b6ee", "message": "Remove in 8.0", "committedDate": "2020-01-13T15:09:37Z", "type": "commit"}]}