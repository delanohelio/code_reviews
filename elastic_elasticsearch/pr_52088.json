{"pr_number": 52088, "pr_title": "Permit autoscaling feature flag in release builds", "pr_author": "jasontedor", "pr_createdAt": "2020-02-07T23:34:52Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/52088", "timeline": [{"oid": "18ae11e69242f10e87fc4b230862d39afae21bf8", "url": "https://github.com/elastic/elasticsearch/commit/18ae11e69242f10e87fc4b230862d39afae21bf8", "message": "Permit autoscaling feature flag in release builds\n\nThis commit provides a path to set register the autoscaling feature flag\nin release builds, and therefore enabling autoscaling in release\nbuilds. The primary reason that we add this is so that our release docs\ntests can pass. Our release docs tests do not have infrastructure in\nplace to only register snippets from included portions of the docs, they\ninstead include all docs snippets. Since autoscaling can not be enabled\nin release builds, this meant that the autoscaling snippets would fail\nin the release docs tests. To address then, we need the ability to\nenable autoscaling in the release docs tests which we can now do with\nthe system property added here. This system property will be removed\nwhen autoscaling is ready for release.", "committedDate": "2020-02-07T23:34:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY2MTMwMw==", "url": "https://github.com/elastic/elasticsearch/pull/52088#discussion_r376661303", "body": "nit: final?", "bodyText": "nit: final?", "bodyHTML": "<p dir=\"auto\">nit: final?</p>", "author": "henningandersen", "createdAt": "2020-02-07T23:59:20Z", "path": "x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/Autoscaling.java", "diffHunk": "@@ -32,6 +32,24 @@\n  */\n public class Autoscaling extends Plugin implements ActionPlugin {\n \n+    private static boolean AUTOSCALING_FEATURE_FLAG_REGISTERED;", "originalCommit": "18ae11e69242f10e87fc4b230862d39afae21bf8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY2MjY1NQ==", "url": "https://github.com/elastic/elasticsearch/pull/52088#discussion_r376662655", "bodyText": "\u2705", "author": "jasontedor", "createdAt": "2020-02-08T00:06:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY2MTMwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY2MjU1OA==", "url": "https://github.com/elastic/elasticsearch/pull/52088#discussion_r376662558", "body": "```suggestion\r\n    private static final boolean AUTOSCALING_FEATURE_FLAG_REGISTERED;\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static boolean AUTOSCALING_FEATURE_FLAG_REGISTERED;\n          \n          \n            \n                private static final boolean AUTOSCALING_FEATURE_FLAG_REGISTERED;", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">boolean</span> <span class=\"pl-c1\">AUTOSCALING_FEATURE_FLAG_REGISTERED</span>;</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">    <span class=\"pl-k\">private</span> <span class=\"pl-k\">static</span> <span class=\"pl-k x x-first\">final</span><span class=\"x x-last\"> </span><span class=\"pl-k\">boolean</span> <span class=\"pl-c1\">AUTOSCALING_FEATURE_FLAG_REGISTERED</span>;</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "jasontedor", "createdAt": "2020-02-08T00:05:41Z", "path": "x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/Autoscaling.java", "diffHunk": "@@ -32,6 +32,24 @@\n  */\n public class Autoscaling extends Plugin implements ActionPlugin {\n \n+    private static boolean AUTOSCALING_FEATURE_FLAG_REGISTERED;", "originalCommit": "18ae11e69242f10e87fc4b230862d39afae21bf8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "12fb4a9d367e9d5d7a5f27bf55163325cacd7697", "url": "https://github.com/elastic/elasticsearch/commit/12fb4a9d367e9d5d7a5f27bf55163325cacd7697", "message": "Update x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/Autoscaling.java", "committedDate": "2020-02-08T00:05:46Z", "type": "commit"}]}