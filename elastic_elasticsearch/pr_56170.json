{"pr_number": 56170, "pr_title": "Validate V2 templates more strictly", "pr_author": "dakrone", "pr_createdAt": "2020-05-04T23:10:21Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/56170", "timeline": [{"oid": "6e9da227a273144c0c829dd8be99a8348d26b618", "url": "https://github.com/elastic/elasticsearch/commit/6e9da227a273144c0c829dd8be99a8348d26b618", "message": "Validate V2 templates more strictly\n\nThis commit changes the validation for V2 index and component templates to re-use the same\nvalidation that V1 templates used. This includes things like invalid template names, index patterns,\netc.\n\nThis also adds validation that template names do not contain `*`.\n\nSupercedes #53970\nRelates to #53101", "committedDate": "2020-05-04T23:08:07Z", "type": "commit"}, {"oid": "25ee3ced9469205c234a0c900900963b324d01f2", "url": "https://github.com/elastic/elasticsearch/commit/25ee3ced9469205c234a0c900900963b324d01f2", "message": "Disallow ':' in index patterns also", "committedDate": "2020-05-04T23:14:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk3OTI5Mg==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r419979292", "body": "Would it make sense to extract this in a separate method and use it in both validate CT/TemplateV2 methods?", "bodyText": "Would it make sense to extract this in a separate method and use it in both validate CT/TemplateV2 methods?", "bodyHTML": "<p dir=\"auto\">Would it make sense to extract this in a separate method and use it in both validate CT/TemplateV2 methods?</p>", "author": "andreidan", "createdAt": "2020-05-05T09:31:43Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateService.java", "diffHunk": "@@ -922,70 +924,129 @@ private static void validateTemplate(Settings validateSettings, String mappings,\n         }\n     }\n \n-    private void validate(PutRequest request) {\n+    private void validate(String name, ComponentTemplate template) {\n+        validate(name,\n+            template.template().settings(),\n+            Collections.emptyList(),\n+            Optional.ofNullable(template.template().aliases())\n+                .map(aliases -> aliases.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());\n+                        if (aliasMeta.filter() != null) {\n+                            a.filter(aliasMeta.filter().string());\n+                        }\n+                        a.searchRouting(aliasMeta.searchRouting());\n+                        a.indexRouting(aliasMeta.indexRouting());\n+                        a.isHidden(aliasMeta.isHidden());\n+                        a.writeIndex(aliasMeta.writeIndex());\n+                        return a;\n+                    })\n+                    .collect(Collectors.toList()))\n+                .orElse(Collections.emptyList()));\n+    }\n+\n+    private void validate(String name, IndexTemplateV2 template) {\n+        Optional<Template> maybeTemplate = Optional.ofNullable(template.template());\n+        validate(name,\n+            maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\n+            template.indexPatterns(),\n+            maybeTemplate\n+                .map(Template::aliases)\n+                .map(aliasMap -> aliasMap.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());\n+                        if (aliasMeta.filter() != null) {\n+                            a.filter(aliasMeta.filter().string());\n+                        }\n+                        a.searchRouting(aliasMeta.searchRouting());\n+                        a.indexRouting(aliasMeta.indexRouting());\n+                        a.isHidden(aliasMeta.isHidden());\n+                        a.writeIndex(aliasMeta.writeIndex());\n+                        return a;\n+                    })", "originalCommit": "25ee3ced9469205c234a0c900900963b324d01f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4MTY0NA==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r419981644", "body": "These two methods are nearly identical so they can be refactored to avoid duplication\r\n```java\r\nprivate void validate(String name, ComponentTemplate template) {\r\n    validate(name, template.template(), Collections.emptyList());\r\n}\r\n\r\nprivate void validate(String name, IndexTemplateV2 template) {\r\n    validate(name, template.template(), template.indexPatterns());\r\n}\r\n\r\nprivate void validate(String name, Template template1, List<String> indexPatterns) {\r\n    Optional<Template> maybeTemplate = Optional.ofNullable(template1);\r\n    validate(name,\r\n        maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\r\n        indexPatterns,\r\n        maybeTemplate.map(Template::aliases)\r\n            .orElse(Collections.emptyMap())\r\n            .values().stream()\r\n            .map(this::toAlias)\r\n            .collect(Collectors.toList()));\r\n}\r\n\r\nprivate Alias toAlias(AliasMetadata aliasMeta) {\r\n    Alias a = new Alias(aliasMeta.alias());\r\n    if (aliasMeta.filter() != null) {\r\n        a.filter(aliasMeta.filter().string());\r\n    }\r\n    a.searchRouting(aliasMeta.searchRouting());\r\n    a.indexRouting(aliasMeta.indexRouting());\r\n    a.isHidden(aliasMeta.isHidden());\r\n    a.writeIndex(aliasMeta.writeIndex());\r\n    return a;\r\n}\r\n```", "bodyText": "These two methods are nearly identical so they can be refactored to avoid duplication\nprivate void validate(String name, ComponentTemplate template) {\n    validate(name, template.template(), Collections.emptyList());\n}\n\nprivate void validate(String name, IndexTemplateV2 template) {\n    validate(name, template.template(), template.indexPatterns());\n}\n\nprivate void validate(String name, Template template1, List<String> indexPatterns) {\n    Optional<Template> maybeTemplate = Optional.ofNullable(template1);\n    validate(name,\n        maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\n        indexPatterns,\n        maybeTemplate.map(Template::aliases)\n            .orElse(Collections.emptyMap())\n            .values().stream()\n            .map(this::toAlias)\n            .collect(Collectors.toList()));\n}\n\nprivate Alias toAlias(AliasMetadata aliasMeta) {\n    Alias a = new Alias(aliasMeta.alias());\n    if (aliasMeta.filter() != null) {\n        a.filter(aliasMeta.filter().string());\n    }\n    a.searchRouting(aliasMeta.searchRouting());\n    a.indexRouting(aliasMeta.indexRouting());\n    a.isHidden(aliasMeta.isHidden());\n    a.writeIndex(aliasMeta.writeIndex());\n    return a;\n}", "bodyHTML": "<p dir=\"auto\">These two methods are nearly identical so they can be refactored to avoid duplication</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"private void validate(String name, ComponentTemplate template) {\n    validate(name, template.template(), Collections.emptyList());\n}\n\nprivate void validate(String name, IndexTemplateV2 template) {\n    validate(name, template.template(), template.indexPatterns());\n}\n\nprivate void validate(String name, Template template1, List&lt;String&gt; indexPatterns) {\n    Optional&lt;Template&gt; maybeTemplate = Optional.ofNullable(template1);\n    validate(name,\n        maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\n        indexPatterns,\n        maybeTemplate.map(Template::aliases)\n            .orElse(Collections.emptyMap())\n            .values().stream()\n            .map(this::toAlias)\n            .collect(Collectors.toList()));\n}\n\nprivate Alias toAlias(AliasMetadata aliasMeta) {\n    Alias a = new Alias(aliasMeta.alias());\n    if (aliasMeta.filter() != null) {\n        a.filter(aliasMeta.filter().string());\n    }\n    a.searchRouting(aliasMeta.searchRouting());\n    a.indexRouting(aliasMeta.indexRouting());\n    a.isHidden(aliasMeta.isHidden());\n    a.writeIndex(aliasMeta.writeIndex());\n    return a;\n}\"><pre><span class=\"pl-k\">private</span> <span class=\"pl-k\">void</span> validate(<span class=\"pl-smi\">String</span> name, <span class=\"pl-smi\">ComponentTemplate</span> template) {\n    validate(name, template<span class=\"pl-k\">.</span>template(), <span class=\"pl-smi\">Collections</span><span class=\"pl-k\">.</span>emptyList());\n}\n\n<span class=\"pl-k\">private</span> <span class=\"pl-k\">void</span> validate(<span class=\"pl-smi\">String</span> name, <span class=\"pl-smi\">IndexTemplateV2</span> template) {\n    validate(name, template<span class=\"pl-k\">.</span>template(), template<span class=\"pl-k\">.</span>indexPatterns());\n}\n\n<span class=\"pl-k\">private</span> <span class=\"pl-k\">void</span> validate(<span class=\"pl-smi\">String</span> name, <span class=\"pl-smi\">Template</span> template1, <span class=\"pl-k\">List&lt;<span class=\"pl-smi\">String</span>&gt;</span> indexPatterns) {\n    <span class=\"pl-k\">Optional&lt;<span class=\"pl-smi\">Template</span>&gt;</span> maybeTemplate <span class=\"pl-k\">=</span> <span class=\"pl-smi\">Optional</span><span class=\"pl-k\">.</span>ofNullable(template1);\n    validate(name,\n        maybeTemplate<span class=\"pl-k\">.</span>map(<span class=\"pl-smi\">Template</span><span class=\"pl-k\">::</span>settings)<span class=\"pl-k\">.</span>orElse(<span class=\"pl-smi\">Settings</span><span class=\"pl-c1\"><span class=\"pl-k\">.</span>EMPTY</span>),\n        indexPatterns,\n        maybeTemplate<span class=\"pl-k\">.</span>map(<span class=\"pl-smi\">Template</span><span class=\"pl-k\">::</span>aliases)\n            .orElse(<span class=\"pl-smi\">Collections</span><span class=\"pl-k\">.</span>emptyMap())\n            .values()<span class=\"pl-k\">.</span>stream()\n            .map(<span class=\"pl-c1\">this</span><span class=\"pl-k\">::</span>toAlias)\n            .collect(<span class=\"pl-smi\">Collectors</span><span class=\"pl-k\">.</span>toList()));\n}\n\n<span class=\"pl-k\">private</span> <span class=\"pl-smi\">Alias</span> toAlias(<span class=\"pl-smi\">AliasMetadata</span> aliasMeta) {\n    <span class=\"pl-smi\">Alias</span> a <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Alias</span>(aliasMeta<span class=\"pl-k\">.</span>alias());\n    <span class=\"pl-k\">if</span> (aliasMeta<span class=\"pl-k\">.</span>filter() <span class=\"pl-k\">!=</span> <span class=\"pl-c1\">null</span>) {\n        a<span class=\"pl-k\">.</span>filter(aliasMeta<span class=\"pl-k\">.</span>filter()<span class=\"pl-k\">.</span>string());\n    }\n    a<span class=\"pl-k\">.</span>searchRouting(aliasMeta<span class=\"pl-k\">.</span>searchRouting());\n    a<span class=\"pl-k\">.</span>indexRouting(aliasMeta<span class=\"pl-k\">.</span>indexRouting());\n    a<span class=\"pl-k\">.</span>isHidden(aliasMeta<span class=\"pl-k\">.</span>isHidden());\n    a<span class=\"pl-k\">.</span>writeIndex(aliasMeta<span class=\"pl-k\">.</span>writeIndex());\n    <span class=\"pl-k\">return</span> a;\n}</pre></div>", "author": "probakowski", "createdAt": "2020-05-05T09:35:45Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateService.java", "diffHunk": "@@ -922,70 +924,129 @@ private static void validateTemplate(Settings validateSettings, String mappings,\n         }\n     }\n \n-    private void validate(PutRequest request) {\n+    private void validate(String name, ComponentTemplate template) {", "originalCommit": "25ee3ced9469205c234a0c900900963b324d01f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE0MzgzMA==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r420143830", "bodyText": "Good call, did this, thanks!", "author": "dakrone", "createdAt": "2020-05-05T14:16:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4MTY0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4MTgzMQ==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r419981831", "body": "This block should be refactored to its own method", "bodyText": "This block should be refactored to its own method", "bodyHTML": "<p dir=\"auto\">This block should be refactored to its own method</p>", "author": "probakowski", "createdAt": "2020-05-05T09:36:07Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateService.java", "diffHunk": "@@ -922,70 +924,129 @@ private static void validateTemplate(Settings validateSettings, String mappings,\n         }\n     }\n \n-    private void validate(PutRequest request) {\n+    private void validate(String name, ComponentTemplate template) {\n+        validate(name,\n+            template.template().settings(),\n+            Collections.emptyList(),\n+            Optional.ofNullable(template.template().aliases())\n+                .map(aliases -> aliases.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());", "originalCommit": "25ee3ced9469205c234a0c900900963b324d01f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk5MDExNA==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r419990114", "body": "This code can be made less nested if we get out of `Optional` early\r\n```java\r\n.map(Template::aliases)\r\n.orElse(Collections.emptyMap())\r\n```", "bodyText": "This code can be made less nested if we get out of Optional early\n.map(Template::aliases)\n.orElse(Collections.emptyMap())", "bodyHTML": "<p dir=\"auto\">This code can be made less nested if we get out of <code>Optional</code> early</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\".map(Template::aliases)\n.orElse(Collections.emptyMap())\n\"><pre>.map(<span class=\"pl-smi\">Template</span><span class=\"pl-k\">::</span>aliases)\n.orElse(<span class=\"pl-smi\">Collections</span><span class=\"pl-k\">.</span>emptyMap())</pre></div>", "author": "probakowski", "createdAt": "2020-05-05T09:51:06Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateService.java", "diffHunk": "@@ -922,70 +924,129 @@ private static void validateTemplate(Settings validateSettings, String mappings,\n         }\n     }\n \n-    private void validate(PutRequest request) {\n+    private void validate(String name, ComponentTemplate template) {\n+        validate(name,\n+            template.template().settings(),\n+            Collections.emptyList(),\n+            Optional.ofNullable(template.template().aliases())\n+                .map(aliases -> aliases.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());\n+                        if (aliasMeta.filter() != null) {\n+                            a.filter(aliasMeta.filter().string());\n+                        }\n+                        a.searchRouting(aliasMeta.searchRouting());\n+                        a.indexRouting(aliasMeta.indexRouting());\n+                        a.isHidden(aliasMeta.isHidden());\n+                        a.writeIndex(aliasMeta.writeIndex());\n+                        return a;\n+                    })\n+                    .collect(Collectors.toList()))\n+                .orElse(Collections.emptyList()));\n+    }\n+\n+    private void validate(String name, IndexTemplateV2 template) {\n+        Optional<Template> maybeTemplate = Optional.ofNullable(template.template());\n+        validate(name,\n+            maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\n+            template.indexPatterns(),\n+            maybeTemplate\n+                .map(Template::aliases)\n+                .map(aliasMap -> aliasMap.values().stream()\n+                    .map(aliasMeta -> {", "originalCommit": "25ee3ced9469205c234a0c900900963b324d01f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA0MTUxMw==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r420041513", "body": "Sorry for drive-by commenting, but this might touch another small issue I recently read (https://github.com/elastic/elasticsearch/issues/55606) which points out that we allow asterisks in index patterns, the error message contaisn the character though (\"template must not contain the following characters [ , \", *, \\, <, |, ,, >, /, ?];]\") because we use `Strings.INVALID_FILENAME_CHARS` without removing the asterisk here. Might be worth fixing as well, just wanted to point it out.", "bodyText": "Sorry for drive-by commenting, but this might touch another small issue I recently read (#55606) which points out that we allow asterisks in index patterns, the error message contaisn the character though (\"template must not contain the following characters [ , \", *, , <, |, ,, >, /, ?];]\") because we use Strings.INVALID_FILENAME_CHARS without removing the asterisk here. Might be worth fixing as well, just wanted to point it out.", "bodyHTML": "<p dir=\"auto\">Sorry for drive-by commenting, but this might touch another small issue I recently read (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"604877156\" data-permission-text=\"Title is private\" data-url=\"https://github.com/elastic/elasticsearch/issues/55606\" data-hovercard-type=\"issue\" data-hovercard-url=\"/elastic/elasticsearch/issues/55606/hovercard\" href=\"https://github.com/elastic/elasticsearch/issues/55606\">#55606</a>) which points out that we allow asterisks in index patterns, the error message contaisn the character though (\"template must not contain the following characters [ , \", *, , &lt;, |, ,, &gt;, /, ?];]\") because we use <code>Strings.INVALID_FILENAME_CHARS</code> without removing the asterisk here. Might be worth fixing as well, just wanted to point it out.</p>", "author": "cbuescher", "createdAt": "2020-05-05T11:34:08Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateService.java", "diffHunk": "@@ -922,70 +924,129 @@ private static void validateTemplate(Settings validateSettings, String mappings,\n         }\n     }\n \n-    private void validate(PutRequest request) {\n+    private void validate(String name, ComponentTemplate template) {\n+        validate(name,\n+            template.template().settings(),\n+            Collections.emptyList(),\n+            Optional.ofNullable(template.template().aliases())\n+                .map(aliases -> aliases.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());\n+                        if (aliasMeta.filter() != null) {\n+                            a.filter(aliasMeta.filter().string());\n+                        }\n+                        a.searchRouting(aliasMeta.searchRouting());\n+                        a.indexRouting(aliasMeta.indexRouting());\n+                        a.isHidden(aliasMeta.isHidden());\n+                        a.writeIndex(aliasMeta.writeIndex());\n+                        return a;\n+                    })\n+                    .collect(Collectors.toList()))\n+                .orElse(Collections.emptyList()));\n+    }\n+\n+    private void validate(String name, IndexTemplateV2 template) {\n+        Optional<Template> maybeTemplate = Optional.ofNullable(template.template());\n+        validate(name,\n+            maybeTemplate.map(Template::settings).orElse(Settings.EMPTY),\n+            template.indexPatterns(),\n+            maybeTemplate\n+                .map(Template::aliases)\n+                .map(aliasMap -> aliasMap.values().stream()\n+                    .map(aliasMeta -> {\n+                        Alias a = new Alias(aliasMeta.alias());\n+                        if (aliasMeta.filter() != null) {\n+                            a.filter(aliasMeta.filter().string());\n+                        }\n+                        a.searchRouting(aliasMeta.searchRouting());\n+                        a.indexRouting(aliasMeta.indexRouting());\n+                        a.isHidden(aliasMeta.isHidden());\n+                        a.writeIndex(aliasMeta.writeIndex());\n+                        return a;\n+                    })\n+                    .collect(Collectors.toList()))\n+                .orElse(Collections.emptyList()));\n+    }\n+\n+    private void validate(PutRequest putRequest) {\n+        validate(putRequest.name, putRequest.settings, putRequest.indexPatterns, putRequest.aliases);\n+    }\n+\n+    private void validate(String name, @Nullable Settings settings, List<String> indexPatterns, List<Alias> aliases) {\n         List<String> validationErrors = new ArrayList<>();\n-        if (request.name.contains(\" \")) {\n+        if (name.contains(\" \")) {\n             validationErrors.add(\"name must not contain a space\");\n         }\n-        if (request.name.contains(\",\")) {\n+        if (name.contains(\",\")) {\n             validationErrors.add(\"name must not contain a ','\");\n         }\n-        if (request.name.contains(\"#\")) {\n+        if (name.contains(\"#\")) {\n             validationErrors.add(\"name must not contain a '#'\");\n         }\n-        if (request.name.startsWith(\"_\")) {\n+        if (name.contains(\"*\")) {\n+            validationErrors.add(\"name must not contain a '*'\");\n+        }\n+        if (name.startsWith(\"_\")) {\n             validationErrors.add(\"name must not start with '_'\");\n         }\n-        if (!request.name.toLowerCase(Locale.ROOT).equals(request.name)) {\n+        if (name.toLowerCase(Locale.ROOT).equals(name) == false) {\n             validationErrors.add(\"name must be lower cased\");\n         }\n-        for(String indexPattern : request.indexPatterns) {\n+        for(String indexPattern : indexPatterns) {\n             if (indexPattern.contains(\" \")) {\n-                validationErrors.add(\"template must not contain a space\");\n+                validationErrors.add(\"index_patterns [\" + indexPattern + \"] must not contain a space\");\n             }\n             if (indexPattern.contains(\",\")) {\n-                validationErrors.add(\"template must not contain a ','\");\n+                validationErrors.add(\"index_pattern [\" + indexPattern + \"] must not contain a ','\");\n             }\n             if (indexPattern.contains(\"#\")) {\n-                validationErrors.add(\"template must not contain a '#'\");\n+                validationErrors.add(\"index_pattern [\" + indexPattern + \"] must not contain a '#'\");\n+            }\n+            if (indexPattern.contains(\":\")) {\n+                validationErrors.add(\"index_pattern [\" + indexPattern + \"] must not contain a ':'\");\n             }\n             if (indexPattern.startsWith(\"_\")) {\n-                validationErrors.add(\"template must not start with '_'\");\n+                validationErrors.add(\"index_pattern [\" + indexPattern + \"] must not start with '_'\");\n             }\n-            if (!Strings.validFileNameExcludingAstrix(indexPattern)) {\n-                validationErrors.add(\"template must not contain the following characters \" + Strings.INVALID_FILENAME_CHARS);\n+            if (Strings.validFileNameExcludingAstrix(indexPattern) == false) {", "originalCommit": "25ee3ced9469205c234a0c900900963b324d01f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA0MjIwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/56170#discussion_r420042201", "bodyText": "@dakrone sorry, just see you are already aware of that issue. Nevermind.", "author": "cbuescher", "createdAt": "2020-05-05T11:35:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA0MTUxMw=="}], "type": "inlineReview"}, {"oid": "2ce90bb6c8d2d70eff498fe58f01a5bc97a75d22", "url": "https://github.com/elastic/elasticsearch/commit/2ce90bb6c8d2d70eff498fe58f01a5bc97a75d22", "message": "Refactor validation methods to DRY them up", "committedDate": "2020-05-05T14:15:35Z", "type": "commit"}, {"oid": "3521d310e325ee6cee524de11859cb8263aa2f23", "url": "https://github.com/elastic/elasticsearch/commit/3521d310e325ee6cee524de11859cb8263aa2f23", "message": "Merge branch 'master' into itv2-enhance-template-validation", "committedDate": "2020-05-05T14:37:45Z", "type": "commit"}]}