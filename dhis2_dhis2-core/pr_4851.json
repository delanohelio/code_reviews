{"pr_number": 4851, "pr_title": "fix: Backwards compatible with Chart and ReportTable and preventing NPE [DHIS2-7946]", "pr_author": "maikelarabori", "pr_createdAt": "2020-02-10T14:59:44Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/4851", "timeline": [{"oid": "451355356c6e8912ff786710dba29c13cbb357f7", "url": "https://github.com/dhis2/dhis2-core/commit/451355356c6e8912ff786710dba29c13cbb357f7", "message": "fix: Preventing NPE for inconsistent data.", "committedDate": "2020-02-10T14:00:49Z", "type": "commit"}, {"oid": "c0ad7c0418240a993bec09b1c2cf59568b3e4fcb", "url": "https://github.com/dhis2/dhis2-core/commit/c0ad7c0418240a993bec09b1c2cf59568b3e4fcb", "message": "fix: Removing unecessary comment [DHIS2-7946]", "committedDate": "2020-02-10T14:50:07Z", "type": "commit"}, {"oid": "072bde225af6849c51547bc25d66baecc62dc85e", "url": "https://github.com/dhis2/dhis2-core/commit/072bde225af6849c51547bc25d66baecc62dc85e", "message": "fix: Centralizing the NPE checking [DHIS2-7946]", "committedDate": "2020-02-10T14:55:52Z", "type": "commit"}, {"oid": "d68ef1a703d1f57426bd89fccca2f5749c6f5c0e", "url": "https://github.com/dhis2/dhis2-core/commit/d68ef1a703d1f57426bd89fccca2f5749c6f5c0e", "message": "fix: Code formatting [DHIS2-7946]", "committedDate": "2020-02-10T14:58:03Z", "type": "commit"}, {"oid": "d54a00ac1f319349abbb50302783b54f4191ecc7", "url": "https://github.com/dhis2/dhis2-core/commit/d54a00ac1f319349abbb50302783b54f4191ecc7", "message": "fix: Fixing Chart rendering [DHIS2-7946]", "committedDate": "2020-02-11T13:18:49Z", "type": "commit"}, {"oid": "37c67ed2eabf38895f5cb10eb1e84c5a2e02691b", "url": "https://github.com/dhis2/dhis2-core/commit/37c67ed2eabf38895f5cb10eb1e84c5a2e02691b", "message": "Merge remote-tracking branch 'origin' into DHIS2-7946", "committedDate": "2020-02-14T08:32:27Z", "type": "commit"}, {"oid": "a5e6b568e722c40ec8af01ab8fd210f8803d264a", "url": "https://github.com/dhis2/dhis2-core/commit/a5e6b568e722c40ec8af01ab8fd210f8803d264a", "message": "feat: Adding default values for Visualization attrs [DHIS2-7946]", "committedDate": "2020-02-14T10:09:13Z", "type": "commit"}, {"oid": "4d7235797b99299159c650336b64064509d2c2b2", "url": "https://github.com/dhis2/dhis2-core/commit/4d7235797b99299159c650336b64064509d2c2b2", "message": "fix: Ensuring that sortOrder won't cause issues [DHIS2-7946]", "committedDate": "2020-02-14T14:23:55Z", "type": "commit"}, {"oid": "6b9e909838fb0d913a0e9e6c0a51baa9e6b380c0", "url": "https://github.com/dhis2/dhis2-core/commit/6b9e909838fb0d913a0e9e6c0a51baa9e6b380c0", "message": "fix: Removing unused authorities in tests [DHIS2-7946]", "committedDate": "2020-02-17T08:53:31Z", "type": "commit"}, {"oid": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "url": "https://github.com/dhis2/dhis2-core/commit/74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "message": "fix: Rename the cumulative attr [DHIS2-7946]", "committedDate": "2020-02-18T08:13:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNTcxMg==", "url": "https://github.com/dhis2/dhis2-core/pull/4851#discussion_r380525712", "body": "```suggestion\r\n        if ( isNotEmpty( columnDimensions ) )\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     if ( isNotEmpty( columnDimensions ) )\n          \n          \n            \n                    if ( isNotEmpty( columnDimensions ) )", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"x x-first x-last\"> </span><span class=\"pl-k\">if</span> ( isNotEmpty( columnDimensions ) )</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> ( isNotEmpty( columnDimensions ) )</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "stian-sandvold", "createdAt": "2020-02-18T08:42:24Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "diffHunk": "@@ -1108,7 +1111,7 @@ private void initializeChart( User user, Date date, OrganisationUnit organisatio\n     public void populateAnalyticalProperties()\n     {\n         // Some Visualizations may not have columnDimensions.\n-        if ( isNotEmpty( columnDimensions ) )\n+         if ( isNotEmpty( columnDimensions ) )", "originalCommit": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUyNjQ3OQ==", "url": "https://github.com/dhis2/dhis2-core/pull/4851#discussion_r380526479", "body": "```suggestion\r\n        if ( cumulativeValues )\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (cumulativeValues)\n          \n          \n            \n                    if ( cumulativeValues )", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        <span class=\"pl-k\">if</span> (cumulativeValues)</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        <span class=\"pl-k\">if</span> (<span class=\"x x-first x-last\"> </span>cumulativeValues<span class=\"x x-first x-last\"> </span>)</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "stian-sandvold", "createdAt": "2020-02-18T08:43:58Z", "path": "dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "diffHunk": "@@ -1428,7 +1495,7 @@ public Grid getGrid( final Grid grid, Map<String, Object> valueMap, final Displa\n             grid.addRegressionToGrid( startColumnIndex, numberOfColumns );\n         }\n \n-        if ( cumulative )\n+        if (cumulativeValues)", "originalCommit": "74e3b59bcf9458d620b3cfbe358c4e3d0861b12f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f59a415144c79ab6127513fe94b58d4ea83cc1c1", "url": "https://github.com/dhis2/dhis2-core/commit/f59a415144c79ab6127513fe94b58d4ea83cc1c1", "message": "Update dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "committedDate": "2020-02-18T08:47:19Z", "type": "commit"}, {"oid": "2aaf96dedb41e3f6857d9f3253086fa46141cafc", "url": "https://github.com/dhis2/dhis2-core/commit/2aaf96dedb41e3f6857d9f3253086fa46141cafc", "message": "Update dhis-2/dhis-api/src/main/java/org/hisp/dhis/visualization/Visualization.java", "committedDate": "2020-02-18T08:47:31Z", "type": "commit"}]}