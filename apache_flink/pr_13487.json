{"pr_number": 13487, "pr_title": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "pr_author": "Myracle", "pr_createdAt": "2020-09-27T02:28:43Z", "pr_url": "https://github.com/apache/flink/pull/13487", "timeline": [{"oid": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "url": "https://github.com/apache/flink/commit/f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-09-29T04:37:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjE3MzMyMw==", "url": "https://github.com/apache/flink/pull/13487#discussion_r502173323", "body": "We need to add an example to access the list here, because this is an example for ListView. Currently, there are no access to the list in the example. \r\n\r\nI think we can update the aggregate function to return a String value which concats the elements in list, e.g. \r\n\r\n```java\r\npublic String getValue(MyAccumulator accumulator) {\r\n    // return a concated elements and the count\r\n    return count + \":\" + String.join(\"|\", acc.list.get());\r\n}\r\n```", "bodyText": "We need to add an example to access the list here, because this is an example for ListView. Currently, there are no access to the list in the example.\nI think we can update the aggregate function to return a String value which concats the elements in list, e.g.\npublic String getValue(MyAccumulator accumulator) {\n    // return a concated elements and the count\n    return count + \":\" + String.join(\"|\", acc.list.get());\n}", "bodyHTML": "<p dir=\"auto\">We need to add an example to access the list here, because this is an example for ListView. Currently, there are no access to the list in the example.</p>\n<p dir=\"auto\">I think we can update the aggregate function to return a String value which concats the elements in list, e.g.</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"public String getValue(MyAccumulator accumulator) {\n    // return a concated elements and the count\n    return count + &quot;:&quot; + String.join(&quot;|&quot;, acc.list.get());\n}\n\"><pre><span class=\"pl-k\">public</span> <span class=\"pl-smi\">String</span> getValue(<span class=\"pl-smi\">MyAccumulator</span> accumulator) {\n    <span class=\"pl-c\"><span class=\"pl-c\">//</span> return a concated elements and the count</span>\n    <span class=\"pl-k\">return</span> count <span class=\"pl-k\">+</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>:<span class=\"pl-pds\">\"</span></span> <span class=\"pl-k\">+</span> <span class=\"pl-smi\">String</span><span class=\"pl-k\">.</span>join(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>|<span class=\"pl-pds\">\"</span></span>, acc<span class=\"pl-k\">.</span>list<span class=\"pl-k\">.</span>get());\n}</pre></div>", "author": "wuchong", "createdAt": "2020-10-09T03:51:34Z", "path": "flink-table/flink-table-common/src/main/java/org/apache/flink/table/api/dataview/ListView.java", "diffHunk": "@@ -73,17 +73,11 @@\n  *\n  *   public void accumulate(MyAccumulator accumulator, String id) {\n  *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n+ *     accumulator.count++;\n  *   }\n  *\n  *   {@literal @}Override\n  *   public Long getValue(MyAccumulator accumulator) {\n- *     accumulator.list.add(id);\n- *     ... ...\n- *     accumulator.list.get()\n- *     ... ...\n  *     return accumulator.count;", "originalCommit": "f756ebd3f2f727c01f63e63e27f5fb7be2c8120f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-10-10T10:14:13Z", "type": "commit"}, {"oid": "86351d896dfe576264025b6db7ca9ba46e27881a", "url": "https://github.com/apache/flink/commit/86351d896dfe576264025b6db7ca9ba46e27881a", "message": "[FLINK-19409][Documentation] remove unrelated comment for getValue in ListView", "committedDate": "2020-10-10T10:14:13Z", "type": "forcePushed"}]}