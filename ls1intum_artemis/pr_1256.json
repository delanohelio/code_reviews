{"pr_number": 1256, "pr_title": "User resource test coverage", "pr_author": "madwau", "pr_createdAt": "2020-02-25T13:03:26Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1256", "timeline": [{"oid": "c012935174755d2a3eb67a052d3f88b2b80ee43f", "url": "https://github.com/ls1intum/Artemis/commit/c012935174755d2a3eb67a052d3f88b2b80ee43f", "message": "User resource test coverage", "committedDate": "2020-02-25T12:59:08Z", "type": "commit"}, {"oid": "d9240653d3f884e420c45809b51ad180eb86a6f9", "url": "https://github.com/ls1intum/Artemis/commit/d9240653d3f884e420c45809b51ad180eb86a6f9", "message": "Add test for updating last notification read datetime", "committedDate": "2020-02-25T14:05:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkwODE5Ng==", "url": "https://github.com/ls1intum/Artemis/pull/1256#discussion_r383908196", "body": "@sascha11110 You have more in-depth knowledge about the notifications and timestamps than I do. I believe this should be `current_timestamp` instead of `utc_timestamp`? With the latter, I always ended up getting a wrong ZonedDateTime read from the db (zoned to Berlin with +01:00 but time was UTC).", "bodyText": "@sascha11110 You have more in-depth knowledge about the notifications and timestamps than I do. I believe this should be current_timestamp instead of utc_timestamp? With the latter, I always ended up getting a wrong ZonedDateTime read from the db (zoned to Berlin with +01:00 but time was UTC).", "bodyHTML": "<p dir=\"auto\"><a class=\"user-mention\" data-hovercard-type=\"user\" data-hovercard-url=\"/users/sascha11110/hovercard\" data-octo-click=\"hovercard-link-click\" data-octo-dimensions=\"link_type:self\" href=\"https://github.com/sascha11110\">@sascha11110</a> You have more in-depth knowledge about the notifications and timestamps than I do. I believe this should be <code>current_timestamp</code> instead of <code>utc_timestamp</code>? With the latter, I always ended up getting a wrong ZonedDateTime read from the db (zoned to Berlin with +01:00 but time was UTC).</p>", "author": "madwau", "createdAt": "2020-02-25T14:22:06Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/UserRepository.java", "diffHunk": "@@ -65,7 +65,7 @@\n     Page<User> findAllWithGroups(Pageable pageable);\n \n     @Modifying\n-    @Query(\"Update User user set user.lastNotificationRead = utc_timestamp where user.id = :#{#userId}\")\n+    @Query(\"Update User user set user.lastNotificationRead = current_timestamp() where user.id = :#{#userId}\")", "originalCommit": "d9240653d3f884e420c45809b51ad180eb86a6f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjI3MjEyNg==", "url": "https://github.com/ls1intum/Artemis/pull/1256#discussion_r386272126", "bodyText": "I agree this should be current_timestamp", "author": "krusche", "createdAt": "2020-03-02T09:16:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkwODE5Ng=="}], "type": "inlineReview"}]}