{"pr_number": 1219, "pr_title": "Chore/test coverage/programming exercise resource", "pr_author": "ungaralex", "pr_createdAt": "2020-02-01T20:31:16Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1219", "timeline": [{"oid": "d92c38e8574e59c196d423ef7785623b2ed1c693", "url": "https://github.com/ls1intum/Artemis/commit/d92c38e8574e59c196d423ef7785623b2ed1c693", "message": "Increase line coverage for checkProgrammingExerciseForError", "committedDate": "2020-02-01T18:39:37Z", "type": "commit"}, {"oid": "132df4e2e1e0356b76708ec459e2f45985db53d8", "url": "https://github.com/ls1intum/Artemis/commit/132df4e2e1e0356b76708ec459e2f45985db53d8", "message": "Increase line coverage for programming exercise setup", "committedDate": "2020-02-01T19:18:26Z", "type": "commit"}, {"oid": "4355087cfb052e96a6f21585278805eb256f0fa9", "url": "https://github.com/ls1intum/Artemis/commit/4355087cfb052e96a6f21585278805eb256f0fa9", "message": "Mock programming exercise setup project already exists in Bitbucket", "committedDate": "2020-02-01T19:50:41Z", "type": "commit"}, {"oid": "08c024773971125396506545ef2a8fa8577aad40", "url": "https://github.com/ls1intum/Artemis/commit/08c024773971125396506545ef2a8fa8577aad40", "message": "Mock programming exercise setup project already exists in Bamboo", "committedDate": "2020-02-01T20:11:55Z", "type": "commit"}, {"oid": "eb85d6987831f070bffa9e4f2b4a1de8b2298c29", "url": "https://github.com/ls1intum/Artemis/commit/eb85d6987831f070bffa9e4f2b4a1de8b2298c29", "message": "Better exception handling in ProgrammingExerciseResource setup", "committedDate": "2020-02-01T20:15:26Z", "type": "commit"}, {"oid": "7e0a06674d45e9b13646e160f3f86c23f2abeb25", "url": "https://github.com/ls1intum/Artemis/commit/7e0a06674d45e9b13646e160f3f86c23f2abeb25", "message": "Increase coverage for ProgrammingExerciseResource import", "committedDate": "2020-02-01T20:27:55Z", "type": "commit"}, {"oid": "42db0ec825ee801d918f3da2a210b7d97acb0ea7", "url": "https://github.com/ls1intum/Artemis/commit/42db0ec825ee801d918f3da2a210b7d97acb0ea7", "message": "Add JavaDoc", "committedDate": "2020-02-01T20:37:00Z", "type": "commit"}, {"oid": "0a0d381d9834f6a49a676c99a867dd56acce0c4c", "url": "https://github.com/ls1intum/Artemis/commit/0a0d381d9834f6a49a676c99a867dd56acce0c4c", "message": "Increase coverage for ProgrammingExerciseResource export submissions", "committedDate": "2020-02-01T20:57:19Z", "type": "commit"}, {"oid": "ea431edcd841172a52b99c59d0a727a5cd308a08", "url": "https://github.com/ls1intum/Artemis/commit/ea431edcd841172a52b99c59d0a727a5cd308a08", "message": "Increase coverage for ProgrammingExerciseResource oracle generation", "committedDate": "2020-02-01T21:17:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMjk5NA==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373802994", "body": "Not needed since the `findByIdWIth....` method already throws an exception in this case", "bodyText": "Not needed since the findByIdWIth.... method already throws an exception in this case", "bodyHTML": "<p dir=\"auto\">Not needed since the <code>findByIdWIth....</code> method already throws an exception in this case</p>", "author": "ungaralex", "createdAt": "2020-02-01T21:19:56Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -529,11 +514,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         ProgrammingExercise programmingExercise = programmingExerciseService.findByIdWithEagerStudentParticipationsAndSubmissions(exerciseId);\n         User user = userService.getUserWithGroupsAndAuthorities();\n \n-        if (Optional.ofNullable(programmingExercise).isEmpty()) {", "originalCommit": "ea431edcd841172a52b99c59d0a727a5cd308a08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzA3Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373803073", "body": "Not needed since we fetch the course from the database a couple of lines before this check", "bodyText": "Not needed since we fetch the course from the database a couple of lines before this check", "bodyHTML": "<p dir=\"auto\">Not needed since we fetch the course from the database a couple of lines before this check</p>", "author": "ungaralex", "createdAt": "2020-02-01T21:21:43Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -188,12 +182,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n                     .body(null);\n         }\n \n-        // Check if course shortname is set\n-        if (course.getShortName() == null || course.getShortName().length() < 3) {", "originalCommit": "ea431edcd841172a52b99c59d0a727a5cd308a08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwNzYyNQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373807625", "bodyText": "The short name could still be empty or too short as we don\u2019t have a database constraint here, I guess this check does not harm!", "author": "krusche", "createdAt": "2020-02-01T23:10:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzA3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1MjA5MA==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373852090", "bodyText": "I reverted the change", "author": "ungaralex", "createdAt": "2020-02-02T14:55:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzA3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMzExMw==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373803113", "body": "Can never be null, because Spring does not allow `null` values for `@RequestBody` (default behavior).", "bodyText": "Can never be null, because Spring does not allow null values for @RequestBody (default behavior).", "bodyHTML": "<p dir=\"auto\">Can never be null, because Spring does not allow <code>null</code> values for <code>@RequestBody</code> (default behavior).</p>", "author": "ungaralex", "createdAt": "2020-02-01T21:22:33Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -148,10 +146,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n     @FeatureToggle(Feature.PROGRAMMING_EXERCISES)\n     public ResponseEntity<ProgrammingExercise> setupProgrammingExercise(@RequestBody ProgrammingExercise programmingExercise) {\n         log.debug(\"REST request to setup ProgrammingExercise : {}\", programmingExercise);\n-        if (programmingExercise == null) {", "originalCommit": "ea431edcd841172a52b99c59d0a727a5cd308a08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a5fd86b3b9b226e2f3d35cfde64f8f21ae789317", "url": "https://github.com/ls1intum/Artemis/commit/a5fd86b3b9b226e2f3d35cfde64f8f21ae789317", "message": "Revert course name check removal", "committedDate": "2020-02-02T14:49:45Z", "type": "commit"}, {"oid": "efd25766f3d7bf110c77d70a3d44a26f41625b74", "url": "https://github.com/ls1intum/Artemis/commit/efd25766f3d7bf110c77d70a3d44a26f41625b74", "message": "Fix error message for existing VCS project on setup", "committedDate": "2020-02-02T14:55:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373857645", "body": "Is this change really correct? I am not sure but I thought the previous version remove all whitespaces, right?", "bodyText": "Is this change really correct? I am not sure but I thought the previous version remove all whitespaces, right?", "bodyHTML": "<p dir=\"auto\">Is this change really correct? I am not sure but I thought the previous version remove all whitespaces, right?</p>", "author": "krusche", "createdAt": "2020-02-02T16:20:26Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -552,7 +538,7 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n             studentIds = studentIds.replaceAll(\" \", \"\");\n-            studentList = Arrays.asList(studentIds.split(\"\\\\s*,\\\\s*\"));\n+            studentList = Arrays.asList(studentIds.split(\",\"));", "originalCommit": "efd25766f3d7bf110c77d70a3d44a26f41625b74", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1ODU4MA==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373858580", "bodyText": "Yes, but it is redundant since we already remove all whitespaces in the previous line.", "author": "ungaralex", "createdAt": "2020-02-02T16:33:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1OTU0NQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373859545", "bodyText": "Only spaces. What happens to other whitespaces?", "author": "krusche", "createdAt": "2020-02-02T16:48:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2Njg4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373866887", "bodyText": "I think we should change the previous line to\nstudentIds = studentIds.replaceAll(\"\\\\s+\", \"\");", "author": "krusche", "createdAt": "2020-02-02T18:53:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjkwMw==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373866903", "bodyText": "then it would be fine", "author": "krusche", "createdAt": "2020-02-02T18:53:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NzU5OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373867599", "bodyText": "Fixed", "author": "ungaralex", "createdAt": "2020-02-02T19:06:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzY0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzczNg==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373857736", "body": "Is the todo really resolved? If yes, we can keep the comment as documentation, right?\r\n\r\nIf not, we should keep it. ", "bodyText": "Is the todo really resolved? If yes, we can keep the comment as documentation, right?\nIf not, we should keep it.", "bodyHTML": "<p dir=\"auto\">Is the todo really resolved? If yes, we can keep the comment as documentation, right?</p>\n<p dir=\"auto\">If not, we should keep it.</p>", "author": "krusche", "createdAt": "2020-02-02T16:21:55Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -291,8 +284,6 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         HttpHeaders responseHeaders;\n         programmingExerciseImportService.importRepositories(originalProgrammingExercise, importedProgrammingExercise);\n         try {\n-            // TODO: We have removed the automatic build trigger from test to base for new programming exercises. We need to also remove this build trigger manually on the case of\n-            // an import as the source exercise might still have this trigger.", "originalCommit": "efd25766f3d7bf110c77d70a3d44a26f41625b74", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjA5Ng==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373866096", "bodyText": "Yes, this was resolved about two months ago, when we merged the triggerUpdate parameters for build plan updates.\nI removed the TODO and updated the comment to fit the current implementation", "author": "ungaralex", "createdAt": "2020-02-02T18:40:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg1NzczNg=="}], "type": "inlineReview"}, {"oid": "e2d871a5abb23fc980812f35c61f34b07df4368c", "url": "https://github.com/ls1intum/Artemis/commit/e2d871a5abb23fc980812f35c61f34b07df4368c", "message": "Merge branch 'develop' into chore/test-coverage/programming-exercise-resource", "committedDate": "2020-02-02T16:22:37Z", "type": "commit"}, {"oid": "5af20ac32a8f099885103c706ae2c5f3ca518c86", "url": "https://github.com/ls1intum/Artemis/commit/5af20ac32a8f099885103c706ae2c5f3ca518c86", "message": "Add comment", "committedDate": "2020-02-02T18:39:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2Njk0MQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373866941", "body": "```suggestion\r\n            studentIds = studentIds.replaceAll(\"\\\\s+\", \"\");\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        studentIds = studentIds.replaceAll(\" \", \"\");\n          \n          \n            \n                        studentIds = studentIds.replaceAll(\"\\\\s+\", \"\");", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">            studentIds <span class=\"pl-k\">=</span> studentIds<span class=\"pl-k\">.</span>replaceAll(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"x x-first x-last\"> </span><span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">            studentIds <span class=\"pl-k\">=</span> studentIds<span class=\"pl-k\">.</span>replaceAll(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-cce x x-first\">\\\\</span><span class=\"x x-last\">s+</span><span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-pds\">\"</span></span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "krusche", "createdAt": "2020-02-02T18:53:59Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -552,7 +541,7 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n             studentIds = studentIds.replaceAll(\" \", \"\");", "originalCommit": "5af20ac32a8f099885103c706ae2c5f3ca518c86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NzU0Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373867543", "bodyText": "Done", "author": "ungaralex", "createdAt": "2020-02-02T19:05:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2Njk0MQ=="}], "type": "inlineReview"}, {"oid": "7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2", "url": "https://github.com/ls1intum/Artemis/commit/7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2", "message": "Use \\\\s for space regex", "committedDate": "2020-02-02T19:04:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2ODYzOQ==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373868639", "body": "According to https://stackoverflow.com/questions/15633228/how-to-remove-all-white-spaces-in-java/36444332 the following version is better", "bodyText": "According to https://stackoverflow.com/questions/15633228/how-to-remove-all-white-spaces-in-java/36444332 the following version is better", "bodyHTML": "<p dir=\"auto\">According to <a href=\"https://stackoverflow.com/questions/15633228/how-to-remove-all-white-spaces-in-java/36444332\" rel=\"nofollow\">https://stackoverflow.com/questions/15633228/how-to-remove-all-white-spaces-in-java/36444332</a> the following version is better</p>", "author": "krusche", "createdAt": "2020-02-02T19:23:58Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "diffHunk": "@@ -551,8 +540,8 @@ public ProgrammingExerciseResource(ProgrammingExerciseRepository programmingExer\n \n         List<String> studentList = new ArrayList<>();\n         if (!repositoryExportOptions.isExportAllStudents()) {\n-            studentIds = studentIds.replaceAll(\" \", \"\");\n-            studentList = Arrays.asList(studentIds.split(\"\\\\s*,\\\\s*\"));\n+            studentIds = studentIds.replaceAll(\"\\\\s\", \"\");", "originalCommit": "7f7ed5fbcd661210a414f3bdd68b6ff4a5848ba2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2ODY2NA==", "url": "https://github.com/ls1intum/Artemis/pull/1219#discussion_r373868664", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        studentIds = studentIds.replaceAll(\"\\\\s\", \"\");\n          \n          \n            \n                        studentIds = studentIds.replaceAll(\"\\\\s+\", \"\");", "author": "krusche", "createdAt": "2020-02-02T19:24:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2ODYzOQ=="}], "type": "inlineReview"}, {"oid": "7d6ccf2d1e1f081fbc9f54ea4c2b487d9202f97e", "url": "https://github.com/ls1intum/Artemis/commit/7d6ccf2d1e1f081fbc9f54ea4c2b487d9202f97e", "message": "Update src/main/java/de/tum/in/www1/artemis/web/rest/ProgrammingExerciseResource.java", "committedDate": "2020-02-02T19:24:21Z", "type": "commit"}]}