{"pr_number": 1590, "pr_title": "Use isEmpty() rather than size()/length() checks.", "pr_author": "jmark99", "pr_createdAt": "2020-04-20T17:52:56Z", "pr_url": "https://github.com/apache/accumulo/pull/1590", "timeline": [{"oid": "4cd880970e3d9c250b12024a39596607cc9eca9d", "url": "https://github.com/apache/accumulo/commit/4cd880970e3d9c250b12024a39596607cc9eca9d", "message": "Use isEmpty() rather than size()/length() checks.\n\nPer SonarQube recommendations:\n\nUsing Collection.size() to test for emptiness works, but using\nCollection.isEmpty() makes the code more readable and can be more\nperformant. The time complexity of any isEmpty() method implementation\nshould be O(1) whereas some implementations of size() can be O(n).", "committedDate": "2020-04-20T17:31:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjA3Mg==", "url": "https://github.com/apache/accumulo/pull/1590#discussion_r411612072", "body": "This is better, but a lot of these assert statements could be reversed so that instead of:\r\n```java\r\nassertTrue(! isEmpty() );\r\n```\r\nyou get:\r\n```java\r\nassertFalse( isEmpty() );\r\n```", "bodyText": "This is better, but a lot of these assert statements could be reversed so that instead of:\nassertTrue(! isEmpty() );\nyou get:\nassertFalse( isEmpty() );", "bodyHTML": "<p dir=\"auto\">This is better, but a lot of these assert statements could be reversed so that instead of:</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"assertTrue(! isEmpty() );\n\"><pre>assertTrue(<span class=\"pl-k\">!</span> isEmpty() );</pre></div>\n<p dir=\"auto\">you get:</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"assertFalse( isEmpty() );\n\"><pre>assertFalse( isEmpty() );</pre></div>", "author": "ctubbsii", "createdAt": "2020-04-20T18:51:56Z", "path": "test/src/main/java/org/apache/accumulo/test/functional/KerberosIT.java", "diffHunk": "@@ -565,8 +565,8 @@ public void testRestartedMasterReusesSecretKey() throws Exception {\n               client.securityOperations().getDelegationToken(new DelegationTokenConfig());\n \n           assertTrue(\"Could not get tables with delegation token\",\n-              mac.createAccumuloClient(rootUser.getPrincipal(), token).tableOperations().list()\n-                  .size() > 0);\n+              !mac.createAccumuloClient(rootUser.getPrincipal(), token).tableOperations().list()\n+                  .isEmpty());", "originalCommit": "4cd880970e3d9c250b12024a39596607cc9eca9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYyNjY3MA==", "url": "https://github.com/apache/accumulo/pull/1590#discussion_r411626670", "bodyText": "This can be done in a future change.", "author": "ctubbsii", "createdAt": "2020-04-20T19:16:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjA3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYzOTgzNA==", "url": "https://github.com/apache/accumulo/pull/1590#discussion_r411639834", "bodyText": "True! Will keep in mind for future update.", "author": "jmark99", "createdAt": "2020-04-20T19:38:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxMjA3Mg=="}], "type": "inlineReview"}]}