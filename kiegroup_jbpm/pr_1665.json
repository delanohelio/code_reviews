{"pr_number": 1665, "pr_title": "Register dialect for validating Quartz-mariaDB", "pr_author": "gmunozfe", "pr_createdAt": "2020-05-28T11:29:15Z", "pr_url": "https://github.com/kiegroup/jbpm/pull/1665", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzOTcyNw==", "url": "https://github.com/kiegroup/jbpm/pull/1665#discussion_r432339727", "body": "Wouldn't be clearer to use (or create) a new custom dialect for MariaDB instead of using `MySQLCustomDialect` to decoupling?", "bodyText": "Wouldn't be clearer to use (or create) a new custom dialect for MariaDB instead of using MySQLCustomDialect to decoupling?", "bodyHTML": "<p dir=\"auto\">Wouldn't be clearer to use (or create) a new custom dialect for MariaDB instead of using <code>MySQLCustomDialect</code> to decoupling?</p>", "author": "afalhambra", "createdAt": "2020-05-29T08:39:27Z", "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/scripts/quartzdialects/QuartzDialectResolver.java", "diffHunk": "@@ -30,6 +30,7 @@\n     private static Map<String, Dialect> DIALECT_BY_NAME = new HashMap<>();\n \n     {\n+        registerDialect(new MySQLCustomDialect(), \"MariaDB\");", "originalCommit": "00bbe06c82a3f581422bab71b0641192fb738970", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM0ODQxNA==", "url": "https://github.com/kiegroup/jbpm/pull/1665#discussion_r432348414", "bodyText": "No, it's not worth it. MariaDB is 100% compatible with mysql and currently we have only scripts for mysql", "author": "gmunozfe", "createdAt": "2020-05-29T08:55:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzOTcyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQwNTU0MQ==", "url": "https://github.com/kiegroup/jbpm/pull/1665#discussion_r432405541", "body": "Just a suggestion then as both are sharing some custom dialect, but either ways are fine to me. Up to you.\r\n```suggestion\r\n        registerDialect(new MySQLCustomDialect(), \"MySQL\", \"MariaDB\");\r\n```", "bodyText": "Just a suggestion then as both are sharing some custom dialect, but either ways are fine to me. Up to you.\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    registerDialect(new MySQLCustomDialect(), \"MariaDB\");\n          \n          \n            \n                    registerDialect(new MySQLCustomDialect(), \"MySQL\");\n          \n          \n            \n                    registerDialect(new MySQLCustomDialect(), \"MySQL\", \"MariaDB\");", "bodyHTML": "<p dir=\"auto\">Just a suggestion then as both are sharing some custom dialect, but either ways are fine to me. Up to you.</p>\n  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        registerDialect(<span class=\"pl-k\">new</span> <span class=\"pl-smi\">MySQLCustomDialect</span>(), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MariaDB<span class=\"pl-pds\">\"</span></span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">        registerDialect(<span class=\"pl-k\">new</span> <span class=\"pl-smi\">MySQLCustomDialect</span>(), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MySQL<span class=\"pl-pds\">\"</span></span>);</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">        registerDialect(<span class=\"pl-k\">new</span> <span class=\"pl-smi\">MySQLCustomDialect</span>(), <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MySQL<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MariaDB<span class=\"pl-pds\">\"</span></span>);</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "afalhambra", "createdAt": "2020-05-29T10:48:55Z", "path": "jbpm-test-util/src/main/java/org/jbpm/test/persistence/scripts/quartzdialects/QuartzDialectResolver.java", "diffHunk": "@@ -30,6 +30,7 @@\n     private static Map<String, Dialect> DIALECT_BY_NAME = new HashMap<>();\n \n     {\n+        registerDialect(new MySQLCustomDialect(), \"MariaDB\");\n         registerDialect(new MySQLCustomDialect(), \"MySQL\");", "originalCommit": "00bbe06c82a3f581422bab71b0641192fb738970", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQxNjQ0MQ==", "url": "https://github.com/kiegroup/jbpm/pull/1665#discussion_r432416441", "bodyText": "Thanks! done", "author": "gmunozfe", "createdAt": "2020-05-29T11:14:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQwNTU0MQ=="}], "type": "inlineReview"}, {"oid": "2384fb575cd1ab7228d9507cd13d7dc275afe583", "url": "https://github.com/kiegroup/jbpm/commit/2384fb575cd1ab7228d9507cd13d7dc275afe583", "message": "Register dialect for validating Quartz - mariaDB", "committedDate": "2020-05-29T11:13:17Z", "type": "commit"}, {"oid": "2384fb575cd1ab7228d9507cd13d7dc275afe583", "url": "https://github.com/kiegroup/jbpm/commit/2384fb575cd1ab7228d9507cd13d7dc275afe583", "message": "Register dialect for validating Quartz - mariaDB", "committedDate": "2020-05-29T11:13:17Z", "type": "forcePushed"}]}