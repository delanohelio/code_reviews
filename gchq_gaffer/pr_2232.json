{"pr_number": 2232, "pr_title": "Gh 2225 federated get all graph info", "pr_author": "GCHQDev404", "pr_createdAt": "2020-01-22T15:01:38Z", "pr_url": "https://github.com/gchq/Gaffer/pull/2232", "timeline": [{"oid": "3e187ef4c4ca284cf7f2bf95ec76516c23fe23b3", "url": "https://github.com/gchq/Gaffer/commit/3e187ef4c4ca284cf7f2bf95ec76516c23fe23b3", "message": "Typo", "committedDate": "2019-12-20T17:51:09Z", "type": "commit"}, {"oid": "69e26a38fabb70bd1fab37798d277f13e7c856db", "url": "https://github.com/gchq/Gaffer/commit/69e26a38fabb70bd1fab37798d277f13e7c856db", "message": "gh-2223 FederatedAdminIT tests", "committedDate": "2020-01-17T15:49:13Z", "type": "commit"}, {"oid": "dd0052afdb2944a048393344cc97f80a29784e0d", "url": "https://github.com/gchq/Gaffer/commit/dd0052afdb2944a048393344cc97f80a29784e0d", "message": "gh-2223 Admin Override for RemoveGraph and GetAllGraphIds", "committedDate": "2020-01-17T15:49:30Z", "type": "commit"}, {"oid": "336425581173a62997f9efb0dc169619b33266dd", "url": "https://github.com/gchq/Gaffer/commit/336425581173a62997f9efb0dc169619b33266dd", "message": "gh-2223 Admin override for RemoveGraph uses predicate", "committedDate": "2020-01-17T15:50:26Z", "type": "commit"}, {"oid": "15f7ad1d0730f65d33533bb1f590d2b740e126e1", "url": "https://github.com/gchq/Gaffer/commit/15f7ad1d0730f65d33533bb1f590d2b740e126e1", "message": "gh-2223 FederatedAdminIT tests for a NonAdmin user requesting admin override.", "committedDate": "2020-01-17T15:50:37Z", "type": "commit"}, {"oid": "7f9e65937dd4ba645439f874ce0894e3e5161906", "url": "https://github.com/gchq/Gaffer/commit/7f9e65937dd4ba645439f874ce0894e3e5161906", "message": "gh-2223 change to gaffer.store.admin.auth and renaming", "committedDate": "2020-01-17T17:11:03Z", "type": "commit"}, {"oid": "66d769ac1d19ebc1ea22025917485e28c1794087", "url": "https://github.com/gchq/Gaffer/commit/66d769ac1d19ebc1ea22025917485e28c1794087", "message": "gh-2225 Federated GetAllGraphInfo", "committedDate": "2020-01-17T17:17:10Z", "type": "commit"}, {"oid": "c447901ad7573340ae01578203d9f5011370adfa", "url": "https://github.com/gchq/Gaffer/commit/c447901ad7573340ae01578203d9f5011370adfa", "message": "gh-2225 FederatedGetAllGraphInfoHandler has AdminAll and User usage.", "committedDate": "2020-01-17T17:17:33Z", "type": "commit"}, {"oid": "5891ac0d1fa3c535f20b988f8cff13529a6aea14", "url": "https://github.com/gchq/Gaffer/commit/5891ac0d1fa3c535f20b988f8cff13529a6aea14", "message": "gh-2223 checkstyle", "committedDate": "2020-01-17T17:33:10Z", "type": "commit"}, {"oid": "fd5055e26296fab04a7d69d23cd3e53aa4fabd97", "url": "https://github.com/gchq/Gaffer/commit/fd5055e26296fab04a7d69d23cd3e53aa4fabd97", "message": "gh-2225 checkstyle", "committedDate": "2020-01-17T17:33:29Z", "type": "commit"}, {"oid": "6699a0a362fb7bb298cf7819d92686b46ab51462", "url": "https://github.com/gchq/Gaffer/commit/6699a0a362fb7bb298cf7819d92686b46ab51462", "message": "gh-2225 GetGraphInfo can be filtered by graphIds", "committedDate": "2020-01-18T18:02:05Z", "type": "commit"}, {"oid": "2d4d7104042eebff93f876761d4a567a216a11bd", "url": "https://github.com/gchq/Gaffer/commit/2d4d7104042eebff93f876761d4a567a216a11bd", "message": "gh-2223 remove graph admin param added.", "committedDate": "2020-01-20T20:07:05Z", "type": "commit"}, {"oid": "d4a69281b1220337e7c78efa016d5883408ce93a", "url": "https://github.com/gchq/Gaffer/commit/d4a69281b1220337e7c78efa016d5883408ce93a", "message": "gh-2225 getAllGraphsAndAuths isAdmin param", "committedDate": "2020-01-20T20:08:49Z", "type": "commit"}, {"oid": "be4b64e033b63e85a954d2cb3e495f236d451d31", "url": "https://github.com/gchq/Gaffer/commit/be4b64e033b63e85a954d2cb3e495f236d451d31", "message": "Merge branch 'develop' into gh-2223-Federated-Admin-override", "committedDate": "2020-01-21T15:04:25Z", "type": "commit"}, {"oid": "b893e9d87aef924765afba8c7affd533c71d9fdd", "url": "https://github.com/gchq/Gaffer/commit/b893e9d87aef924765afba8c7affd533c71d9fdd", "message": "Merge branch 'develop' into gh-2225-federated-getAllGraphInfo", "committedDate": "2020-01-21T15:04:48Z", "type": "commit"}, {"oid": "f54bc80d150c59ba87bcc18ea08d0ef1f038980d", "url": "https://github.com/gchq/Gaffer/commit/f54bc80d150c59ba87bcc18ea08d0ef1f038980d", "message": "gh-2223 refinements and package protected methods in FederatedGraphStorage", "committedDate": "2020-01-21T18:04:16Z", "type": "commit"}, {"oid": "68e6a108c0b59216e257c05dd0522ddf6dc7b062", "url": "https://github.com/gchq/Gaffer/commit/68e6a108c0b59216e257c05dd0522ddf6dc7b062", "message": "gh-2225 refinements and package protected methods in FederatedGraphStorage", "committedDate": "2020-01-21T18:19:00Z", "type": "commit"}, {"oid": "f292a9346528e09ee0e12b93ce438b6d0c7053cf", "url": "https://github.com/gchq/Gaffer/commit/f292a9346528e09ee0e12b93ce438b6d0c7053cf", "message": "Merge branch 'gh-2223-Federated-Admin-override' into gh-2225-federated-getAllGraphInfo\n\n# Conflicts:\n#\tstore-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n#\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/integration/FederatedAdminIT.java", "committedDate": "2020-01-22T15:14:52Z", "type": "commit"}, {"oid": "f292a9346528e09ee0e12b93ce438b6d0c7053cf", "url": "https://github.com/gchq/Gaffer/commit/f292a9346528e09ee0e12b93ce438b6d0c7053cf", "message": "Merge branch 'gh-2223-Federated-Admin-override' into gh-2225-federated-getAllGraphInfo\n\n# Conflicts:\n#\tstore-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n#\tstore-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/integration/FederatedAdminIT.java", "committedDate": "2020-01-22T15:14:52Z", "type": "forcePushed"}, {"oid": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "url": "https://github.com/gchq/Gaffer/commit/2a9065ea0d479997e8f5ea215063ce47afaa921b", "message": "Merge branch 'federated-admin-changes' into gh-2225-federated-getAllGraphInfo", "committedDate": "2020-01-22T15:50:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY0OTM3NA==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369649374", "body": "Don't think you need this second check", "bodyText": "Don't think you need this second check", "bodyHTML": "<p dir=\"auto\">Don't think you need this second check</p>", "author": "d47853", "createdAt": "2020-01-22T16:01:53Z", "path": "store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java", "diffHunk": "@@ -513,4 +513,36 @@ private void makeAllGraphsFromCache() throws StorageException {\n             }\n         }\n     }\n+\n+    HashMap<String, Object> getAllGraphsAndAuths(final User user, final List<String> graphIds) {\n+        final HashMap<String, Object> graphIdFedAccessMap = new HashMap<>();\n+        storage.entrySet()\n+                .stream()\n+                .filter(entry -> isValidToView(user, entry.getKey()))\n+                .forEach(entry -> {\n+                    FederatedAccess federatedAccess = entry.getKey();\n+                    populateGraphIdAccessMap(graphIdFedAccessMap, graphIds, federatedAccess, entry.getValue());\n+                });\n+\n+        return graphIdFedAccessMap;\n+    }\n+\n+    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> graphIds, final FederatedAccess federatedAccess, final Set<Graph> graphs) {\n+        for (final Graph g : graphs) {\n+            if (nonNull(graphIds) && !graphIds.isEmpty()) {", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY5MTExMw==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369691113", "bodyText": "As we have seen this is to change the logic.\nif no lists is provided I want all the graphs. I'll add text.", "author": "GCHQDev404", "createdAt": "2020-01-22T17:13:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY0OTM3NA=="}], "type": "inlineReview", "revised_code": {"commit": "b3244a4ba2a4d7d7a191edbd33465b42916b990c", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\nindex 48d109c398..7ad2beceb0 100644\n--- a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n+++ b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n", "chunk": "@@ -527,14 +527,17 @@ public class FederatedGraphStorage {\n         return graphIdFedAccessMap;\n     }\n \n-    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> graphIds, final FederatedAccess federatedAccess, final Set<Graph> graphs) {\n-        for (final Graph g : graphs) {\n-            if (nonNull(graphIds) && !graphIds.isEmpty()) {\n-                if (graphIds.contains(g.getGraphId())) {\n-                    graphIdFedAccessMap.put(g.getGraphId(), federatedAccess.toString());\n-                }\n+    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> requestedGraphIds, final FederatedAccess federatedAccess, final Set<Graph> allGraphs) {\n+        for (final Graph g : allGraphs) {\n+            final boolean getInfoForAllGraphs = !nonNull(requestedGraphIds) || requestedGraphIds.isEmpty();\n+            if (getInfoForAllGraphs) {\n+                //all graphs\n+                graphIdFedAccessMap.put(g.getGraphId(), federatedAccess);\n             } else {\n-                graphIdFedAccessMap.put(g.getGraphId(), federatedAccess.toString());\n+                //filter by requested graphs\n+                if (requestedGraphIds.contains(g.getGraphId())) {\n+                    graphIdFedAccessMap.put(g.getGraphId(), federatedAccess);\n+                }\n             }\n         }\n     }\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2OTY2Mw==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369669663", "body": "Why use the toString()? Isn't it simpler to just add the FederatedAccess object directly?", "bodyText": "Why use the toString()? Isn't it simpler to just add the FederatedAccess object directly?", "bodyHTML": "<p dir=\"auto\">Why use the toString()? Isn't it simpler to just add the FederatedAccess object directly?</p>", "author": "d47853", "createdAt": "2020-01-22T16:35:44Z", "path": "store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java", "diffHunk": "@@ -513,4 +513,36 @@ private void makeAllGraphsFromCache() throws StorageException {\n             }\n         }\n     }\n+\n+    HashMap<String, Object> getAllGraphsAndAuths(final User user, final List<String> graphIds) {\n+        final HashMap<String, Object> graphIdFedAccessMap = new HashMap<>();\n+        storage.entrySet()\n+                .stream()\n+                .filter(entry -> isValidToView(user, entry.getKey()))\n+                .forEach(entry -> {\n+                    FederatedAccess federatedAccess = entry.getKey();\n+                    populateGraphIdAccessMap(graphIdFedAccessMap, graphIds, federatedAccess, entry.getValue());\n+                });\n+\n+        return graphIdFedAccessMap;\n+    }\n+\n+    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> graphIds, final FederatedAccess federatedAccess, final Set<Graph> graphs) {\n+        for (final Graph g : graphs) {\n+            if (nonNull(graphIds) && !graphIds.isEmpty()) {\n+                if (graphIds.contains(g.getGraphId())) {\n+                    graphIdFedAccessMap.put(g.getGraphId(), federatedAccess.toString());", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "b3244a4ba2a4d7d7a191edbd33465b42916b990c", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\nindex 48d109c398..7ad2beceb0 100644\n--- a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n+++ b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/FederatedGraphStorage.java\n", "chunk": "@@ -527,14 +527,17 @@ public class FederatedGraphStorage {\n         return graphIdFedAccessMap;\n     }\n \n-    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> graphIds, final FederatedAccess federatedAccess, final Set<Graph> graphs) {\n-        for (final Graph g : graphs) {\n-            if (nonNull(graphIds) && !graphIds.isEmpty()) {\n-                if (graphIds.contains(g.getGraphId())) {\n-                    graphIdFedAccessMap.put(g.getGraphId(), federatedAccess.toString());\n-                }\n+    private void populateGraphIdAccessMap(final HashMap<String, Object> graphIdFedAccessMap, final List<String> requestedGraphIds, final FederatedAccess federatedAccess, final Set<Graph> allGraphs) {\n+        for (final Graph g : allGraphs) {\n+            final boolean getInfoForAllGraphs = !nonNull(requestedGraphIds) || requestedGraphIds.isEmpty();\n+            if (getInfoForAllGraphs) {\n+                //all graphs\n+                graphIdFedAccessMap.put(g.getGraphId(), federatedAccess);\n             } else {\n-                graphIdFedAccessMap.put(g.getGraphId(), federatedAccess.toString());\n+                //filter by requested graphs\n+                if (requestedGraphIds.contains(g.getGraphId())) {\n+                    graphIdFedAccessMap.put(g.getGraphId(), federatedAccess);\n+                }\n             }\n         }\n     }\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY3MjQ0MA==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369672440", "body": "```suggestion\r\n * Copyright 2020 Crown Copyright\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2017-2019 Crown Copyright\n          \n          \n            \n             * Copyright 2020 Crown Copyright", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first\">2017</span><span class=\"pl-k x\">-</span><span class=\"pl-c1 x x-last\">2019</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first x-last\">2020</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "d47853", "createdAt": "2020-01-22T16:40:25Z", "path": "store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/*\n+ * Copyright 2017-2019 Crown Copyright", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c299ea38d4d4e179814c8bc5353216c2edc10db", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\nindex 0564000355..b365d3403e 100644\n--- a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\n+++ b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\n", "chunk": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2017-2019 Crown Copyright\n+ * Copyright 2020 Crown Copyright\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY3Mjk2Ng==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369672966", "body": "```suggestion\r\n@Since(\"1.10.6\")\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @Since(\"1.10.4\")\n          \n          \n            \n            @Since(\"1.10.6\")", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"><span class=\"pl-k\">@Since</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.10.<span class=\"x x-first x-last\">4</span><span class=\"pl-pds\">\"</span></span>)</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"><span class=\"pl-k\">@Since</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>1.10.<span class=\"x x-first x-last\">6</span><span class=\"pl-pds\">\"</span></span>)</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "d47853", "createdAt": "2020-01-22T16:41:17Z", "path": "store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java", "diffHunk": "@@ -0,0 +1,75 @@\n+/*\n+ * Copyright 2017-2019 Crown Copyright\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package uk.gov.gchq.gaffer.federatedstore.operation;\n+\n+import com.fasterxml.jackson.annotation.JsonPropertyOrder;\n+import com.fasterxml.jackson.core.type.TypeReference;\n+import org.apache.commons.lang3.exception.CloneFailedException;\n+\n+import uk.gov.gchq.gaffer.operation.io.Output;\n+import uk.gov.gchq.gaffer.operation.serialisation.TypeReferenceImpl;\n+import uk.gov.gchq.koryphe.Since;\n+import uk.gov.gchq.koryphe.Summary;\n+\n+import java.util.Map;\n+\n+import static uk.gov.gchq.gaffer.federatedstore.FederatedStoreConstants.KEY_OPERATION_OPTIONS_GRAPH_IDS;\n+\n+/**\n+ * An Operation to get all the graphIds within scope of the FederatedStore.\n+ */\n+@JsonPropertyOrder(value = {\"class\"}, alphabetic = true)\n+@Since(\"1.10.4\")", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c299ea38d4d4e179814c8bc5353216c2edc10db", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\nindex 0564000355..b365d3403e 100644\n--- a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\n+++ b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfo.java\n", "chunk": "@@ -33,7 +33,7 @@ import static uk.gov.gchq.gaffer.federatedstore.FederatedStoreConstants.KEY_OPER\n  * An Operation to get all the graphIds within scope of the FederatedStore.\n  */\n @JsonPropertyOrder(value = {\"class\"}, alphabetic = true)\n-@Since(\"1.10.4\")\n+@Since(\"1.10.6\")\n @Summary(\"Gets the ids of all available Graphs from a federated store\")\n public class GetAllGraphInfo implements\n         FederatedOperation,\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY3MzQ0MA==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369673440", "body": "```suggestion\r\n * Copyright 2020 Crown Copyright\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2017-2019 Crown Copyright\n          \n          \n            \n             * Copyright 2020 Crown Copyright", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first\">2017</span><span class=\"pl-k x\">-</span><span class=\"pl-c1 x x-last\">2019</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first x-last\">2020</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "d47853", "createdAt": "2020-01-22T16:42:05Z", "path": "store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedGetAllGraphInfoHandler.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Copyright 2017-2019 Crown Copyright", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c299ea38d4d4e179814c8bc5353216c2edc10db", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedGetAllGraphInfoHandler.java b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedGetAllGraphInfoHandler.java\nindex dce0da65c2..53174fdfe5 100644\n--- a/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedGetAllGraphInfoHandler.java\n+++ b/store-implementation/federated-store/src/main/java/uk/gov/gchq/gaffer/federatedstore/operation/handler/impl/FederatedGetAllGraphInfoHandler.java\n", "chunk": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2017-2019 Crown Copyright\n+ * Copyright 2020 Crown Copyright\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n", "next_change": null}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY3NDAxMg==", "url": "https://github.com/gchq/Gaffer/pull/2232#discussion_r369674012", "body": "```suggestion\r\n * Copyright 2020 Crown Copyright\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Copyright 2017-2019 Crown Copyright\n          \n          \n            \n             * Copyright 2020 Crown Copyright", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first\">2017</span><span class=\"pl-k x\">-</span><span class=\"pl-c1 x x-last\">2019</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\"> <span class=\"pl-k\">*</span> <span class=\"pl-smi\">Copyright</span> <span class=\"pl-c1 x x-first x-last\">2020</span> <span class=\"pl-smi\">Crown</span> <span class=\"pl-smi\">Copyright</span></td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "d47853", "createdAt": "2020-01-22T16:42:58Z", "path": "store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfoTest.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Copyright 2017-2019 Crown Copyright", "originalCommit": "2a9065ea0d479997e8f5ea215063ce47afaa921b", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "3c299ea38d4d4e179814c8bc5353216c2edc10db", "changed_code": [{"header": "diff --git a/store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfoTest.java b/store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfoTest.java\nindex 77a26c57e8..e922d3ef7c 100644\n--- a/store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfoTest.java\n+++ b/store-implementation/federated-store/src/test/java/uk/gov/gchq/gaffer/federatedstore/operation/GetAllGraphInfoTest.java\n", "chunk": "@@ -1,5 +1,5 @@\n /*\n- * Copyright 2017-2019 Crown Copyright\n+ * Copyright 2020 Crown Copyright\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\");\n  * you may not use this file except in compliance with the License.\n", "next_change": null}]}}, {"oid": "3c299ea38d4d4e179814c8bc5353216c2edc10db", "url": "https://github.com/gchq/Gaffer/commit/3c299ea38d4d4e179814c8bc5353216c2edc10db", "message": "Apply suggestions from code review\n\nCo-Authored-By: d47853 <d47853@users.noreply.github.com>", "committedDate": "2020-01-22T16:56:25Z", "type": "commit"}, {"oid": "b3244a4ba2a4d7d7a191edbd33465b42916b990c", "url": "https://github.com/gchq/Gaffer/commit/b3244a4ba2a4d7d7a191edbd33465b42916b990c", "message": "gh-2225 PR changes GetGraphInfo returns FederatedAccess not string.", "committedDate": "2020-01-22T17:54:12Z", "type": "commit"}]}