{"pr_number": 906, "pr_title": "Improves handling of archives in file based import jobs and especially reworks the archive extraction job.", "pr_createdAt": "2020-11-11T21:17:20Z", "pr_url": "https://github.com/scireum/sirius-biz/pull/906", "merge_commit": "c22aec824b45e73e12ee8c9e982ae8d83f896f07", "timeline": [{"oid": "98a764cb70a8b202395544b1f6c87527854c1be3", "url": "https://github.com/scireum/sirius-biz/commit/98a764cb70a8b202395544b1f6c87527854c1be3", "message": "Merge branch 'aha/make-parameters-great-again' into aha/archive-jobs", "committedDate": "2020-11-11T20:42:49Z", "type": "commit"}, {"oid": "ee4bea40e7ef6ffbb852b3f6ff11191b2d8d8fb5", "url": "https://github.com/scireum/sirius-biz/commit/ee4bea40e7ef6ffbb852b3f6ff11191b2d8d8fb5", "message": "Uses the new constants as provided by sirius-db.", "committedDate": "2020-11-11T21:02:09Z", "type": "commit"}, {"oid": "8016e7777932d2451ef8321f22af211dfe817ac9", "url": "https://github.com/scireum/sirius-biz/commit/8016e7777932d2451ef8321f22af211dfe817ac9", "message": "Makes the FileImportJob use the ArchiveExtractor and adds support for handling auxiliary files.", "committedDate": "2020-11-11T21:04:10Z", "type": "commit"}, {"oid": "774c048126fcc9d7b404b35daaafac5257d32652", "url": "https://github.com/scireum/sirius-biz/commit/774c048126fcc9d7b404b35daaafac5257d32652", "message": "Uses the new API as defined by the FileImportJob.", "committedDate": "2020-11-11T21:05:02Z", "type": "commit"}, {"oid": "8396fa50c19c57e074fe9c36094077649da33a09", "url": "https://github.com/scireum/sirius-biz/commit/8396fa50c19c57e074fe9c36094077649da33a09", "message": "Uses the new API as defined by FileImportJob.\n\nThis greatly simplifies the internal workings as it eliminates a whole\nbunch of duplicate code.", "committedDate": "2020-11-11T21:06:01Z", "type": "commit"}, {"oid": "fc230b5dc579281ba1d8feb62c5d9d4d6db496e1", "url": "https://github.com/scireum/sirius-biz/commit/fc230b5dc579281ba1d8feb62c5d9d4d6db496e1", "message": "Supports the new API as defined by FileImportJob and adds support to import all sheets of an excel file.", "committedDate": "2020-11-11T21:07:21Z", "type": "commit"}, {"oid": "e8d46aa792eba500cc06f0b6b9b23b5fd1bd2a9b", "url": "https://github.com/scireum/sirius-biz/commit/e8d46aa792eba500cc06f0b6b9b23b5fd1bd2a9b", "message": "Provides updated translations for the refactored jobs.", "committedDate": "2020-11-11T21:08:19Z", "type": "commit"}, {"oid": "6ac8f4a984357e4f952ee8b8ca326da207c8cdd4", "url": "https://github.com/scireum/sirius-biz/commit/6ac8f4a984357e4f952ee8b8ca326da207c8cdd4", "message": "Provides some cleanup for the ArchiveImportJob.", "committedDate": "2020-11-11T21:08:40Z", "type": "commit"}, {"oid": "e7b86eafd6eb0de75af377f1160013d81bf7038e", "url": "https://github.com/scireum/sirius-biz/commit/e7b86eafd6eb0de75af377f1160013d81bf7038e", "message": "Refactors the extract archive job.\n\nBy default we now overwrite files if a change is detected (SIRI-279) and also permit to delete\nthe archive once all files are extracted (SIRI-276).\n\nWe also reduced the logging quite a bit (which is still available in debug mode). Also we now\nrequire a destination to be given and no longer use the parent directory of the archive\nas fallback (as this provides quite a potential for trouble).", "committedDate": "2020-11-11T21:15:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTkzNjAzOQ==", "url": "https://github.com/scireum/sirius-biz/pull/906#discussion_r521936039", "body": "sourceParameter", "bodyText": "sourceParameter", "bodyHTML": "<p dir=\"auto\">sourceParameter</p>", "author": "mkeckmkeck", "createdAt": "2020-11-12T08:50:49Z", "path": "src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java", "diffHunk": "@@ -0,0 +1,200 @@\n+/*\n+ * Made with all the love in the world\n+ * by scireum in Remshalden, Germany\n+ *\n+ * Copyright by scireum GmbH\n+ * http://www.scireum.de - info@scireum.de\n+ */\n+\n+package sirius.biz.storage.layer3;\n+\n+import sirius.biz.jobs.batch.SimpleBatchProcessJobFactory;\n+import sirius.biz.jobs.params.BooleanParameter;\n+import sirius.biz.jobs.params.EnumParameter;\n+import sirius.biz.jobs.params.Parameter;\n+import sirius.biz.process.PersistencePeriod;\n+import sirius.biz.process.ProcessContext;\n+import sirius.biz.process.logs.ProcessLog;\n+import sirius.biz.storage.layer1.FileHandle;\n+import sirius.biz.util.ArchiveExtractor;\n+import sirius.biz.util.ExtractedFile;\n+import sirius.kernel.async.TaskContext;\n+import sirius.kernel.commons.Files;\n+import sirius.kernel.commons.Strings;\n+import sirius.kernel.commons.Watch;\n+import sirius.kernel.di.std.Part;\n+import sirius.kernel.di.std.Register;\n+import sirius.kernel.nls.NLS;\n+import sirius.web.http.QueryString;\n+\n+import javax.annotation.Nonnull;\n+import javax.annotation.Nullable;\n+import java.util.ArrayList;\n+import java.util.Map;\n+import java.util.function.Consumer;\n+\n+/**\n+ * Provides a job able to extract archives from the {@link VirtualFileSystem}.\n+ * <p>\n+ * This uses the {@link ArchiveExtractor} so depending if 7-ZIP is enabled this supports either a whole bunch\n+ * of formats (rar, 7z, tar etc.) or \"just\" ZIP files using the Java API.\n+ */\n+@Register\n+public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n+\n+    @Part\n+    private VirtualFileSystem vfs;\n+\n+    @Part\n+    private ArchiveExtractor extractor;\n+\n+    private final Parameter<VirtualFile> sourceParamter;", "originalCommit": "e7b86eafd6eb0de75af377f1160013d81bf7038e", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "f838bd1258a19e04e28060ea8ba7364a6739fde5", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex 84b2a2f0..4248f0b0 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -48,7 +48,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n     @Part\n     private ArchiveExtractor extractor;\n \n-    private final Parameter<VirtualFile> sourceParamter;\n+    private final Parameter<VirtualFile> sourceParameter;\n     private final Parameter<VirtualFile> destinationParameter;\n     private final Parameter<ArchiveExtractor.OverrideMode> overwriteExistingFilesParameter;\n     private final Parameter<Boolean> deleteArchiveParameter;\n", "next_change": null}]}, "revised_code_in_main": {"commit": "c22aec824b45e73e12ee8c9e982ae8d83f896f07", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex 84b2a2f01..4248f0b0a 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -48,7 +48,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n     @Part\n     private ArchiveExtractor extractor;\n \n-    private final Parameter<VirtualFile> sourceParamter;\n+    private final Parameter<VirtualFile> sourceParameter;\n     private final Parameter<VirtualFile> destinationParameter;\n     private final Parameter<ArchiveExtractor.OverrideMode> overwriteExistingFilesParameter;\n     private final Parameter<Boolean> deleteArchiveParameter;\n", "next_change": {"commit": "0209cbe88b7c894baba3962d279344aacba1d5e6", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex 4248f0b0a..2a841e07f 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -48,7 +48,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n     @Part\n     private ArchiveExtractor extractor;\n \n-    private final Parameter<VirtualFile> sourceParameter;\n+    private Parameter<VirtualFile> sourceParameter;\n     private final Parameter<VirtualFile> destinationParameter;\n     private final Parameter<ArchiveExtractor.OverrideMode> overwriteExistingFilesParameter;\n     private final Parameter<Boolean> deleteArchiveParameter;\n", "next_change": {"commit": "46acca8f98f7fdc72a704fd9e956e6d66c3c06b8", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex 2a841e07f..09e2f09f0 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -51,6 +51,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n     private Parameter<VirtualFile> sourceParameter;\n     private final Parameter<VirtualFile> destinationParameter;\n     private final Parameter<ArchiveExtractor.OverrideMode> overwriteExistingFilesParameter;\n+    private final Parameter<Boolean> flattenDirectoriesParameter;\n     private final Parameter<Boolean> deleteArchiveParameter;\n \n     /**\n", "next_change": {"commit": "f19e7ccd748e7657b8b0d5ddfb27644b195062f8", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex 09e2f09f0..d7a2585e6 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -60,11 +81,11 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n      * This constructor is primarily used to make the parameter instantiation more readable.\n      */\n     public ExtractArchiveJob() {\n-        this.destinationParameter =\n-                new DirectoryParameter(\"destination\", \"$ExtractArchiveJob.destinationParameter\").withDescription(\n-                        \"$ExtractArchiveJob.destinationParameter.help\").markRequired().build();\n+        this.destinationParameter = new DirectoryParameter(DESTINATION_PARAMETER_NAME,\n+                                                           \"$ExtractArchiveJob.destinationParameter\").withDescription(\n+                \"$ExtractArchiveJob.destinationParameter.help\").markRequired().build();\n \n-        this.overwriteExistingFilesParameter = new EnumParameter<>(\"overwriteExistingFiles\",\n+        this.overwriteExistingFilesParameter = new EnumParameter<>(OVERWRITE_EXISTING_FILES_PARAMETER_NAME,\n                                                                    \"$ExtractArchiveJob.overwriteExistingFilesParameter\",\n                                                                    ArchiveExtractor.OverrideMode.class).withDescription(\n                 \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n", "next_change": {"commit": "4c4b94ecfa8db1db661895d9852725b8c8d1c4b0", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex d7a2585e6..b0c71e701 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -88,7 +88,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n         this.overwriteExistingFilesParameter = new EnumParameter<>(OVERWRITE_EXISTING_FILES_PARAMETER_NAME,\n                                                                    \"$ExtractArchiveJob.overwriteExistingFilesParameter\",\n                                                                    ArchiveExtractor.OverrideMode.class).withDescription(\n-                \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n+                                                                                                               \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n                                                                                                        .withDefault(\n                                                                                                                ArchiveExtractor.OverrideMode.ON_CHANGE)\n                                                                                                        .build();\n", "next_change": {"commit": "57bd759fbf14fbee3c4cee3b0a500fc65039fc9a", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex b0c71e701..f48d803bf 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -88,7 +91,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n         this.overwriteExistingFilesParameter = new EnumParameter<>(OVERWRITE_EXISTING_FILES_PARAMETER_NAME,\n                                                                    \"$ExtractArchiveJob.overwriteExistingFilesParameter\",\n                                                                    ArchiveExtractor.OverrideMode.class).withDescription(\n-                                                                                                               \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n+                \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n                                                                                                        .withDefault(\n                                                                                                                ArchiveExtractor.OverrideMode.ON_CHANGE)\n                                                                                                        .build();\n", "next_change": {"commit": "0493c181eff5d29ae1c9821e26f2c4ba30526b34", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\nindex f48d803bf..8c7c69f89 100644\n--- a/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n+++ b/src/main/java/sirius/biz/storage/layer3/ExtractArchiveJob.java\n", "chunk": "@@ -91,7 +91,7 @@ public class ExtractArchiveJob extends SimpleBatchProcessJobFactory {\n         this.overwriteExistingFilesParameter = new EnumParameter<>(OVERWRITE_EXISTING_FILES_PARAMETER_NAME,\n                                                                    \"$ExtractArchiveJob.overwriteExistingFilesParameter\",\n                                                                    ArchiveExtractor.OverrideMode.class).withDescription(\n-                \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n+                                                                                                               \"$ExtractArchiveJob.overwriteExistingFilesParameter.help\")\n                                                                                                        .withDefault(\n                                                                                                                ArchiveExtractor.OverrideMode.ON_CHANGE)\n                                                                                                        .build();\n", "next_change": null}]}}]}}]}}]}}]}}]}}]}, "commits_in_main": [{"oid": "c22aec824b45e73e12ee8c9e982ae8d83f896f07", "message": "Merge commit", "committedDate": null}, {"oid": "0209cbe88b7c894baba3962d279344aacba1d5e6", "committedDate": "2020-11-16 15:19:10 +0100", "message": "Lazily initializes a parameter."}, {"oid": "d40dea2a16cff543db1d67763f1042b03bcb5b47", "committedDate": "2020-11-16 15:34:07 +0100", "message": "Uses an appropriate method name."}, {"oid": "46acca8f98f7fdc72a704fd9e956e6d66c3c06b8", "committedDate": "2020-11-23 15:09:59 +0100", "message": "Adds new parameter to ExtractArchiveJob to flatten dirs"}, {"oid": "a6cf244af912ac93c19d90aa2f174c0d3b8aa020", "committedDate": "2020-11-24 15:13:45 +0100", "message": "Simplifies shortening a path."}, {"oid": "f19e7ccd748e7657b8b0d5ddfb27644b195062f8", "committedDate": "2020-11-24 15:14:40 +0100", "message": "Provides a base class to provide a VFSRoot which automatically extracts files into a given destination."}, {"oid": "a04ff38debc50adae43f7e7ad47aa83967a71e48", "committedDate": "2021-03-02 17:13:37 +0100", "message": "Corrects NLS property name to actually see the progress while the extraction of bigger archives happens. Fixes: OX-6245"}, {"oid": "cbb2839370e9d65dc91a043083341092d2544750", "committedDate": "2021-03-07 21:53:07 +0100", "message": "Adds framework references where needed."}, {"oid": "3e0c4dc22070f80f83afcdcf593d3cbf368e18e6", "committedDate": "2021-03-29 10:29:08 +0200", "message": "Removes/ports calls to methods which have been deprecated by sirius-kernel."}, {"oid": "9620f75cc2f11d37b4f4bd18ffec56999340e40f", "committedDate": "2021-06-29 11:53:17 +0200", "message": "Logs and skips 0-byte file in archives"}, {"oid": "05d020648d883656101ca68ea7c351023d5d82f4", "committedDate": "2021-06-29 12:59:35 +0200", "message": "Simplifies logic"}, {"oid": "f1851da67335b48cb67671b7da5168a2171790b8", "committedDate": "2021-07-16 19:10:49 +0200", "message": "Applies sonarlint and IntelliJ inspection fixes."}, {"oid": "4c4b94ecfa8db1db661895d9852725b8c8d1c4b0", "committedDate": "2021-10-13 22:04:59 +0200", "message": "Code cleanup."}, {"oid": "85d72f25a5c1ff1a1772c193a6a1a8e2d172d53a", "committedDate": "2021-11-16 16:02:45 +0100", "message": "No longer creates Extracted7ZFile if the currentBuffer is null. This lead to NPEs before."}, {"oid": "95b21bcf96f4484fd32814895a19a9621c273bbb", "committedDate": "2021-11-16 16:11:29 +0100", "message": "Checks if the file is empty before accessing its fields"}, {"oid": "da7211b004e5569945d8d91846cc68481f235aaf", "committedDate": "2021-11-16 16:13:44 +0100", "message": "Introduces constant (SonarLint)"}, {"oid": "0a1dafbdfc3b8430f3235d2cf1b23b38d5326429", "committedDate": "2021-11-16 16:40:09 +0100", "message": "Passes the timing labels directly to have them translated dynamically"}, {"oid": "57bd759fbf14fbee3c4cee3b0a500fc65039fc9a", "committedDate": "2021-11-18 14:45:33 +0100", "message": "Logs empty files seperated from skipped files when extracting"}, {"oid": "a18159dd24f145090b3e194cadcb998dd603c7ec", "committedDate": "2021-11-19 10:46:40 +0100", "message": "Fixes typo"}, {"oid": "1a12120cec037c8390e8603fc1ca8ec33db3066f", "committedDate": "2022-02-01 12:26:46 +0100", "message": "fix a method callback and a bunch of typos in javadocs"}, {"oid": "0493c181eff5d29ae1c9821e26f2c4ba30526b34", "committedDate": "2022-03-09 18:50:40 +0100", "message": "Code format / JavaDoc typos."}, {"oid": "237474d8c6dabe251ee706da7afb323a93b79abd", "committedDate": "2022-03-09 18:53:32 +0100", "message": "Makes the destination parameter of the ZIP extract job optional."}, {"oid": "922a53a19b08868d0c1d65548ed758f4e79afcc9", "committedDate": "2022-07-29 15:12:12 +0200", "message": "Simplify the file parameters"}, {"oid": "0524ca9396fa67a28aa2661de6d3c4d3155a4a4e", "committedDate": "2022-08-01 17:56:09 +0200", "message": "Fix some fontawesome icons that changed name with update to version 5"}, {"oid": "e18a91973d886db0524b3dce12d43ca3a391b700", "committedDate": "2022-08-04 14:41:46 +0200", "message": "Make the file parameter \"file only\" by default"}, {"oid": "47a7a536d71b837f7c25b70d507461ade260f0b3", "committedDate": "2022-08-25 13:39:11 +0200", "message": "Selects proper categories for jobs provided by SIRIUS."}, {"oid": "4094931a4e08f34f3a7d7b7153edd4ac3c6654c4", "committedDate": "2022-09-01 02:24:24 +0200", "message": "Rename StandardJobCategories -> StandardCategories."}, {"oid": "d62b2ed54053801ae4e95e9324e3ff459f00e0f9", "committedDate": "2022-09-14 23:36:57 +0200", "message": "Properly sorts all provided jobs and charts."}, {"oid": "e7f7f461d70f161d51a609e094757b0e99931f11", "committedDate": "2022-11-22 16:12:55 +0100", "message": "Adds Basepath to ExtractArchiveJob"}]}, {"oid": "26781b29a991845de401bcc27510d029f047a174", "url": "https://github.com/scireum/sirius-biz/commit/26781b29a991845de401bcc27510d029f047a174", "message": "Merge remote-tracking branch 'origin/master' into aha/archive-jobs\n\n# Conflicts:\n#\tsrc/main/java/sirius/biz/jobs/batch/file/VirtualFileExtractionJob.java", "committedDate": "2020-11-12T14:52:57Z", "type": "commit"}, {"oid": "f838bd1258a19e04e28060ea8ba7364a6739fde5", "url": "https://github.com/scireum/sirius-biz/commit/f838bd1258a19e04e28060ea8ba7364a6739fde5", "message": "Fixes a typo.", "committedDate": "2020-11-12T14:54:11Z", "type": "commit"}, {"oid": "f693066045e7c968fcabca60d5df6ace8e683d7a", "url": "https://github.com/scireum/sirius-biz/commit/f693066045e7c968fcabca60d5df6ace8e683d7a", "message": "Improves JavaDocs.", "committedDate": "2020-11-12T14:56:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjE4NTc3Ng==", "url": "https://github.com/scireum/sirius-biz/pull/906#discussion_r522185776", "body": "vfs -> fileSystem?", "bodyText": "vfs -> fileSystem?", "bodyHTML": "<p dir=\"auto\">vfs -&gt; fileSystem?</p>", "author": "sabieber", "createdAt": "2020-11-12T15:19:09Z", "path": "src/main/java/sirius/biz/jobs/batch/file/FileImportJob.java", "diffHunk": "@@ -42,7 +50,48 @@\n      */\n     public static final Parameter<VirtualFile> FILE_PARAMETER = createFileParameter(null);\n \n+    /**\n+     * Determines the mode in which auxiliary files are handled (if this job supports it).\n+     */\n+    public static final Parameter<AuxiliaryFileMode> AUX_FILE_MODE_PARAMETER = new EnumParameter<>(\"auxFileMode\",\n+                                                                                                   \"$FileImportJobFactory.auxFileMode\",\n+                                                                                                   AuxiliaryFileMode.class)\n+            .withDefault(AuxiliaryFileMode.UPDATE_ON_CHANGE)\n+            .markRequired()\n+            .build();\n+\n+    @Part\n+    private static VirtualFileSystem vfs;", "originalCommit": "8016e7777932d2451ef8321f22af211dfe817ac9", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "98ae7ce3d33d9850e5b10e05d3f485466c5ec0ec", "changed_code": [{"header": "diff --git a/src/main/java/sirius/biz/jobs/batch/file/FileImportJob.java b/src/main/java/sirius/biz/jobs/batch/file/FileImportJob.java\nindex 02bfac38..d8901a27 100644\n--- a/src/main/java/sirius/biz/jobs/batch/file/FileImportJob.java\n+++ b/src/main/java/sirius/biz/jobs/batch/file/FileImportJob.java\n", "chunk": "@@ -61,7 +61,7 @@ public abstract class FileImportJob extends ImportJob {\n             .build();\n \n     @Part\n-    private static VirtualFileSystem vfs;\n+    private static VirtualFileSystem virtualFileSystem;\n \n     @Part\n     private static ArchiveExtractor extractor;\n", "next_change": null}]}}, {"oid": "98ae7ce3d33d9850e5b10e05d3f485466c5ec0ec", "url": "https://github.com/scireum/sirius-biz/commit/98ae7ce3d33d9850e5b10e05d3f485466c5ec0ec", "message": "Code style.", "committedDate": "2020-11-12T15:35:04Z", "type": "commit"}]}