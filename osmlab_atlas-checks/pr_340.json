{"pr_number": 340, "pr_title": "Updated check instructions with OSM IDs", "pr_author": "maraarae", "pr_createdAt": "2020-08-17T18:15:07Z", "pr_url": "https://github.com/osmlab/atlas-checks/pull/340", "timeline": [{"oid": "2ae13b7023104315c3ecb19db1dd7988525c4783", "url": "https://github.com/osmlab/atlas-checks/commit/2ae13b7023104315c3ecb19db1dd7988525c4783", "message": "Updated check instructions with OSM IDs", "committedDate": "2020-08-17T18:10:44Z", "type": "commit"}, {"oid": "cb174a675334f7019e40262f8583b9d4c1626670", "url": "https://github.com/osmlab/atlas-checks/commit/cb174a675334f7019e40262f8583b9d4c1626670", "message": "Resolved spotlessJava violations", "committedDate": "2020-08-17T18:27:28Z", "type": "commit"}, {"oid": "706cf515a5fd083ba146a7789da8c10761cb30fe", "url": "https://github.com/osmlab/atlas-checks/commit/706cf515a5fd083ba146a7789da8c10761cb30fe", "message": "Updated DuplicateLocationInPolyLineCheck instructions with OSM ID", "committedDate": "2020-08-25T20:04:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMzM5NQ==", "url": "https://github.com/osmlab/atlas-checks/pull/340#discussion_r485213395", "body": "This list also might need to use OSM IDs. That would need to be ubdated in `getIdentifiers`.", "bodyText": "This list also might need to use OSM IDs. That would need to be ubdated in getIdentifiers.", "bodyHTML": "<p dir=\"auto\">This list also might need to use OSM IDs. That would need to be ubdated in <code>getIdentifiers</code>.</p>", "author": "Bentleysb", "createdAt": "2020-09-08T21:44:42Z", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java", "diffHunk": "@@ -231,9 +231,9 @@ else if (roundAboutInEdgeToOutEdgeMap != null)\n         final List<String> identifiers = this.getIdentifiers(entitiesToBeFlagged);", "originalCommit": "706cf515a5fd083ba146a7789da8c10761cb30fe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e89c99ed503a5fad045a91338cb3eb15313a55d1", "changed_code": [{"header": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\nindex bc79b65..2c8d00e 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n", "chunk": "@@ -228,7 +228,7 @@ public class AtGradeSignPostCheck extends BaseCheck<String>\n             return Optional.empty();\n         }\n         final Set<AtlasEntity> entitiesToBeFlagged = flaggedIntersection.getFlaggedItems();\n-        final List<String> identifiers = this.getIdentifiers(entitiesToBeFlagged);\n+        final List<String> identifiers = this.getUniqueOSMIdentifier(entitiesToBeFlagged);\n         entitiesToBeFlagged.add(intersectingNode);\n         this.markAsFlagged(String.valueOf(intersectingNode.getIdentifier()));\n         return Optional.of(this.createFlag(entitiesToBeFlagged,\n", "next_change": {"commit": "ee559ef6d09a6fcfa41c54b80024e9be39589a52", "changed_code": [{"header": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\nindex 2c8d00e..cb056e2 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n", "chunk": "@@ -228,7 +228,7 @@ public class AtGradeSignPostCheck extends BaseCheck<String>\n             return Optional.empty();\n         }\n         final Set<AtlasEntity> entitiesToBeFlagged = flaggedIntersection.getFlaggedItems();\n-        final List<String> identifiers = this.getUniqueOSMIdentifier(entitiesToBeFlagged);\n+        final List<String> identifiers = this.getOSMIdentifiers(entitiesToBeFlagged);\n         entitiesToBeFlagged.add(intersectingNode);\n         this.markAsFlagged(String.valueOf(intersectingNode.getIdentifier()));\n         return Optional.of(this.createFlag(entitiesToBeFlagged,\n", "next_change": {"commit": "82c521bda919dd46225ec1d86bd713d5c6c686ee", "changed_code": [{"header": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\nindex cb056e2..bc79b65 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/AtGradeSignPostCheck.java\n", "chunk": "@@ -228,7 +228,7 @@ public class AtGradeSignPostCheck extends BaseCheck<String>\n             return Optional.empty();\n         }\n         final Set<AtlasEntity> entitiesToBeFlagged = flaggedIntersection.getFlaggedItems();\n-        final List<String> identifiers = this.getOSMIdentifiers(entitiesToBeFlagged);\n+        final List<String> identifiers = this.getIdentifiers(entitiesToBeFlagged);\n         entitiesToBeFlagged.add(intersectingNode);\n         this.markAsFlagged(String.valueOf(intersectingNode.getIdentifier()));\n         return Optional.of(this.createFlag(entitiesToBeFlagged,\n", "next_change": null}]}}]}}]}}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTIxMzg1Mw==", "url": "https://github.com/osmlab/atlas-checks/pull/340#discussion_r485213853", "body": "```suggestion\r\n                        .map(AtlasObject::getOsmIdentifier).collect(Collectors.toList())));\r\n```", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    .map(AtlasObject::getIdentifier).collect(Collectors.toList())));\n          \n          \n            \n                                    .map(AtlasObject::getOsmIdentifier).collect(Collectors.toList())));", "bodyHTML": "  <div class=\"my-2 border rounded-1 js-suggested-changes-blob diff-view js-check-bidi\" id=\"\">\n    <div class=\"f6 p-2 lh-condensed border-bottom d-flex\">\n      <div class=\"flex-auto flex-items-center color-fg-muted\">\n        Suggested change\n        <span class=\"tooltipped tooltipped-multiline tooltipped-s\" aria-label=\"This code change can be committed by users with write permissions.\">\n          <svg aria-hidden=\"true\" height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" class=\"octicon octicon-info hide-sm\">\n    <path fill-rule=\"evenodd\" d=\"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z\"></path>\n</svg>\n        </span>\n      </div>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper data file\" style=\"margin: 0; border: none; overflow-y: visible; overflow-x: auto;\">\n      <table class=\"d-table tab-size mb-0 width-full\" data-paste-markdown-skip=\"\">\n          <tbody><tr class=\"border-0\">\n            <td class=\"blob-num blob-num-deletion text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-deletion js-blob-code-deletion blob-code-marker-deletion\">                        .map(<span class=\"pl-smi\">AtlasObject</span><span class=\"pl-k\">::</span><span class=\"x x-first x-last\">getIdentifier</span>)<span class=\"pl-k\">.</span>collect(<span class=\"pl-smi\">Collectors</span><span class=\"pl-k\">.</span>toList())));</td>\n          </tr>\n          <tr class=\"border-0\">\n            <td class=\"blob-num blob-num-addition text-right border-0 px-2 py-1 lh-default\" data-line-number=\"\"></td>\n            <td class=\"border-0 px-2 py-1 blob-code-inner blob-code-addition js-blob-code-addition blob-code-marker-addition\">                        .map(<span class=\"pl-smi\">AtlasObject</span><span class=\"pl-k\">::</span><span class=\"x x-first x-last\">getOsmIdentifier</span>)<span class=\"pl-k\">.</span>collect(<span class=\"pl-smi\">Collectors</span><span class=\"pl-k\">.</span>toList())));</td>\n          </tr>\n      </tbody></table>\n    </div>\n    <div class=\"js-apply-changes\"></div>\n  </div>\n", "author": "Bentleysb", "createdAt": "2020-09-08T21:45:42Z", "path": "src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java", "diffHunk": "@@ -170,8 +170,9 @@ public boolean validCheckForObject(final AtlasObject object)\n                 .filter(crossEdge -> crossEdge.getIdentifier() != edge.getIdentifier())\n                 .flatMap(crossEdge -> getIntersection(edge, crossEdge).stream())\n                 .collect(Collectors.toSet());\n-        newFlag.addInstruction(this.getLocalizedInstruction(0, edge.getIdentifier(), collectedEdges\n-                .stream().map(AtlasObject::getIdentifier).collect(Collectors.toList())));\n+        newFlag.addInstruction(\n+                this.getLocalizedInstruction(0, edge.getOsmIdentifier(), collectedEdges.stream()\n+                        .map(AtlasObject::getIdentifier).collect(Collectors.toList())));", "originalCommit": "706cf515a5fd083ba146a7789da8c10761cb30fe", "replyToReviewId": null, "replies": null, "type": "inlineReview", "revised_code": {"commit": "e89c99ed503a5fad045a91338cb3eb15313a55d1", "changed_code": [{"header": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\nindex 842bac4..581007d 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\n", "chunk": "@@ -172,7 +172,7 @@ public class EdgeCrossingEdgeCheck extends BaseCheck<Long>\n                 .collect(Collectors.toSet());\n         newFlag.addInstruction(\n                 this.getLocalizedInstruction(0, edge.getOsmIdentifier(), collectedEdges.stream()\n-                        .map(AtlasObject::getIdentifier).collect(Collectors.toList())));\n+                        .map(AtlasObject::getOsmIdentifier).collect(Collectors.toList())));\n         newFlag.addPoints(points);\n         newFlag.addObject(edge);\n         return Optional.of(newFlag);\n", "next_change": {"commit": "114c7b8874c6ceb2ee4709f148762d3e0d186046", "changed_code": [{"header": "diff --git a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\nindex 581007d..1dcd9e2 100644\n--- a/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\n+++ b/src/main/java/org/openstreetmap/atlas/checks/validation/intersections/EdgeCrossingEdgeCheck.java\n", "chunk": "@@ -180,7 +180,7 @@ public class EdgeCrossingEdgeCheck extends BaseCheck<Long>\n \n     /**\n      * This function returns set of intersections locations for given params.\n-     * \n+     *\n      * @param edge1\n      *            Atlas object\n      * @param edge2\n", "next_change": null}]}}]}}, {"oid": "e89c99ed503a5fad045a91338cb3eb15313a55d1", "url": "https://github.com/osmlab/atlas-checks/commit/e89c99ed503a5fad045a91338cb3eb15313a55d1", "message": "Revised code changes in AtGradeSignPostCheck and EdgeCrossingEdgeCheck", "committedDate": "2020-09-08T22:38:33Z", "type": "commit"}, {"oid": "ee559ef6d09a6fcfa41c54b80024e9be39589a52", "url": "https://github.com/osmlab/atlas-checks/commit/ee559ef6d09a6fcfa41c54b80024e9be39589a52", "message": "Resolving typo", "committedDate": "2020-09-08T22:43:16Z", "type": "commit"}, {"oid": "82c521bda919dd46225ec1d86bd713d5c6c686ee", "url": "https://github.com/osmlab/atlas-checks/commit/82c521bda919dd46225ec1d86bd713d5c6c686ee", "message": "Fixing AtGradeSignPostCheck typos", "committedDate": "2020-09-08T22:45:07Z", "type": "commit"}, {"oid": "fdd008545e2b948de4a57cde4c39e37dafe5ac80", "url": "https://github.com/osmlab/atlas-checks/commit/fdd008545e2b948de4a57cde4c39e37dafe5ac80", "message": "Updated AtGradeSignPostCheck", "committedDate": "2020-09-08T22:48:38Z", "type": "commit"}, {"oid": "114c7b8874c6ceb2ee4709f148762d3e0d186046", "url": "https://github.com/osmlab/atlas-checks/commit/114c7b8874c6ceb2ee4709f148762d3e0d186046", "message": "Fix EdgeCrossingEdgeCheck formatting", "committedDate": "2020-09-09T16:54:08Z", "type": "commit"}, {"oid": "0b3fc666e0d85aabc026d240c7f46c913f0eacd0", "url": "https://github.com/osmlab/atlas-checks/commit/0b3fc666e0d85aabc026d240c7f46c913f0eacd0", "message": "Fix EdgeCrossingEdgeCheck Checkstyle violation", "committedDate": "2020-09-09T17:01:33Z", "type": "commit"}, {"oid": "59e24db3f0ff2364dc9802e2a5185ca1b9d245ab", "url": "https://github.com/osmlab/atlas-checks/commit/59e24db3f0ff2364dc9802e2a5185ca1b9d245ab", "message": "Fix EdgeCrossingEdgeCheck format violations", "committedDate": "2020-09-09T17:11:34Z", "type": "commit"}]}