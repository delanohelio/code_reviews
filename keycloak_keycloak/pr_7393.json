{"pr_number": 7393, "pr_title": "KEYCLOAK-15395. Removed unnecessary Account REST API endpoints", "pr_author": "miquelsi", "pr_createdAt": "2020-09-04T09:27:30Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7393", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkzODkyNQ==", "url": "https://github.com/keycloak/keycloak/pull/7393#discussion_r485938925", "body": "We have some unused imports which are safe to remove like:\r\n\r\n```\r\nimport org.keycloak.credential.PasswordCredentialProvider;\r\nimport org.keycloak.credential.PasswordCredentialProviderFactory;\r\nimport org.keycloak.events.EventType;\r\nimport javax.ws.rs.POST;\r\n```\r\n\r\nAlso, please remove:\r\n```\r\nprivate final EventBuilder event;\r\n```", "bodyText": "We have some unused imports which are safe to remove like:\nimport org.keycloak.credential.PasswordCredentialProvider;\nimport org.keycloak.credential.PasswordCredentialProviderFactory;\nimport org.keycloak.events.EventType;\nimport javax.ws.rs.POST;\n\nAlso, please remove:\nprivate final EventBuilder event;", "bodyHTML": "<p dir=\"auto\">We have some unused imports which are safe to remove like:</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"import org.keycloak.credential.PasswordCredentialProvider;\nimport org.keycloak.credential.PasswordCredentialProviderFactory;\nimport org.keycloak.events.EventType;\nimport javax.ws.rs.POST;\n\"><pre><code>import org.keycloak.credential.PasswordCredentialProvider;\nimport org.keycloak.credential.PasswordCredentialProviderFactory;\nimport org.keycloak.events.EventType;\nimport javax.ws.rs.POST;\n</code></pre></div>\n<p dir=\"auto\">Also, please remove:</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"private final EventBuilder event;\n\"><pre><code>private final EventBuilder event;\n</code></pre></div>", "author": "abstractj", "createdAt": "2020-09-09T21:43:37Z", "path": "services/src/main/java/org/keycloak/services/resources/account/AccountCredentialResource.java", "diffHunk": "@@ -341,116 +341,4 @@ public void setLabel(final @PathParam(\"credentialId\") String credentialId, Strin\n //        session.userCredentialManager().moveCredentialTo(realm, user, credentialId, newPreviousCredentialId);\n //    }\n ", "originalCommit": "17b915bb00741c68a368e0b89739968d3eccfb62", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA5MTgxNw==", "url": "https://github.com/keycloak/keycloak/pull/7393#discussion_r486091817", "bodyText": "Good catch. Thanks, I removed that.", "author": "miquelsi", "createdAt": "2020-09-10T06:21:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTkzODkyNQ=="}], "type": "inlineReview"}, {"oid": "555964bd8573fd533c79a2dd4de26eb6f64c0e14", "url": "https://github.com/keycloak/keycloak/commit/555964bd8573fd533c79a2dd4de26eb6f64c0e14", "message": "KEYCLOAK-15395. Removed totp/remove (DELETE) and credentials/password (GET, POST) endpoints.", "committedDate": "2020-09-10T06:19:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI1NzUzNw==", "url": "https://github.com/keycloak/keycloak/pull/7393#discussion_r486257537", "body": "Just a very small nit pick.\r\n```java\r\nimport org.keycloak.credential.CredentialModel;\r\n```\r\nis also unused now.", "bodyText": "Just a very small nit pick.\nimport org.keycloak.credential.CredentialModel;\nis also unused now.", "bodyHTML": "<p dir=\"auto\">Just a very small nit pick.</p>\n<div class=\"highlight highlight-source-java position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"import org.keycloak.credential.CredentialModel;\n\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-smi\">org.keycloak.credential.CredentialModel</span>;</pre></div>\n<p dir=\"auto\">is also unused now.</p>", "author": "vmuzikar", "createdAt": "2020-09-10T11:17:19Z", "path": "services/src/main/java/org/keycloak/services/resources/account/AccountRestService.java", "diffHunk": "@@ -395,17 +395,6 @@ public Response updateConsent(final @PathParam(\"clientId\") String clientId,\n                                   final ConsentRepresentation consent) {\n         return upsert(clientId, consent);\n     }\n-    \n-    @Path(\"/totp/remove\")\n-    @DELETE\n-    public Response removeTOTP() {\n-        auth.require(AccountRoles.MANAGE_ACCOUNT);\n-        \n-        session.userCredentialManager().disableCredentialType(realm, user, CredentialModel.OTP);", "originalCommit": "555964bd8573fd533c79a2dd4de26eb6f64c0e14", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI3NjMwNA==", "url": "https://github.com/keycloak/keycloak/pull/7393#discussion_r486276304", "bodyText": "Easy to fix, so I removed it :-)", "author": "miquelsi", "createdAt": "2020-09-10T11:53:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI1NzUzNw=="}], "type": "inlineReview"}, {"oid": "e6a868c20ea5c4f421bb3652f122181701490d12", "url": "https://github.com/keycloak/keycloak/commit/e6a868c20ea5c4f421bb3652f122181701490d12", "message": "KEYCLOAK-15395. Removed totp/remove (DELETE) and credentials/password (GET, POST) endpoints.", "committedDate": "2020-09-10T11:52:43Z", "type": "commit"}, {"oid": "e6a868c20ea5c4f421bb3652f122181701490d12", "url": "https://github.com/keycloak/keycloak/commit/e6a868c20ea5c4f421bb3652f122181701490d12", "message": "KEYCLOAK-15395. Removed totp/remove (DELETE) and credentials/password (GET, POST) endpoints.", "committedDate": "2020-09-10T11:52:43Z", "type": "forcePushed"}]}