<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/github.min.css" />
  <!--diff2html-css-->
  <!--diff2html-js-ui-->
  <link rel="stylesheet" href="https://rawcdn.githack.com/jasonm23/markdown-css-themes/a2b4fd6d5627e4536a789b1feb46d94cd841f164/markdown.css" />
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const targetElement = document.getElementById('diff');
      const diff2htmlUi = new Diff2HtmlUI(targetElement);
      diff2html-fileListToggle
      //diff2html-synchronisedScroll
      //diff2html-highlightCode
    });
  </script>
  <style>
    body {
      width: 90%;
      max-width: unset;
    }
    pre code {
      display: block;
      background: #E8E8E8;
      font-size: small;
      white-space: pre;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      max-width: 100%;
      min-width: 100px;
      max-height: 250px;
      padding: 0;
    }
  </style>
</head>

<body>
<h2>gluonhq/substrate - PR 814</h2>
<p><strong>Title</strong>: Add WebView support to iOS and Android</p>
<h3>Code Review</h3>
<p>Inline Review ID - <a href="https://github.com/gluonhq/substrate/pull/814#discussion_r509668715">MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY2ODcxNQ==</a></p>
<p>Original Commit - <a href="https://github.com/gluonhq/substrate/commit/6e0e8615ed178e73419c8004c943bab10bc2bce5">6e0e8615ed178e73419c8004c943bab10bc2bce5</a></p>
<pre><code>src/main/resources/native/android/android_project/app/src/main/java/com/gluonhq/helloandroid/NativeWebView.java

@@ -0,0 +1,252 @@
+/*
+ * Copyright (c) 2020, Gluon
+ *
+ * This program is free software: you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation, either version 3 of the License, or
+ * (at your option) any later version.
+
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED. IN NO EVENT SHALL GLUON BE LIABLE FOR ANY
+ * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ */
+package com.gluonhq.helloandroid;
+
+import android.graphics.Bitmap;
+import android.net.http.SslError;
+import android.os.Build;
+import android.support.annotation.RequiresApi;
+import android.util.Log;
+import android.view.Gravity;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.FrameLayout;
+import android.webkit.SslErrorHandler;
+import android.webkit.ValueCallback;
+import android.webkit.WebChromeClient;
+import android.webkit.WebResourceError;
+import android.webkit.WebResourceRequest;
+import android.webkit.WebResourceResponse;
+import android.webkit.WebSettings;
+import android.webkit.WebView;
+import android.webkit.WebViewClient;
+
+import java.io.StringReader;
+import java.util.Properties;
+import java.util.concurrent.CountDownLatch;
+
+public class NativeWebView {
+
+    private static final String TAG     = &quot;GraalActivity&quot;;
+
+    private static MainActivity instance;
+    private WebView webView;
+    private boolean inlayout = false;
+    private boolean layoutStarted = false;
+    private double width = 0;
+    private double height = 0;
+    private int x = 0;
+    private int y = 0;
+    private boolean visible = true;
+    private String scriptResult;
+
+    public NativeWebView() {
+        Log.v(TAG, &quot;NATIVEWEBVIEW constructor starts&quot;);
+        instance = MainActivity.getInstance();</code></pre>
<blockquote>
<p><strong>eugener</strong>: Codacy found an issue: Possible unsafe assignment to a non-final static field in a constructor.</p>
</blockquote>
<h3>Improved Code</h3>
<p>Not found</p>

<div id="diff">
  <!--diff2html-diff-->
</div>

</body>

</html>
