{"pr_number": 1276, "pr_title": "HDDS-4046. Extensible subcommands for CLI applications", "pr_author": "elek", "pr_createdAt": "2020-07-30T13:36:44Z", "pr_url": "https://github.com/apache/ozone/pull/1276", "timeline": [{"oid": "32901fa880412b575b4105a3aad52468eae4b768", "url": "https://github.com/apache/ozone/commit/32901fa880412b575b4105a3aad52468eae4b768", "message": "extension", "committedDate": "2020-07-25T19:50:44Z", "type": "commit"}, {"oid": "2a4af33dcf132fecb08e177d9b20073f99fe324c", "url": "https://github.com/apache/ozone/commit/2a4af33dcf132fecb08e177d9b20073f99fe324c", "message": "Merge remote-tracking branch 'origin/master' into extensible-api", "committedDate": "2020-07-27T07:40:34Z", "type": "commit"}, {"oid": "8cc584a9015baddf51e9586bfecc779f9a5383d8", "url": "https://github.com/apache/ozone/commit/8cc584a9015baddf51e9586bfecc779f9a5383d8", "message": "fix ozone shell extension points", "committedDate": "2020-07-27T08:03:12Z", "type": "commit"}, {"oid": "9b5fea75949deb66e7aaad7c3553b54f9e6b54ef", "url": "https://github.com/apache/ozone/commit/9b5fea75949deb66e7aaad7c3553b54f9e6b54ef", "message": "fix ldb", "committedDate": "2020-07-27T08:51:45Z", "type": "commit"}, {"oid": "4ef9b6df12aa97c063aec476c010faa60be3dadd", "url": "https://github.com/apache/ozone/commit/4ef9b6df12aa97c063aec476c010faa60be3dadd", "message": "fix checkstyle and token command", "committedDate": "2020-07-30T12:19:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM1MjkyMA==", "url": "https://github.com/apache/ozone/pull/1276#discussion_r464352920", "body": "Won't we need\r\n\r\n```\r\n@MetaInfServices(SubcommandWithParent.class)\r\n```\r\n\r\ntoo?\r\n\r\nCurrently `OMAdmin` is added to `OzoneAdmin` from the parent, so it's not a problem.  (#1285 will allow inverting subcommand registration for `OzoneAdmin`, too.)", "bodyText": "Won't we need\n@MetaInfServices(SubcommandWithParent.class)\n\ntoo?\nCurrently OMAdmin is added to OzoneAdmin from the parent, so it's not a problem.  (#1285 will allow inverting subcommand registration for OzoneAdmin, too.)", "bodyHTML": "<p dir=\"auto\">Won't we need</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"@MetaInfServices(SubcommandWithParent.class)\n\"><pre><code>@MetaInfServices(SubcommandWithParent.class)\n</code></pre></div>\n<p dir=\"auto\">too?</p>\n<p dir=\"auto\">Currently <code>OMAdmin</code> is added to <code>OzoneAdmin</code> from the parent, so it's not a problem.  (<a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"671974238\" data-permission-text=\"Title is private\" data-url=\"https://github.com/apache/ozone/issues/1285\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/apache/ozone/pull/1285/hovercard\" href=\"https://github.com/apache/ozone/pull/1285\">#1285</a> will allow inverting subcommand registration for <code>OzoneAdmin</code>, too.)</p>", "author": "adoroszlai", "createdAt": "2020-08-03T11:24:59Z", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/admin/om/OMAdmin.java", "diffHunk": "@@ -50,7 +51,7 @@\n     subcommands = {\n         GetServiceRolesSubcommand.class\n     })\n-public class OMAdmin extends GenericCli {\n+public class OMAdmin extends GenericCli implements SubcommandWithParent {", "originalCommit": "4ef9b6df12aa97c063aec476c010faa60be3dadd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzk2OTM5OQ==", "url": "https://github.com/apache/ozone/pull/1276#discussion_r467969399", "bodyText": "Yes, it's missing. \ud83e\udd85 \ud83d\udc41\ufe0f \ud83c\udfc6\nAlso, I can remove the OmAdmin from the annotations of OzoneAdmin. (Fortunately annotations and subcommands added programmatically can work together).", "author": "elek", "createdAt": "2020-08-10T15:05:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM1MjkyMA=="}], "type": "inlineReview"}, {"oid": "5568f13c1be730b1feafcf37e20146bbc91a7adc", "url": "https://github.com/apache/ozone/commit/5568f13c1be730b1feafcf37e20146bbc91a7adc", "message": "fix OmAdmin annotation", "committedDate": "2020-08-10T15:02:14Z", "type": "commit"}]}