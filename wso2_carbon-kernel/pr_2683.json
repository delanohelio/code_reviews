{"pr_number": 2683, "pr_title": "Fix NPE", "pr_author": "nilasini", "pr_createdAt": "2020-05-04T04:07:16Z", "pr_url": "https://github.com/wso2/carbon-kernel/pull/2683", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIxNzEzOA==", "url": "https://github.com/wso2/carbon-kernel/pull/2683#discussion_r419217138", "body": "This will return an immutable map. Use new HashMap<> instead.", "bodyText": "This will return an immutable map. Use new HashMap<> instead.", "bodyHTML": "<p dir=\"auto\">This will return an immutable map. Use new HashMap&lt;&gt; instead.</p>", "author": "IsuraD", "createdAt": "2020-05-04T05:17:25Z", "path": "core/org.wso2.carbon.user.api/src/main/java/org/wso2/carbon/user/api/Tenant.java", "diffHunk": "@@ -222,6 +223,9 @@ public void setAdminUserId(String adminUserId) {\n \n     public Map<String, String> getClaimsMap() {\n \n+        if (claimsMap == null) {", "originalCommit": "4ca1672396102c31ab8f6345f1c9ad33afb5f8de", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "646b3a03a02504838e386646e054d385afc9b322", "url": "https://github.com/wso2/carbon-kernel/commit/646b3a03a02504838e386646e054d385afc9b322", "message": "Fix NPE", "committedDate": "2020-05-04T05:29:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTIyMTI5Mg==", "url": "https://github.com/wso2/carbon-kernel/pull/2683#discussion_r419221292", "body": "This also can lead some problems, if someone get the map and add an entry..\r\n\r\nBetter fix this in variable declaration level. So. it won't be null anyway.. \r\n\r\n    private Map<String, String> claimsMap = new HashMap<>();", "bodyText": "This also can lead some problems, if someone get the map and add an entry..\nBetter fix this in variable declaration level. So. it won't be null anyway..\nprivate Map<String, String> claimsMap = new HashMap<>();", "bodyHTML": "<p dir=\"auto\">This also can lead some problems, if someone get the map and add an entry..</p>\n<p dir=\"auto\">Better fix this in variable declaration level. So. it won't be null anyway..</p>\n<div class=\"snippet-clipboard-content position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"private Map&lt;String, String&gt; claimsMap = new HashMap&lt;&gt;();\"><pre><code>private Map&lt;String, String&gt; claimsMap = new HashMap&lt;&gt;();\n</code></pre></div>", "author": "IsuraD", "createdAt": "2020-05-04T05:40:30Z", "path": "core/org.wso2.carbon.user.api/src/main/java/org/wso2/carbon/user/api/Tenant.java", "diffHunk": "@@ -222,6 +224,9 @@ public void setAdminUserId(String adminUserId) {\n \n     public Map<String, String> getClaimsMap() {\n \n+        if (claimsMap == null) {\n+            return new HashMap<>();", "originalCommit": "646b3a03a02504838e386646e054d385afc9b322", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "01b0fb0d6734619287fcf20e718a2b18566d8e69", "url": "https://github.com/wso2/carbon-kernel/commit/01b0fb0d6734619287fcf20e718a2b18566d8e69", "message": "Fix NPE", "committedDate": "2020-05-04T05:54:24Z", "type": "forcePushed"}, {"oid": "88446484a204b5e93b66784e98c1cfb8672bb096", "url": "https://github.com/wso2/carbon-kernel/commit/88446484a204b5e93b66784e98c1cfb8672bb096", "message": "Fix NPE", "committedDate": "2020-05-04T05:56:08Z", "type": "commit"}, {"oid": "88446484a204b5e93b66784e98c1cfb8672bb096", "url": "https://github.com/wso2/carbon-kernel/commit/88446484a204b5e93b66784e98c1cfb8672bb096", "message": "Fix NPE", "committedDate": "2020-05-04T05:56:08Z", "type": "forcePushed"}]}